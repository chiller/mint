


<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>jsPlumb/dist/js/jquery.jsPlumb-1.5.2-min.js at master Â· sporritt/jsPlumb</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png" />
    <link rel="logo" type="image/svg" href="https://github-media-downloads.s3.amazonaws.com/github-logo.svg" />
    <meta property="og:image" content="https://github.global.ssl.fastly.net/images/modules/logos_page/Octocat.png">
    <meta name="hostname" content="github-fe122-cp1-prd.iad.github.net">
    <meta name="ruby" content="ruby 1.9.3p194-tcs-github-tcmalloc (2012-05-25, TCS patched 2012-05-27, GitHub v1.0.36) [x86_64-linux]">
    <link rel="assets" href="https://github.global.ssl.fastly.net/">
    <link rel="xhr-socket" href="/_sockets" />
    
    


    <meta name="msapplication-TileImage" content="/windows-tile.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="selected-link" value="repo_source" data-pjax-transient />
    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="5985264C:12D7:1220072:52360DF3" name="octolytics-dimension-request_id" /><meta content="154856" name="octolytics-actor-id" /><meta content="chiller" name="octolytics-actor-login" /><meta content="daad56344208573f706788ba8d0152fe9578f95c1d72cdfe88839f503d6ae319" name="octolytics-actor-hash" />
    

    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <meta content="authenticity_token" name="csrf-param" />
<meta content="t70VlqD71JoShDKJsTCsuhX+Fze9MF41Kz12plBkSZ4=" name="csrf-token" />

    <link href="https://github.global.ssl.fastly.net/assets/github-1e4633e47f8b05996d0513eaccf94c2ff0a6a243.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://github.global.ssl.fastly.net/assets/github2-a7192edf5255443a92680441f722274ed90a93eb.css" media="all" rel="stylesheet" type="text/css" />
    

    

      <script src="https://github.global.ssl.fastly.net/assets/frameworks-f86a2975a82dceee28e5afe598d1ebbfd7109d79.js" type="text/javascript"></script>
      <script src="https://github.global.ssl.fastly.net/assets/github-15065af1aa90bd5052d5662dc59db098b822916e.js" type="text/javascript"></script>
      
      <meta http-equiv="x-pjax-version" content="150dbead5d79b419ec8e5c73a14151c0">

        <link data-pjax-transient rel='permalink' href='/sporritt/jsPlumb/blob/f5480c334ce356c68682eef3b44991cfc87528dc/dist/js/jquery.jsPlumb-1.5.2-min.js'>
  <meta property="og:title" content="jsPlumb"/>
  <meta property="og:type" content="githubog:gitrepository"/>
  <meta property="og:url" content="https://github.com/sporritt/jsPlumb"/>
  <meta property="og:image" content="https://github.global.ssl.fastly.net/images/gravatars/gravatar-user-420.png"/>
  <meta property="og:site_name" content="GitHub"/>
  <meta property="og:description" content="jsPlumb - jQuery/MooTools/YUI3 Javascript library that lets you connect parts of your UI together."/>

  <meta name="description" content="jsPlumb - jQuery/MooTools/YUI3 Javascript library that lets you connect parts of your UI together." />

  <meta content="262720" name="octolytics-dimension-user_id" /><meta content="sporritt" name="octolytics-dimension-user_login" /><meta content="2990812" name="octolytics-dimension-repository_id" /><meta content="sporritt/jsPlumb" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="2990812" name="octolytics-dimension-repository_network_root_id" /><meta content="sporritt/jsPlumb" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/sporritt/jsPlumb/commits/master.atom" rel="alternate" title="Recent Commits to jsPlumb:master" type="application/atom+xml" />

  </head>


  <body class="logged_in  env-production macintosh vis-public page-blob">
    <div class="wrapper">
      
      
      


      <div class="header header-logged-in true">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/">
  <span class="mega-octicon octicon-mark-github"></span>
</a>

    <div class="divider-vertical"></div>

    
    <a href="/notifications" class="notification-indicator tooltipped downwards" data-gotokey="n" title="You have no unread notifications">
        <span class="mail-status all-read"></span>
</a>    <div class="divider-vertical"></div>


      <div class="command-bar js-command-bar  in-repository">
          <form accept-charset="UTF-8" action="/search" class="command-bar-form" id="top_search_form" method="get">

<input type="text" data-hotkey="/ s" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off"
    
    data-username="chiller"
      data-repo="sporritt/jsPlumb"
      data-branch="master"
      data-sha="b59701c512c6c20db74f39136114e414da73afab"
  >

    <input type="hidden" name="nwo" value="sporritt/jsPlumb" />

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item js-this-repository-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked" />
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item js-all-repositories-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global" />
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="octicon help tooltipped downwards" title="Show command bar help">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

</form>
        <ul class="top-nav">
          <li class="explore"><a href="/explore">Explore</a></li>
            <li><a href="https://gist.github.com">Gist</a></li>
            <li><a href="/blog">Blog</a></li>
          <li><a href="https://help.github.com">Help</a></li>
        </ul>
      </div>

    


  <ul id="user-links">
    <li>
      <a href="/chiller" class="name">
        <img height="20" src="https://2.gravatar.com/avatar/e43ecb061fccaa51d09688c9f6075a50?d=https%3A%2F%2Fidenticons.github.com%2Fbda629a0b4c36f0ab597668335ec1081.png&amp;s=140" width="20" /> chiller
      </a>
    </li>

      <li>
        <a href="/new" id="new_repo" class="tooltipped downwards" title="Create a new repo" aria-label="Create a new repo">
          <span class="octicon octicon-repo-create"></span>
        </a>
      </li>

      <li>
        <a href="/settings/profile" id="account_settings"
          class="tooltipped downwards"
          aria-label="Account settings "
          title="Account settings ">
          <span class="octicon octicon-tools"></span>
        </a>
      </li>
      <li>
        <a class="tooltipped downwards" href="/logout" data-method="post" id="logout" title="Sign out" aria-label="Sign out">
          <span class="octicon octicon-log-out"></span>
        </a>
      </li>

  </ul>

<div class="js-new-dropdown-contents hidden">
  

<ul class="dropdown-menu">
  <li>
    <a href="/new"><span class="octicon octicon-repo-create"></span> New repository</a>
  </li>
  <li>
    <a href="/organizations/new"><span class="octicon octicon-organization"></span> New organization</a>
  </li>



    <li class="section-title">
      <span title="sporritt/jsPlumb">This repository</span>
    </li>
    <li>
      <a href="/sporritt/jsPlumb/issues/new"><span class="octicon octicon-issue-opened"></span> New issue</a>
    </li>
</ul>

</div>


    
  </div>
</div>

      

      

<div class="flash-global flash-warn">
<div class="container">



    <h2>
      We are having a problem billing your credit card. Please <a href="/account/billing">enter a new card</a>
      or call your credit card provider for details on why the transaction failed.
    </h2>
    <p>You can contact <a href="mailto:support@github.com">support@github.com</a> with any questions.</p>

      <p>
        We'll try billing your account again on December 31, 2012.
        Please resolve this issue soon for uninterrupted service.
      </p>










</div>
</div>



          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        

<ul class="pagehead-actions">

    <li class="subscription">
      <form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="t70VlqD71JoShDKJsTCsuhX+Fze9MF41Kz12plBkSZ4=" /></div>  <input id="repository_id" name="repository_id" type="hidden" value="2990812" />

    <div class="select-menu js-menu-container js-select-menu">
        <a class="social-count js-social-count" href="/sporritt/jsPlumb/watchers">
          116
        </a>
      <span class="minibutton select-menu-button with-count js-menu-target" role="button" tabindex="0">
        <span class="js-select-button">
          <span class="octicon octicon-eye-watch"></span>
          Watch
        </span>
      </span>

      <div class="select-menu-modal-holder">
        <div class="select-menu-modal subscription-menu-modal js-menu-content">
          <div class="select-menu-header">
            <span class="select-menu-title">Notification status</span>
            <span class="octicon octicon-remove-close js-menu-close"></span>
          </div> <!-- /.select-menu-header -->

          <div class="select-menu-list js-navigation-container" role="menu">

            <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                <h4>Not watching</h4>
                <span class="description">You only receive notifications for discussions in which you participate or are @mentioned.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye-watch"></span>
                  Watch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                <h4>Watching</h4>
                <span class="description">You receive notifications for all discussions in this repository.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye-unwatch"></span>
                  Unwatch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_ignore" name="do" type="radio" value="ignore" />
                <h4>Ignoring</h4>
                <span class="description">You do not receive any notifications for discussions in this repository.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-mute"></span>
                  Stop ignoring
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

          </div> <!-- /.select-menu-list -->

        </div> <!-- /.select-menu-modal -->
      </div> <!-- /.select-menu-modal-holder -->
    </div> <!-- /.select-menu -->

</form>
    </li>

  <li>
  
<div class="js-toggler-container js-social-container starring-container ">
  <a href="/sporritt/jsPlumb/unstar" class="minibutton with-count js-toggler-target star-button starred upwards" title="Unstar this repo" data-remote="true" data-method="post" rel="nofollow">
    <span class="octicon octicon-star-delete"></span><span class="text">Unstar</span>
  </a>
  <a href="/sporritt/jsPlumb/star" class="minibutton with-count js-toggler-target star-button unstarred upwards" title="Star this repo" data-remote="true" data-method="post" rel="nofollow">
    <span class="octicon octicon-star"></span><span class="text">Star</span>
  </a>
  <a class="social-count js-social-count" href="/sporritt/jsPlumb/stargazers">1,121</a>
</div>

  </li>


        <li>
          <a href="/sporritt/jsPlumb/fork" class="minibutton with-count js-toggler-target fork-button lighter upwards" title="Fork this repo" rel="facebox nofollow">
            <span class="octicon octicon-git-branch-create"></span><span class="text">Fork</span>
          </a>
          <a href="/sporritt/jsPlumb/network" class="social-count">237</a>
        </li>


</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="repo-label"><span>public</span></span>
          <span class="mega-octicon octicon-repo"></span>
          <span class="author">
            <a href="/sporritt" class="url fn" itemprop="url" rel="author"><span itemprop="title">sporritt</span></a></span
          ><span class="repohead-name-divider">/</span><strong
          ><a href="/sporritt/jsPlumb" class="js-current-repository js-repo-home-link">jsPlumb</a></strong>

          <span class="page-context-loader">
            <img alt="Octocat-spinner-32" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">

      <div class="repository-with-sidebar repo-container ">

        <div class="repository-sidebar">
            

<div class="repo-nav repo-nav-full js-repository-container-pjax js-octicon-loaders">
  <div class="repo-nav-contents">
    <ul class="repo-menu">
      <li class="tooltipped leftwards" title="Code">
        <a href="/sporritt/jsPlumb" aria-label="Code" class="js-selected-navigation-item selected" data-gotokey="c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_tags repo_branches /sporritt/jsPlumb">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

        <li class="tooltipped leftwards" title="Issues">
          <a href="/sporritt/jsPlumb/issues" aria-label="Issues" class="js-selected-navigation-item js-disable-pjax" data-gotokey="i" data-selected-links="repo_issues /sporritt/jsPlumb/issues">
            <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
            <span class='counter'>21</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>

      <li class="tooltipped leftwards" title="Pull Requests"><a href="/sporritt/jsPlumb/pulls" aria-label="Pull Requests" class="js-selected-navigation-item js-disable-pjax" data-gotokey="p" data-selected-links="repo_pulls /sporritt/jsPlumb/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class='counter'>1</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>


        <li class="tooltipped leftwards" title="Wiki">
          <a href="/sporritt/jsPlumb/wiki" aria-label="Wiki" class="js-selected-navigation-item " data-pjax="true" data-selected-links="repo_wiki /sporritt/jsPlumb/wiki">
            <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
            <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>
    </ul>
    <div class="repo-menu-separator"></div>
    <ul class="repo-menu">

      <li class="tooltipped leftwards" title="Pulse">
        <a href="/sporritt/jsPlumb/pulse" aria-label="Pulse" class="js-selected-navigation-item " data-pjax="true" data-selected-links="pulse /sporritt/jsPlumb/pulse">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped leftwards" title="Graphs">
        <a href="/sporritt/jsPlumb/graphs" aria-label="Graphs" class="js-selected-navigation-item " data-pjax="true" data-selected-links="repo_graphs repo_contributors /sporritt/jsPlumb/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped leftwards" title="Network">
        <a href="/sporritt/jsPlumb/network" aria-label="Network" class="js-selected-navigation-item js-disable-pjax" data-selected-links="repo_network /sporritt/jsPlumb/network">
          <span class="octicon octicon-git-branch"></span> <span class="full-word">Network</span>
          <img alt="Octocat-spinner-32" class="mini-loader" height="16" src="https://github.global.ssl.fastly.net/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
    </ul>


  </div>
</div>

            <div class="only-with-full-nav">
              

  

<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/sporritt/jsPlumb.git" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/sporritt/jsPlumb.git" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>

  

<div class="clone-url "
  data-protocol-type="ssh"
  data-url="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone">
  <h3><strong>SSH</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="git@github.com:sporritt/jsPlumb.git" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="git@github.com:sporritt/jsPlumb.git" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>

  

<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><strong>Subversion</strong> checkout URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/sporritt/jsPlumb" readonly="readonly">

    <span class="js-zeroclipboard url-box-clippy minibutton zeroclipboard-button" data-clipboard-text="https://github.com/sporritt/jsPlumb" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a>,
      <a href="#" class="js-clone-selector" data-protocol="ssh">SSH</a>,
      or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <span class="octicon help tooltipped upwards" title="Get help on which URL is right for you.">
    <a href="https://help.github.com/articles/which-remote-url-should-i-use">
    <span class="octicon octicon-question"></span>
    </a>
  </span>
</p>

  <a href="github-mac://openRepo/https://github.com/sporritt/jsPlumb" class="minibutton sidebar-button">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>


                <a href="/sporritt/jsPlumb/archive/master.zip"
                   class="minibutton sidebar-button"
                   title="Download this repository as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
            </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          


<!-- blob contrib key: blob_contributors:v21:be097ade11857ddd1a31a399e85bb9aa -->
<!-- blob contrib frag key: views10/v8/blob_contributors:v21:be097ade11857ddd1a31a399e85bb9aa -->

<p title="This is a placeholder element" class="js-history-link-replace hidden"></p>

<a href="/sporritt/jsPlumb/find/master" data-pjax data-hotkey="t" style="display:none">Show File Finder</a>

<div class="file-navigation">
  


<div class="select-menu js-menu-container js-select-menu" >
  <span class="minibutton select-menu-button js-menu-target" data-hotkey="w"
    data-master-branch="master"
    data-ref="master"
    role="button" aria-label="Switch branches or tags" tabindex="0">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-remove-close js-menu-close"></span>
      </div> <!-- /.select-menu-header -->

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div><!-- /.select-menu-tabs -->
      </div><!-- /.select-menu-filters -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/dev/1.5.0/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="dev/1.5.0" data-skip-pjax="true" rel="nofollow" title="dev/1.5.0">dev/1.5.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/dev/1.5.1/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="dev/1.5.1" data-skip-pjax="true" rel="nofollow" title="dev/1.5.1">dev/1.5.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/dev/1.5.2/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="dev/1.5.2" data-skip-pjax="true" rel="nofollow" title="dev/1.5.2">dev/1.5.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/dev/1.5.3/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="dev/1.5.3" data-skip-pjax="true" rel="nofollow" title="dev/1.5.3">dev/1.5.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/dev/use_more_dom/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="dev/use_more_dom" data-skip-pjax="true" rel="nofollow" title="dev/use_more_dom">dev/use_more_dom</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item selected">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/master/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="master" data-skip-pjax="true" rel="nofollow" title="master">master</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/blob/no_library_adapter/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="no_library_adapter" data-skip-pjax="true" rel="nofollow" title="no_library_adapter">no_library_adapter</a>
            </div> <!-- /.select-menu-item -->
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/before_archive_removal/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="before_archive_removal" data-skip-pjax="true" rel="nofollow" title="before_archive_removal">before_archive_removal</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.5.2/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.5.2" data-skip-pjax="true" rel="nofollow" title="1.5.2">1.5.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.5.1/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.5.1" data-skip-pjax="true" rel="nofollow" title="1.5.1">1.5.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.5.0/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.5.0" data-skip-pjax="true" rel="nofollow" title="1.5.0">1.5.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.4.1/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.4.1" data-skip-pjax="true" rel="nofollow" title="1.4.1">1.4.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.4.0/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.4.0" data-skip-pjax="true" rel="nofollow" title="1.4.0">1.4.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.16/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.16" data-skip-pjax="true" rel="nofollow" title="1.3.16">1.3.16</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.15/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.15" data-skip-pjax="true" rel="nofollow" title="1.3.15">1.3.15</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.14/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.14" data-skip-pjax="true" rel="nofollow" title="1.3.14">1.3.14</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.13/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.13" data-skip-pjax="true" rel="nofollow" title="1.3.13">1.3.13</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.12/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.12" data-skip-pjax="true" rel="nofollow" title="1.3.12">1.3.12</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.11/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.11" data-skip-pjax="true" rel="nofollow" title="1.3.11">1.3.11</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.10/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.10" data-skip-pjax="true" rel="nofollow" title="1.3.10">1.3.10</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.9/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.9" data-skip-pjax="true" rel="nofollow" title="1.3.9">1.3.9</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.8/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.8" data-skip-pjax="true" rel="nofollow" title="1.3.8">1.3.8</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.7/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.7" data-skip-pjax="true" rel="nofollow" title="1.3.7">1.3.7</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.6/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.6" data-skip-pjax="true" rel="nofollow" title="1.3.6">1.3.6</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.5/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.5" data-skip-pjax="true" rel="nofollow" title="1.3.5">1.3.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/sporritt/jsPlumb/tree/1.3.4/dist/js/jquery.jsPlumb-1.5.2-min.js" class="js-navigation-open select-menu-item-text js-select-button-text css-truncate-target" data-name="1.3.4" data-skip-pjax="true" rel="nofollow" title="1.3.4">1.3.4</a>
            </div> <!-- /.select-menu-item -->
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

    </div> <!-- /.select-menu-modal -->
  </div> <!-- /.select-menu-modal-holder -->
</div> <!-- /.select-menu -->

  <div class="breadcrumb">
    <span class='repo-root js-repo-root'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/sporritt/jsPlumb" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">jsPlumb</span></a></span></span><span class="separator"> / </span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/sporritt/jsPlumb/tree/master/dist" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">dist</span></a></span><span class="separator"> / </span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/sporritt/jsPlumb/tree/master/dist/js" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">js</span></a></span><span class="separator"> / </span><strong class="final-path">jquery.jsPlumb-1.5.2-min.js</strong> <span class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="dist/js/jquery.jsPlumb-1.5.2-min.js" data-copied-hint="copied!" title="copy to clipboard"><span class="octicon octicon-clippy"></span></span>
  </div>
</div>


  
  <div class="commit file-history-tease">
    <img class="main-avatar" height="24" src="https://0.gravatar.com/avatar/f6b970f1be01c44087067a4100150844?d=https%3A%2F%2Fidenticons.github.com%2F3640062de5d88bdf17d55105b9eee3f8.png&amp;s=140" width="24" />
    <span class="author"><a href="/sporritt" rel="author">sporritt</a></span>
    <time class="js-relative-date" datetime="2013-08-23T00:39:23-07:00" title="2013-08-23 00:39:23">August 23, 2013</time>
    <div class="commit-title">
        <a href="/sporritt/jsPlumb/commit/b42599d5a0454a5cf1b439d4a2356267e65977e1" class="message" data-pjax="true" title="1.5.2 rc3">1.5.2 rc3</a>
    </div>

    <div class="participation">
      <p class="quickstat"><a href="#blob_contributors_box" rel="facebox"><strong>1</strong> contributor</a></p>
      
    </div>
    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list">
        <li class="facebox-user-list-item">
          <img height="24" src="https://0.gravatar.com/avatar/f6b970f1be01c44087067a4100150844?d=https%3A%2F%2Fidenticons.github.com%2F3640062de5d88bdf17d55105b9eee3f8.png&amp;s=140" width="24" />
          <a href="/sporritt">sporritt</a>
        </li>
      </ul>
    </div>
  </div>


<div id="files" class="bubble">
  <div class="file">
    <div class="meta">
      <div class="info">
        <span class="icon"><b class="octicon octicon-file-text"></b></span>
        <span class="mode" title="File Mode">file</span>
          <span>6 lines (6 sloc)</span>
        <span>162.964 kb</span>
      </div>
      <div class="actions">
        <div class="button-group">
                <a class="minibutton tooltipped leftwards"
                   title="Clicking this button will automatically fork this project so you can edit the file"
                   href="/sporritt/jsPlumb/edit/master/dist/js/jquery.jsPlumb-1.5.2-min.js"
                   data-method="post" rel="nofollow">Edit</a>
          <a href="/sporritt/jsPlumb/raw/master/dist/js/jquery.jsPlumb-1.5.2-min.js" class="button minibutton " id="raw-url">Raw</a>
            <a href="/sporritt/jsPlumb/blame/master/dist/js/jquery.jsPlumb-1.5.2-min.js" class="button minibutton ">Blame</a>
          <a href="/sporritt/jsPlumb/commits/master/dist/js/jquery.jsPlumb-1.5.2-min.js" class="button minibutton " rel="nofollow">History</a>
        </div><!-- /.button-group -->
            <a class="minibutton danger empty-icon tooltipped downwards"
               href="/sporritt/jsPlumb/delete/master/dist/js/jquery.jsPlumb-1.5.2-min.js"
               title="Fork this project and delete file"
               data-method="post" data-test-id="delete-blob-file" rel="nofollow">
            Delete
          </a>
      </div><!-- /.actions -->

    </div>
        <div class="blob-wrapper data type-javascript js-blob-data">
        <table class="file-code file-diff">
          <tr class="file-code-line">
            <td class="blob-line-nums">
              <span id="L1" rel="#L1">1</span>
<span id="L2" rel="#L2">2</span>
<span id="L3" rel="#L3">3</span>
<span id="L4" rel="#L4">4</span>
<span id="L5" rel="#L5">5</span>
<span id="L6" rel="#L6">6</span>

            </td>
            <td class="blob-line-code">
                  <div class='line' id='LC1'>!function(){&quot;undefined&quot;==typeof Math.sgn&amp;&amp;(Math.sgn=function(a){return 0==a?0:a&gt;0?1:-1});var a={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return a.x*b.x+a.y*b.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,b){return{x:a.x*b,y:a.y*b}}},b=64,c=Math.pow(2,-b-1),d=function(b,c){for(var d=[],e=f(b,c),h=c.length-1,i=2*h-1,j=g(e,i,d,0),k=a.subtract(b,c[0]),m=a.square(k),n=0,o=0;j&gt;o;o++){k=a.subtract(b,l(c,h,d[o],null,null));var p=a.square(k);m&gt;p&amp;&amp;(m=p,n=d[o])}return k=a.subtract(b,c[h]),p=a.square(k),m&gt;p&amp;&amp;(m=p,n=1),{location:n,distance:m}},e=function(a,b){var c=d(a,b);return{point:l(b,b.length-1,c.location,null,null),location:c.location}},f=function(b,c){for(var d=c.length-1,e=2*d-1,f=[],g=[],h=[],i=[],k=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],l=0;d&gt;=l;l++)f[l]=a.subtract(c[l],b);for(var l=0;d-1&gt;=l;l++)g[l]=a.subtract(c[l+1],c[l]),g[l]=a.scale(g[l],3);for(var m=0;d-1&gt;=m;m++)for(var n=0;d&gt;=n;n++)h[m]||(h[m]=[]),h[m][n]=a.dotProduct(g[m],f[n]);for(l=0;e&gt;=l;l++)i[l]||(i[l]=[]),i[l].y=0,i[l].x=parseFloat(l)/e;for(var o=d,p=d-1,q=0;o+p&gt;=q;q++){var r=Math.max(0,q-p),s=Math.min(q,o);for(l=r;s&gt;=l;l++)j=q-l,i[l+j].y+=h[j][l]*k[j][l]}return i},g=function(a,c,d,e){var f,j,m=[],n=[],o=[],p=[];switch(h(a,c)){case 0:return 0;case 1:if(e&gt;=b)return d[0]=(a[0].x+a[c].x)/2,1;if(i(a,c))return d[0]=k(a,c),1}l(a,c,.5,m,n),f=g(m,c,o,e+1),j=g(n,c,p,e+1);for(var q=0;f&gt;q;q++)d[q]=o[q];for(var q=0;j&gt;q;q++)d[q+f]=p[q];return f+j},h=function(a,b){var c,d,e=0;c=d=Math.sgn(a[0].y);for(var f=1;b&gt;=f;f++)c=Math.sgn(a[f].y),c!=d&amp;&amp;e++,d=c;return e},i=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;i=a[0].y-a[b].y,j=a[b].x-a[0].x,k=a[0].x*a[b].y-a[b].x*a[0].y;for(var t=max_distance_below=0,u=1;b&gt;u;u++){var v=i*a[u].x+j*a[u].y+k;v&gt;t?t=v:max_distance_below&gt;v&amp;&amp;(max_distance_below=v)}return n=0,o=1,p=0,q=i,r=j,s=k-t,l=n*r-q*o,m=1/l,e=(o*s-r*p)*m,q=i,r=j,s=k-max_distance_below,l=n*r-q*o,m=1/l,f=(o*s-r*p)*m,g=Math.min(e,f),h=Math.max(e,f),d=h-g,c&gt;d?1:0},k=function(a,b){var c=1,d=0,e=a[b].x-a[0].x,f=a[b].y-a[0].y,g=a[0].x-0,h=a[0].y-0,i=e*d-f*c,j=1/i,k=(e*h-f*g)*j;return 0+c*k},l=function(a,b,c,d,e){for(var f=[[]],g=0;b&gt;=g;g++)f[0][g]=a[g];for(var h=1;b&gt;=h;h++)for(var g=0;b-h&gt;=g;g++)f[h]||(f[h]=[]),f[h][g]||(f[h][g]={}),f[h][g].x=(1-c)*f[h-1][g].x+c*f[h-1][g+1].x,f[h][g].y=(1-c)*f[h-1][g].y+c*f[h-1][g+1].y;if(null!=d)for(g=0;b&gt;=g;g++)d[g]=f[g][0];if(null!=e)for(g=0;b&gt;=g;g++)e[g]=f[b-g][g];return f[b][0]},m={},n=function(a){var b=m[a];if(!b){b=[];var c=function(){return function(b){return Math.pow(b,a)}},d=function(){return function(b){return Math.pow(1-b,a)}},e=function(a){return function(){return a}},f=function(){return function(a){return a}},g=function(){return function(a){return 1-a}},h=function(a){return function(b){for(var c=1,d=0;d&lt;a.length;d++)c*=a[d](b);return c}};b.push(new c);for(var i=1;a&gt;i;i++){for(var j=[new e(a)],k=0;a-i&gt;k;k++)j.push(new f);for(var k=0;i&gt;k;k++)j.push(new g);b.push(new h(j))}b.push(new d),m[a]=b}return b},o=function(a,b){for(var c=n(a.length-1),d=0,e=0,f=0;f&lt;a.length;f++)d+=a[f].x*c[f](b),e+=a[f].y*c[f](b);return{x:d,y:e}},p=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},q=function(a){return a[0].x==a[1].x&amp;&amp;a[0].y==a[1].y},r=function(a,b,c){if(q(a))return{point:a[0],location:b};for(var d=o(a,b),e=0,f=b,g=c&gt;0?1:-1,h=null;e&lt;Math.abs(c);)f+=.005*g,h=o(a,f),e+=p(h,d),d=h;return{point:h,location:f}},s=function(a){if(q(a))return 0;for(var b=o(a,0),c=0,d=0,e=1,f=null;1&gt;d;)d+=.005*e,f=o(a,d),c+=p(f,b),b=f;return c},t=function(a,b,c){return r(a,b,c).point},u=function(a,b,c){return r(a,b,c).location},v=function(a,b){var c=o(a,b),d=o(a.slice(0,a.length-1),b),e=d.y-c.y,f=d.x-c.x;return 0==e?1/0:Math.atan(e/f)},w=function(a,b,c){var d=r(a,b,c);return d.location&gt;1&amp;&amp;(d.location=1),d.location&lt;0&amp;&amp;(d.location=0),v(a,d.location)},x=function(a,b,c,d){d=null==d?0:d;var e=r(a,b,d),f=v(a,e.location),g=Math.atan(-1/f),h=c/2*Math.sin(g),i=c/2*Math.cos(g);return[{x:e.point.x+i,y:e.point.y+h},{x:e.point.x-i,y:e.point.y-h}]};window.jsBezier={distanceFromCurve:d,gradientAtPoint:v,gradientAtPointAlongCurveFrom:w,nearestPointOnCurve:e,pointOnCurve:o,pointAlongCurveFrom:t,perpendicularToCurveAt:x,locationAlongCurveFrom:u,getLength:s}}(),function(){var a=function(a){return&quot;[object Array]&quot;===Object.prototype.toString.call(a)},b=function(a){return&quot;[object Number]&quot;===Object.prototype.toString.call(a)},c=function(a){return&quot;string&quot;==typeof a},d=function(a){return&quot;boolean&quot;==typeof a},e=function(a){return null==a},f=function(a){return null==a?!1:&quot;[object Object]&quot;===Object.prototype.toString.call(a)},g=function(a){return&quot;[object Date]&quot;===Object.prototype.toString.call(a)},h=function(a){return&quot;[object Function]&quot;===Object.prototype.toString.call(a)},i=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},j=function(b,c,d){return b=a(b)?b:[b.x,b.y],c=a(c)?c:[c.x,c.y],d(b,c)};jsPlumbUtil={isArray:a,isString:c,isBoolean:d,isNull:e,isObject:f,isDate:g,isFunction:h,isEmpty:i,isNumber:b,clone:function(b){if(c(b))return&quot;&quot;+b;if(d(b))return!!b;if(g(b))return new Date(b.getTime());if(h(b))return b;if(a(b)){for(var e=[],i=0;i&lt;b.length;i++)e.push(this.clone(b[i]));return e}if(f(b)){var j={};for(var k in b)j[k]=this.clone(b[k]);return j}return b},merge:function(b,e){var g=this.clone(b);for(var h in e)if(null==g[h]||c(e[h])||d(e[h]))g[h]=e[h];else if(a(e[h])){var i=[];a(g[h])&amp;&amp;i.push.apply(i,g[h]),i.push.apply(i,e[h]),g[h]=i}else if(f(e[h])){f(g[h])||(g[h]={});for(var j in e[h])g[h][j]=e[h][j]}return g},copyValues:function(a,b,c){for(var d=0;d&lt;a.length;d++)c[a[d]]=b[a[d]]},functionChain:function(a,b,c){for(var d=0;d&lt;c.length;d++){var e=c[d][0][c[d][1]].apply(c[d][0],c[d][2]);if(e===b)return e}return a},populate:function(b,d){var e=function(a){var b=a.match(/(\${.*?})/g);if(null!=b)for(var c=0;c&lt;b.length;c++){var e=d[b[c].substring(2,b[c].length-1)];null!=e&amp;&amp;(a=a.replace(b[c],e))}return a},g=function(b){if(null!=b){if(c(b))return e(b);if(a(b)){for(var d=[],h=0;h&lt;b.length;h++)d.push(g(b[h]));return d}if(f(b)){var i={};for(var j in b)i[j]=g(b[j]);return i}return b}};return g(b)},convertStyle:function(a,b){if(&quot;transparent&quot;===a)return a;var c=a,d=function(a){return 1==a.length?&quot;0&quot;+a:a},e=function(a){return d(Number(a).toString(16))},f=/(rgb[a]?\()(.*)(\))/;if(a.match(f)){var g=a.match(f)[2].split(&quot;,&quot;);c=&quot;#&quot;+e(g[0])+e(g[1])+e(g[2]),b||4!=g.length||(c+=e(g[3]))}return c},gradient:function(a,b){return j(a,b,function(a,b){return b[0]==a[0]?b[1]&gt;a[1]?1/0:-1/0:b[1]==a[1]?b[0]&gt;a[0]?0:-0:(b[1]-a[1])/(b[0]-a[0])})},normal:function(a,b){return-1/this.gradient(a,b)},lineLength:function(a,b){return j(a,b,function(a,b){return Math.sqrt(Math.pow(b[1]-a[1],2)+Math.pow(b[0]-a[0],2))})},segment:function(a,b){return j(a,b,function(a,b){return b[0]&gt;a[0]?b[1]&gt;a[1]?2:1:b[0]==a[0]?b[1]&gt;a[1]?2:1:b[1]&gt;a[1]?3:4})},theta:function(a,b){return j(a,b,function(a,b){var c=jsPlumbUtil.gradient(a,b),d=Math.atan(c),e=jsPlumbUtil.segment(a,b);return(4==e||3==e)&amp;&amp;(d+=Math.PI),0&gt;d&amp;&amp;(d+=2*Math.PI),d})},intersects:function(a,b){var c=a.x,d=a.x+a.w,e=a.y,f=a.y+a.h,g=b.x,h=b.x+b.w,i=b.y,j=b.y+b.h;return g&gt;=c&amp;&amp;d&gt;=g&amp;&amp;i&gt;=e&amp;&amp;f&gt;=i||h&gt;=c&amp;&amp;d&gt;=h&amp;&amp;i&gt;=e&amp;&amp;f&gt;=i||g&gt;=c&amp;&amp;d&gt;=g&amp;&amp;j&gt;=e&amp;&amp;f&gt;=j||h&gt;=c&amp;&amp;d&gt;=g&amp;&amp;j&gt;=e&amp;&amp;f&gt;=j||c&gt;=g&amp;&amp;h&gt;=c&amp;&amp;e&gt;=i&amp;&amp;j&gt;=e||d&gt;=g&amp;&amp;h&gt;=d&amp;&amp;e&gt;=i&amp;&amp;j&gt;=e||c&gt;=g&amp;&amp;h&gt;=c&amp;&amp;f&gt;=i&amp;&amp;j&gt;=f||d&gt;=g&amp;&amp;h&gt;=c&amp;&amp;f&gt;=i&amp;&amp;j&gt;=f},segmentMultipliers:[null,[1,-1],[1,1],[-1,1],[-1,-1]],inverseSegmentMultipliers:[null,[-1,-1],[-1,1],[1,1],[1,-1]],pointOnLine:function(a,b,c){var d=jsPlumbUtil.gradient(a,b),e=jsPlumbUtil.segment(a,b),f=c&gt;0?jsPlumbUtil.segmentMultipliers[e]:jsPlumbUtil.inverseSegmentMultipliers[e],g=Math.atan(d),h=Math.abs(c*Math.sin(g))*f[1],i=Math.abs(c*Math.cos(g))*f[0];return{x:a.x+i,y:a.y+h}},perpendicularLineTo:function(a,b,c){var d=jsPlumbUtil.gradient(a,b),e=Math.atan(-1/d),f=c/2*Math.sin(e),g=c/2*Math.cos(e);return[{x:b.x+g,y:b.y+f},{x:b.x-g,y:b.y-f}]},findWithFunction:function(a,b){if(a)for(var c=0;c&lt;a.length;c++)if(b(a[c]))return c;return-1},clampToGrid:function(a,b,c,d,e){var f=function(a,b){var c=a%b,d=Math.floor(a/b),e=c&gt;=b/2?1:0;return(d+e)*b};return[d||null==c?a:f(a,c[0]),e||null==c?b:f(b,c[1])]},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(a){return a==b})},removeWithFunction:function(a,b){var c=jsPlumbUtil.findWithFunction(a,b);return c&gt;-1&amp;&amp;a.splice(c,1),-1!=c},remove:function(a,b){var c=jsPlumbUtil.indexOf(a,b);return c&gt;-1&amp;&amp;a.splice(c,1),-1!=c},addWithFunction:function(a,b,c){-1==jsPlumbUtil.findWithFunction(a,c)&amp;&amp;a.push(b)},addToList:function(a,b,c,d){var e=a[b];return null==e&amp;&amp;(e=[],a[b]=e),e[d?&quot;unshift&quot;:&quot;push&quot;](c),e},extend:function(b,c,d,e){d=d||{},e=e||{},c=a(c)?c:[c];for(var f=0;f&lt;c.length;f++)for(var g in c[f].prototype)c[f].prototype.hasOwnProperty(g)&amp;&amp;(b.prototype[g]=c[f].prototype[g]);var h=function(a){return function(){for(var b=0;b&lt;c.length;b++)c[b].prototype[a]&amp;&amp;c[b].prototype[a].apply(this,arguments);return d[a].apply(this,arguments)}};for(var i in d)b.prototype[i]=h(i);return b},uuid:function(){return&quot;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&quot;.replace(/[xy]/g,function(a){var b=0|16*Math.random(),c=&quot;x&quot;==a?b:8|3&amp;b;return c.toString(16)})},logEnabled:!0,log:function(){if(jsPlumbUtil.logEnabled&amp;&amp;&quot;undefined&quot;!=typeof console)try{var a=arguments[arguments.length-1];console.log(a)}catch(b){}},group:function(a){jsPlumbUtil.logEnabled&amp;&amp;&quot;undefined&quot;!=typeof console&amp;&amp;console.group(a)},groupEnd:function(a){jsPlumbUtil.logEnabled&amp;&amp;&quot;undefined&quot;!=typeof console&amp;&amp;console.groupEnd(a)},time:function(a){jsPlumbUtil.logEnabled&amp;&amp;&quot;undefined&quot;!=typeof console&amp;&amp;console.time(a)},timeEnd:function(a){jsPlumbUtil.logEnabled&amp;&amp;&quot;undefined&quot;!=typeof console&amp;&amp;console.timeEnd(a)},removeElement:function(a){null!=a&amp;&amp;null!=a.parentNode&amp;&amp;a.parentNode.removeChild(a)},removeElements:function(a){for(var b=0;b&lt;a.length;b++)jsPlumbUtil.removeElement(a[b])},sizeElement:function(a,b,c,d,e){a&amp;&amp;(a.style.height=e+&quot;px&quot;,a.height=e,a.style.width=d+&quot;px&quot;,a.width=d,a.style.left=b+&quot;px&quot;,a.style.top=c+&quot;px&quot;)},wrap:function(a,b,c){return a=a||function(){},b=b||function(){},function(){var d=null;try{d=b.apply(this,arguments)}catch(e){jsPlumbUtil.log(&quot;jsPlumb function failed : &quot;+e)}if(null==c||d!==c)try{d=a.apply(this,arguments)}catch(e){jsPlumbUtil.log(&quot;wrapped function failed : &quot;+e)}return d}}},jsPlumbUtil.EventGenerator=function(){var a={},b=!1,c=[&quot;ready&quot;];this.bind=function(b,c){return jsPlumbUtil.addToList(a,b,c,!0),this},this.fire=function(d,e,f){if(!b&amp;&amp;a[d]){var g=a[d].length,h=0,i=!1,j=null;if(!this.shouldFireEvent||this.shouldFireEvent(d,e,f))for(;!i&amp;&amp;g&gt;h&amp;&amp;j!==!1;){if(-1!=jsPlumbUtil.findWithFunction(c,function(a){return a===d}))a[d][h](e,f);else try{j=a[d][h](e,f)}catch(k){jsPlumbUtil.log(&quot;jsPlumb: fire failed for event &quot;+d+&quot; : &quot;+k)}h++,(null==a||null==a[d])&amp;&amp;(i=!0)}}return this},this.unbind=function(b){return b?delete a[b]:a={},this},this.getListener=function(b){return a[b]},this.setSuspendEvents=function(a){b=a},this.isSuspendEvents=function(){return b},this.cleanupListeners=function(){for(var b in a)a[b].splice(0),delete a[b]}},jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},Function.prototype.bind||(Function.prototype.bind=function(a){if(&quot;function&quot;!=typeof this)throw new TypeError(&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;);var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&amp;&amp;a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(),function(){var a=!!document.createElement(&quot;canvas&quot;).getContext,b=!!window.SVGAngle||document.implementation.hasFeature(&quot;http://www.w3.org/TR/SVG11/feature#BasicStructure&quot;,&quot;1.1&quot;),c=function(){if(void 0===c.vml){var a=document.body.appendChild(document.createElement(&quot;div&quot;));a.innerHTML=&#39;&lt;v:shape id=&quot;vml_flag1&quot; adj=&quot;1&quot; /&gt;&#39;;var b=a.firstChild;null!=b&amp;&amp;null!=b.style?(b.style.behavior=&quot;url(#default#VML)&quot;,c.vml=b?&quot;object&quot;==typeof b.adj:!0):c.vml=!1,a.parentNode.removeChild(a)}return c.vml},d=function(a){var b={},c=[],d={},e={},f={};this.register=function(g){var h=jsPlumb.CurrentLibrary,i=h.getElementObject(g),j=a.getId(g),k=h.getOffset(i);b[j]||(b[j]=g,c.push(g),d[j]={});var l=function(b){if(b)for(var c=0;c&lt;b.childNodes.length;c++)if(3!=b.childNodes[c].nodeType&amp;&amp;8!=b.childNodes[c].nodeType){var g=h.getElementObject(b.childNodes[c]),i=a.getId(b.childNodes[c],null,!0);if(i&amp;&amp;e[i]&amp;&amp;e[i]&gt;0){var m=h.getOffset(g);d[j][i]={id:i,offset:{left:m.left-k.left,top:m.top-k.top}},f[i]=j}l(b.childNodes[c])}};l(g)},this.updateOffsets=function(b){var c=jsPlumb.CurrentLibrary,e=c.getElementObject(b),g=c.getDOMElement(e),h=a.getId(g),i=d[h],j=c.getOffset(e);if(i)for(var k in i){var l=c.getElementObject(k),m=c.getOffset(l);d[h][k]={id:k,offset:{left:m.left-j.left,top:m.top-j.top}},f[k]=h}},this.endpointAdded=function(c){var g=jsPlumb.CurrentLibrary,h=document.body,i=a.getId(c),j=g.getElementObject(c),k=jsPlumb.CurrentLibrary.getOffset(j),l=c.parentNode;for(e[i]=e[i]?e[i]+1:1;null!=l&amp;&amp;l!=h;){var m=a.getId(l,null,!0);if(m&amp;&amp;b[m]){var n=g.getElementObject(l),o=g.getOffset(n);null==d[m][i]&amp;&amp;(d[m][i]={id:i,offset:{left:k.left-o.left,top:k.top-o.top}},f[i]=m);break}l=l.parentNode}},this.endpointDeleted=function(a){if(e[a.elementId]&amp;&amp;(e[a.elementId]--,e[a.elementId]&lt;=0))for(var b in d)d[b]&amp;&amp;(delete d[b][a.elementId],delete f[a.elementId])},this.changeId=function(a,b){d[b]=d[a],d[a]={},f[b]=f[a],f[a]=null},this.getElementsForDraggable=function(a){return d[a]},this.elementRemoved=function(a){var b=f[a];b&amp;&amp;(delete d[b][a],delete f[a])},this.reset=function(){b={},c=[],d={},e={}}};window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}}),window.jsPlumbAdapter={headless:!1,getAttribute:function(a,b){return a.getAttribute(b)},setAttribute:function(a,b,c){a.setAttribute(b,c)},appendToRoot:function(a){document.body.appendChild(a)},getRenderModes:function(){return[&quot;canvas&quot;,&quot;svg&quot;,&quot;vml&quot;]},isRenderModeAvailable:function(d){return{canvas:a,svg:b,vml:c()}[d]},getDragManager:function(a){return new d(a)},setRenderMode:function(a){var b;if(a){a=a.toLowerCase();var c=this.isRenderModeAvailable(&quot;canvas&quot;),d=this.isRenderModeAvailable(&quot;svg&quot;),e=this.isRenderModeAvailable(&quot;vml&quot;);&quot;svg&quot;===a?d?b=&quot;svg&quot;:c?b=&quot;canvas&quot;:e&amp;&amp;(b=&quot;vml&quot;):&quot;canvas&quot;===a&amp;&amp;c?b=&quot;canvas&quot;:e&amp;&amp;(b=&quot;vml&quot;)}return b}}}(),function(){var a=jsPlumbUtil,b=function(a,b){y.CurrentLibrary.addClass(d(a),b)},c=function(a,b){y.CurrentLibrary.removeClass(d(a),b)},d=function(a){return y.CurrentLibrary.getElementObject(a)},e=function(a){return y.CurrentLibrary.getDOMElement(a)},f=function(a,b){var c=y.CurrentLibrary.getOffset(d(a));if(null!=b){var e=b.getZoom();return{left:c.left/e,top:c.top/e}}return c},g=function(a){return y.CurrentLibrary.getSize(d(a))},h=function(){return&quot;&quot;+(new Date).getTime()},i=function(a){if(a._jsPlumb.paintStyle&amp;&amp;a._jsPlumb.hoverPaintStyle){var b={};y.extend(b,a._jsPlumb.paintStyle),y.extend(b,a._jsPlumb.hoverPaintStyle),delete a._jsPlumb.hoverPaintStyle,b.gradient&amp;&amp;a._jsPlumb.paintStyle.fillStyle&amp;&amp;delete b.gradient,a._jsPlumb.hoverPaintStyle=b}},j=[&quot;click&quot;,&quot;dblclick&quot;,&quot;mouseenter&quot;,&quot;mouseout&quot;,&quot;mousemove&quot;,&quot;mousedown&quot;,&quot;mouseup&quot;,&quot;contextmenu&quot;],k={mouseout:&quot;mouseexit&quot;},l=function(a,b,c,d){var e=a.getAttachedElements();if(e)for(var f=0,g=e.length;g&gt;f;f++)d&amp;&amp;d==e[f]||e[f].setHover(b,!0,c)},m=function(a){return null==a?null:a.split(&quot; &quot;)},n=function(b,c,d){if(b.getDefaultType){for(var e=b.getTypeDescriptor(),f=a.merge({},b.getDefaultType()),g=0,h=b._jsPlumb.types.length;h&gt;g;g++)f=a.merge(f,b._jsPlumb.instance.getType(b._jsPlumb.types[g],e));c&amp;&amp;(f=a.populate(f,c)),b.applyType(f,d),d||b.repaint()}},o=window.jsPlumbUIComponent=function(b){jsPlumbUtil.EventGenerator.apply(this,arguments);var c=this,d=arguments,e=c.idPrefix,f=e+(new Date).getTime(),g=y.CurrentLibrary;if(this._jsPlumb={instance:b._jsPlumb,parameters:b.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:b.beforeDetach,beforeDrop:b.beforeDrop,overlayPlacements:[],hoverClass:b.hoverClass||b._jsPlumb.Defaults.HoverClass||y.Defaults.HoverClass,types:[]},this.getId=function(){return f},b.events)for(var h in b.events)c.bind(h,b.events[h]);this.clone=function(){var a={};return this.constructor.apply(a,d),a}.bind(this),this.isDetachAllowed=function(b){var c=!0;if(this._jsPlumb.beforeDetach)try{c=this._jsPlumb.beforeDetach(b)}catch(d){a.log(&quot;jsPlumb: beforeDetach callback failed&quot;,d)}return c},this.isDropAllowed=function(b,c,d,e,f){var g=this._jsPlumb.instance.checkCondition(&quot;beforeDrop&quot;,{sourceId:b,targetId:c,scope:d,connection:e,dropEndpoint:f});if(this._jsPlumb.beforeDrop)try{g=this._jsPlumb.beforeDrop({sourceId:b,targetId:c,scope:d,connection:e,dropEndpoint:f})}catch(h){a.log(&quot;jsPlumb: beforeDrop callback failed&quot;,h)}return g};var i=[],l=function(a,b,c){i.push([a,b,c]),a.bind(b,c)},m=[],n=function(a,b,c){var d=k[c]||c,e=function(a){b.fire(d,b,a)};m.push([a,c,e]),g.bind(a,c,e)},o=function(a,b,c){k[b]||b,g.unbind(a,b,c)};this.bindListeners=function(a,b,c){l(a,&quot;click&quot;,function(a,c){b.fire(&quot;click&quot;,b,c)}),l(a,&quot;dblclick&quot;,function(a,c){b.fire(&quot;dblclick&quot;,b,c)}),l(a,&quot;contextmenu&quot;,function(a,c){b.fire(&quot;contextmenu&quot;,b,c)}),l(a,&quot;mouseenter&quot;,function(a,d){b.isHover()||(c(!0),b.fire(&quot;mouseenter&quot;,b,d))}),l(a,&quot;mouseexit&quot;,function(a,d){b.isHover()&amp;&amp;(c(!1),b.fire(&quot;mouseexit&quot;,b,d))}),l(a,&quot;mousedown&quot;,function(a,c){b.fire(&quot;mousedown&quot;,b,c)}),l(a,&quot;mouseup&quot;,function(a,c){b.fire(&quot;mouseup&quot;,b,c)})},this.unbindListeners=function(){for(var a=0;a&lt;i.length;a++){var b=i[a];b[0].unbind(b[1],b[2])}i=null},this.attachListeners=function(a,b){for(var c=0,d=j.length;d&gt;c;c++)n(a,b,j[c])},this.detachListeners=function(){for(var a=0;a&lt;m.length;a++)o(m[a][0],m[a][1],m[a][2]);m=null},this.reattachListenersForElement=function(a){if(arguments.length&gt;1){for(var b=0,c=j.length;c&gt;b;b++)o(a,j[b]);for(b=1,c=arguments.length;c&gt;b;b++)this.attachListeners(a,arguments[b])}}};jsPlumbUtil.extend(o,jsPlumbUtil.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(a,b){this._jsPlumb.parameters[a]=b},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},addClass:function(a){null!=this.canvas&amp;&amp;b(this.canvas,a)},removeClass:function(a){null!=this.canvas&amp;&amp;c(this.canvas,a)},setType:function(a,b,c){this._jsPlumb.types=m(a)||[],n(this,b,c)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,b){n(this,a,b)},hasType:function(a){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,a)},addType:function(a,b,c){var d=m(a),e=!1;if(null!=d){for(var f=0,g=d.length;g&gt;f;f++)this.hasType(d[f])||(this._jsPlumb.types.push(d[f]),e=!0);e&amp;&amp;n(this,b,c)}},removeType:function(b,c){var d=m(b),e=!1,f=function(b){var c=a.indexOf(this._jsPlumb.types,b);return-1!=c?(this._jsPlumb.types.splice(c,1),!0):!1}.bind(this);if(null!=d){for(var g=0,h=d.length;h&gt;g;g++)e=f(d[g])||e;e&amp;&amp;n(this,null,c)}},toggleType:function(a,b,c){var d=m(a);if(null!=d){for(var e=0,f=d.length;f&gt;e;e++){var g=jsPlumbUtil.indexOf(this._jsPlumb.types,d[e]);-1!=g?this._jsPlumb.types.splice(g,1):this._jsPlumb.types.push(d[e])}n(this,b,c)}},applyType:function(a,b){if(this.setPaintStyle(a.paintStyle,b),this.setHoverPaintStyle(a.hoverPaintStyle,b),a.parameters)for(var c in a.parameters)this.setParameter(c,a.parameters[c])},setPaintStyle:function(a,b){this._jsPlumb.paintStyle=a,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,i(this),b||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(a,b){this._jsPlumb.hoverPaintStyle=a,i(this),b||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},cleanup:function(){this.unbindListeners(),this.detachListeners()},destroy:function(){this.cleanupListeners(),this.clone=null,this._jsPlumb=null},isHover:function(){return this._jsPlumb.hover},setHover:function(a,b,c){var d=y.CurrentLibrary;!this._jsPlumb||this._jsPlumb.instance.currentlyDragging||this._jsPlumb.instance.isHoverSuspended()||(this._jsPlumb.hover=a,null!=this.canvas&amp;&amp;null!=this._jsPlumb.instance.hoverClass&amp;&amp;d[a?&quot;addClass&quot;:&quot;removeClass&quot;](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverPaintStyle&amp;&amp;(this._jsPlumb.paintStyleInUse=a?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(c=c||h(),this.repaint({timestamp:c,recalc:!1}))),this.getAttachedElements&amp;&amp;!b&amp;&amp;l(this,a,h(),this))}});var p=&quot;__label&quot;,q=function(a,b){for(var c=-1,d=0,e=a._jsPlumb.overlays.length;e&gt;d;d++)if(b===a._jsPlumb.overlays[d].id){c=d;break}return c},r=function(a,b){var c={cssClass:b.cssClass,labelStyle:a.labelStyle,id:p,component:a,_jsPlumb:a._jsPlumb.instance},d=y.extend(c,b);return new(y.Overlays[a._jsPlumb.instance.getRenderMode()].Label)(d)},s=function(b,c){var d=null;if(a.isArray(c)){var e=c[0],f=y.extend({component:b,_jsPlumb:b._jsPlumb.instance},c[1]);3==c.length&amp;&amp;y.extend(f,c[2]),d=new(y.Overlays[b._jsPlumb.instance.getRenderMode()][e])(f)}else d=c.constructor==String?new(y.Overlays[b._jsPlumb.instance.getRenderMode()][c])({component:b,_jsPlumb:b._jsPlumb.instance}):c;b._jsPlumb.overlays.push(d)},t=function(a,b){var c=a.defaultOverlayKeys||[],d=b.overlays,e=function(b){return a._jsPlumb.instance.Defaults[b]||y.Defaults[b]||[]};d||(d=[]);for(var f=0,g=c.length;g&gt;f;f++)d.unshift.apply(d,e(c[f]));return d},u=window.OverlayCapableJsPlumbUIComponent=function(a){o.apply(this,arguments),this._jsPlumb.overlays=[];var b=t(this,a);if(b)for(var c=0,d=b.length;d&gt;c;c++)s(this,b[c]);if(a.label){var e=a.labelLocation||this.defaultLabelLocation||.5,f=a.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle||y.Defaults.LabelStyle;this._jsPlumb.overlays.push(r(this,{label:a.label,location:e,labelStyle:f}))}};jsPlumbUtil.extend(u,o,{applyType:function(a,b){if(this.removeAllOverlays(b),a.overlays)for(var c=0,d=a.overlays.length;d&gt;c;c++)this.addOverlay(a.overlays[c],!0)},setHover:function(a){if(this._jsPlumb&amp;&amp;!this._jsPlumb.instance.isConnectionBeingDragged())for(var b=0,c=this._jsPlumb.overlays.length;c&gt;b;b++)this._jsPlumb.overlays[b][a?&quot;addClass&quot;:&quot;removeClass&quot;](this._jsPlumb.instance.hoverClass)},addOverlay:function(a,b){s(this,a),b||this.repaint()},getOverlay:function(a){var b=q(this,a);return b&gt;=0?this._jsPlumb.overlays[b]:null},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){var b=this.getOverlay(a);b&amp;&amp;b.hide()},hideOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;b&gt;a;a++)this._jsPlumb.overlays[a].hide()},showOverlay:function(a){var b=this.getOverlay(a);b&amp;&amp;b.show()},showOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;b&gt;a;a++)this._jsPlumb.overlays[a].show()},removeAllOverlays:function(a){for(var b=0,c=this._jsPlumb.overlays.length;c&gt;b;b++)this._jsPlumb.overlays[b].cleanup&amp;&amp;this._jsPlumb.overlays[b].cleanup();this._jsPlumb.overlays.splice(0,this._jsPlumb.overlays.length),a||this.repaint()},removeOverlay:function(a){var b=q(this,a);if(-1!=b){var c=this._jsPlumb.overlays[b];c.cleanup&amp;&amp;c.cleanup(),this._jsPlumb.overlays.splice(b,1)}},removeOverlays:function(){for(var a=0,b=arguments.length;b&gt;a;a++)this.removeOverlay(arguments[a])},getLabel:function(){var a=this.getOverlay(p);return null!=a?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay(p)},setLabel:function(a){var b=this.getOverlay(p);if(b)a.constructor==String||a.constructor==Function?b.setLabel(a):(a.label&amp;&amp;b.setLabel(a.label),a.location&amp;&amp;b.setLocation(a.location));else{var c=a.constructor==String||a.constructor==Function?{label:a}:a;b=r(this,c),this._jsPlumb.overlays.push(b)}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(){for(var a=0;a&lt;this._jsPlumb.overlays.length;a++)this._jsPlumb.overlays[a].cleanup(),this._jsPlumb.overlays[a].destroy();this._jsPlumb.overlays.splice(0)}});var v=0,w=function(){var a=v+1;return v++,a},x=window.jsPlumbInstance=function(i){this.Defaults={Anchor:&quot;BottomCenter&quot;,Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:&quot;Bezier&quot;,Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:&quot;Dot&quot;,EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:&quot;#456&quot;},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:&quot;black&quot;},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:&quot;#456&quot;},ReattachConnections:!1,RenderMode:&quot;svg&quot;,Scope:&quot;jsPlumb_DefaultScope&quot;},i&amp;&amp;y.extend(this.Defaults,i),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},jsPlumbUtil.EventGenerator.apply(this);var j=this,k=w(),l=j.bind,m={},n=1,p=function(a){var b=e(a);return{el:b,id:jsPlumbUtil.isString(a)&amp;&amp;null==b?a:bb(b)}};this.getInstanceIndex=function(){return k},this.setZoom=function(a,b){n=a,b&amp;&amp;j.repaintEverything()},this.getZoom=function(){return n};for(var q in this.Defaults)m[q]=this.Defaults[q];this.bind=function(a,b){&quot;ready&quot;===a&amp;&amp;s?b():l.apply(j,[a,b])},j.importDefaults=function(a){for(var b in a)j.Defaults[b]=a[b];return j},j.restoreDefaults=function(){return j.Defaults=y.extend({},m),j};var r=null,s=!1,t=[],u={},v={},x={},z={},A={},B={},C=!1,D=[],E=!1,F=null,G=this.Defaults.Scope,H=null,I=1,J=function(){return&quot;&quot;+I++},K=function(a,b){j.Defaults.Container?y.CurrentLibrary.appendElement(a,j.Defaults.Container):b?y.CurrentLibrary.appendElement(a,b):jsPlumbAdapter.appendToRoot(a)},L=function(a){return a._nodes?a._nodes:a},M=function(a,b,c,d){if(!jsPlumbAdapter.headless&amp;&amp;!E){var e=bb(a),f=j.dragManager.getElementsForDraggable(e);null==c&amp;&amp;(c=h());var g=_({elId:e,offset:b,recalc:!1,timestamp:c});if(f)for(var i in f)_({elId:f[i].id,offset:{left:g.o.left+f[i].offset.left,top:g.o.top+f[i].offset.top},recalc:!1,timestamp:c});if(j.anchorManager.redraw(e,b,c,null,d),f)for(var k in f)j.anchorManager.redraw(f[k].id,b,c,f[k].offset,d,!0)}},N=function(b,c){var e,f,g=null;if(a.isArray(b)){g=[];for(var h=0,i=b.length;i&gt;h;h++)e=d(b[h]),f=j.getAttribute(e,&quot;id&quot;),g.push(c(e,f))}else e=d(b),f=j.getAttribute(e,&quot;id&quot;),g=c(e,f);return g},O=function(a){return v[a]},P=function(d,e,f){if(!jsPlumbAdapter.headless){var g=null==e?!1:e,h=y.CurrentLibrary;if(g&amp;&amp;h.isDragSupported(d)&amp;&amp;!h.isAlreadyDraggable(d)){var i=f||j.Defaults.DragOptions||y.Defaults.DragOptions;i=y.extend({},i);var k=h.dragEvents.drag,l=h.dragEvents.stop,m=h.dragEvents.start;i[m]=a.wrap(i[m],function(){j.setHoverSuspended(!0),j.select({source:d}).addClass(j.elementDraggingClass+&quot; &quot;+j.sourceElementDraggingClass,!0),j.select({target:d}).addClass(j.elementDraggingClass+&quot; &quot;+j.targetElementDraggingClass,!0),j.setConnectionBeingDragged(!0)}),i[k]=a.wrap(i[k],function(){var a=h.getUIPosition(arguments,j.getZoom());M(d,a,null,!0),b(d,&quot;jsPlumb_dragged&quot;)}),i[l]=a.wrap(i[l],function(){var a=h.getUIPosition(arguments,j.getZoom());M(d,a),c(d,&quot;jsPlumb_dragged&quot;),j.setHoverSuspended(!1),j.select({source:d}).removeClass(j.elementDraggingClass+&quot; &quot;+j.sourceElementDraggingClass,!0),j.select({target:d}).removeClass(j.elementDraggingClass+&quot; &quot;+j.targetElementDraggingClass,!0),j.setConnectionBeingDragged(!1)});var n=bb(d);B[n]=!0;var o=B[n];i.disabled=null==o?!1:!o,h.initDraggable(d,i,!1,j),j.dragManager.register(d)}}},Q=function(b,c){var d=y.extend({},b);if(c&amp;&amp;y.extend(d,c),d.source&amp;&amp;(d.source.endpoint?d.sourceEndpoint=d.source:d.source=e(d.source)),d.target&amp;&amp;(d.target.endpoint?d.targetEndpoint=d.target:d.target=e(d.target)),b.uuids&amp;&amp;(d.sourceEndpoint=O(b.uuids[0]),d.targetEndpoint=O(b.uuids[1])),d.sourceEndpoint&amp;&amp;d.sourceEndpoint.isFull())return a.log(j,&quot;could not add connection; source endpoint is full&quot;),void 0;if(d.targetEndpoint&amp;&amp;d.targetEndpoint.isFull())return a.log(j,&quot;could not add connection; target endpoint is full&quot;),void 0;if(!d.type&amp;&amp;d.sourceEndpoint&amp;&amp;(d.type=d.sourceEndpoint.connectionType),d.sourceEndpoint&amp;&amp;d.sourceEndpoint.connectorOverlays){d.overlays=d.overlays||[];for(var f=0,g=d.sourceEndpoint.connectorOverlays.length;g&gt;f;f++)d.overlays.push(d.sourceEndpoint.connectorOverlays[f])}!d[&quot;pointer-events&quot;]&amp;&amp;d.sourceEndpoint&amp;&amp;d.sourceEndpoint.connectorPointerEvents&amp;&amp;(d[&quot;pointer-events&quot;]=d.sourceEndpoint.connectorPointerEvents);var h,i,k,l;if(d.target&amp;&amp;!d.target.endpoint&amp;&amp;!d.targetEndpoint&amp;&amp;!d.newConnection&amp;&amp;(h=bb(d.target),i=sb[h],k=tb[h],i)){if(!Db[h])return;i.isTarget=!0,l=null!=k?k:j.addEndpoint(d.target,i),ub[h]&amp;&amp;(tb[h]=l),d.targetEndpoint=l,l._doNotDeleteOnDetach=!1,l._deleteOnDetach=!0}if(d.source&amp;&amp;!d.source.endpoint&amp;&amp;!d.sourceEndpoint&amp;&amp;!d.newConnection&amp;&amp;(h=bb(d.source),i=xb[h],k=yb[h],i)){if(!Ab[h])return;l=null!=k?k:j.addEndpoint(d.source,i),zb[h]&amp;&amp;(yb[h]=l),d.sourceEndpoint=l,l._doNotDeleteOnDetach=!1,l._deleteOnDetach=!0}return d},R=function(a){var b=j.Defaults.ConnectionType||j.getDefaultConnectionType(),c=j.Defaults.EndpointType||y.Endpoint,d=y.CurrentLibrary.getParent;a.parent=a.container?a.container:a.sourceEndpoint?a.sourceEndpoint.parent:a.source.constructor==c?a.source.parent:d(a.source),a._jsPlumb=j,a.newConnection=R,a.newEndpoint=V,a.endpointsByUUID=v,a.endpointsByElement=u,a.finaliseConnection=S;var e=new b(a);return e.id=&quot;con_&quot;+J(),T(&quot;click&quot;,&quot;click&quot;,e),T(&quot;dblclick&quot;,&quot;dblclick&quot;,e),T(&quot;contextmenu&quot;,&quot;contextmenu&quot;,e),e},S=function(a,b,c,d){if(b=b||{},a.suspendedEndpoint||t.push(a),(null==a.suspendedEndpoint||d)&amp;&amp;j.anchorManager.newConnection(a),M(a.source),!b.doNotFireConnectionEvent&amp;&amp;b.fireEvent!==!1){var e={connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]};j.fire(&quot;connection&quot;,e,c)}},T=function(a,b,c){c.bind(a,function(a,d){j.fire(b,c,d)})},U=function(a){if(a.container)return a.container;var b=y.CurrentLibrary.getTagName(a.source),c=y.CurrentLibrary.getParent(a.source);return b&amp;&amp;&quot;td&quot;===b.toLowerCase()?y.CurrentLibrary.getParent(c):c},V=function(a){var b=j.Defaults.EndpointType||y.Endpoint,c=y.extend({},a);c.parent=U(c),c._jsPlumb=j,c.newConnection=R,c.newEndpoint=V,c.endpointsByUUID=v,c.endpointsByElement=u,c.finaliseConnection=S,c.fireDetachEvent=cb,c.floatingConnections=A,c.getParentFromParams=U,c.elementId=bb(c.source);var d=new b(c);return d.id=&quot;ep_&quot;+J(),T(&quot;click&quot;,&quot;endpointClick&quot;,d),T(&quot;dblclick&quot;,&quot;endpointDblClick&quot;,d),T(&quot;contextmenu&quot;,&quot;contextmenu&quot;,d),jsPlumbAdapter.headless||j.dragManager.endpointAdded(c.source),d},W=function(a,b,c){var d=u[a];if(d&amp;&amp;d.length)for(var e=0,f=d.length;f&gt;e;e++){for(var g=0,h=d[e].connections.length;h&gt;g;g++){var i=b(d[e].connections[g]);if(i)return}c&amp;&amp;c(d[e])}},X=function(a,b){return N(a,function(a,c){B[c]=b,y.CurrentLibrary.isDragSupported(a)&amp;&amp;y.CurrentLibrary.setDraggable(a,b)})},Y=function(a,b,c){b=&quot;block&quot;===b;var d=null;c&amp;&amp;(d=b?function(a){a.setVisible(!0,!0,!0)}:function(a){a.setVisible(!1,!0,!0)});var e=p(a);W(e.id,function(a){if(b&amp;&amp;c){var d=a.sourceId===e.id?1:0;a.endpoints[d].isVisible()&amp;&amp;a.setVisible(!0)}else a.setVisible(b)},d)},Z=function(a){return N(a,function(a,b){var c=null==B[b]?!1:B[b];return c=!c,B[b]=c,y.CurrentLibrary.setDraggable(a,c),c})},$=function(a,b){var c=null;b&amp;&amp;(c=function(a){var b=a.isVisible();a.setVisible(!b)}),W(a,function(a){var b=a.isVisible();a.setVisible(!b)},c)},_=function(a){var b,c=a.timestamp,e=a.recalc,h=a.offset,i=a.elId;return E&amp;&amp;!c&amp;&amp;(c=F),!e&amp;&amp;c&amp;&amp;c===z[i]?{o:a.offset||x[i],s:D[i]}:(e||!h?(b=d(i),null!=b&amp;&amp;(D[i]=g(b),x[i]=f(b,j),z[i]=c)):(x[i]=h,null==D[i]&amp;&amp;(b=d(i),null!=b&amp;&amp;(D[i]=g(b))),z[i]=c),x[i]&amp;&amp;!x[i].right&amp;&amp;(x[i].right=x[i].left+D[i][0],x[i].bottom=x[i].top+D[i][1],x[i].width=D[i][0],x[i].height=D[i][1],x[i].centerx=x[i].left+x[i].width/2,x[i].centery=x[i].top+x[i].height/2),{o:x[i],s:D[i]})},ab=function(a){var b=x[a];return b?{o:b,s:D[a]}:_({elId:a})},bb=function(a,b,c){if(jsPlumbUtil.isString(a))return a;if(null==a)return null;var d=jsPlumbAdapter.getAttribute(a,&quot;id&quot;);return d&amp;&amp;&quot;undefined&quot;!==d||(2==arguments.length&amp;&amp;void 0!==arguments[1]?d=b:(1==arguments.length||3==arguments.length&amp;&amp;!arguments[2])&amp;&amp;(d=&quot;jsPlumb_&quot;+k+&quot;_&quot;+J()),c||jsPlumbAdapter.setAttribute(a,&quot;id&quot;,d)),d};this.setConnectionBeingDragged=function(a){C=a</div><div class='line' id='LC2'>},this.isConnectionBeingDragged=function(){return C},this.connectorClass=&quot;_jsPlumb_connector&quot;,this.hoverClass=&quot;_jsPlumb_hover&quot;,this.endpointClass=&quot;_jsPlumb_endpoint&quot;,this.endpointConnectedClass=&quot;_jsPlumb_endpoint_connected&quot;,this.endpointFullClass=&quot;_jsPlumb_endpoint_full&quot;,this.endpointDropAllowedClass=&quot;_jsPlumb_endpoint_drop_allowed&quot;,this.endpointDropForbiddenClass=&quot;_jsPlumb_endpoint_drop_forbidden&quot;,this.overlayClass=&quot;_jsPlumb_overlay&quot;,this.draggingClass=&quot;_jsPlumb_dragging&quot;,this.elementDraggingClass=&quot;_jsPlumb_element_dragging&quot;,this.sourceElementDraggingClass=&quot;_jsPlumb_source_element_dragging&quot;,this.targetElementDraggingClass=&quot;_jsPlumb_target_element_dragging&quot;,this.endpointAnchorClassPrefix=&quot;_jsPlumb_endpoint_anchor&quot;,this.hoverSourceClass=&quot;_jsPlumb_source_hover&quot;,this.hoverTargetClass=&quot;_jsPlumb_target_hover&quot;,this.dragSelectClass=&quot;_jsPlumb_drag_select&quot;,this.Anchors={},this.Connectors={canvas:{},svg:{},vml:{}},this.Endpoints={canvas:{},svg:{},vml:{}},this.Overlays={canvas:{},svg:{},vml:{}},this.ConnectorRenderers={},this.SVG=&quot;svg&quot;,this.CANVAS=&quot;canvas&quot;,this.VML=&quot;vml&quot;,this.addEndpoint=function(b,c,d){d=d||{};var f=y.extend({},d);y.extend(f,c),f.endpoint=f.endpoint||j.Defaults.Endpoint||y.Defaults.Endpoint,f.paintStyle=f.paintStyle||j.Defaults.EndpointStyle||y.Defaults.EndpointStyle,b=L(b);for(var g=[],h=a.isArray(b)||null!=b.length&amp;&amp;!a.isString(b)?b:[b],i=0,k=h.length;k&gt;i;i++){var l=e(h[i]),m=bb(l);f.source=l,_({elId:m,timestamp:F});var n=V(f);f.parentAnchor&amp;&amp;(n.parentAnchor=f.parentAnchor),a.addToList(u,m,n);var o=x[m],p=D[m],q=n.anchor.compute({xy:[o.left,o.top],wh:p,element:n,timestamp:F}),r={anchorLoc:q,timestamp:F};E&amp;&amp;(r.recalc=!1),E||n.paint(r),g.push(n),n._doNotDeleteOnDetach=!0}return 1==g.length?g[0]:g},this.addEndpoints=function(b,c,d){for(var e=[],f=0,g=c.length;g&gt;f;f++){var h=j.addEndpoint(b,c[f],d);a.isArray(h)?Array.prototype.push.apply(e,h):e.push(h)}return e},this.animate=function(b,c,e){e=e||{};var f=d(b),g=bb(b),h=y.CurrentLibrary.dragEvents.step,i=y.CurrentLibrary.dragEvents.complete;e[h]=a.wrap(e[h],function(){j.repaint(g)}),e[i]=a.wrap(e[i],function(){j.repaint(g)}),y.CurrentLibrary.animate(f,c,e)},this.checkCondition=function(b,c){var d=j.getListener(b),e=!0;if(d&amp;&amp;d.length&gt;0)try{for(var f=0,g=d.length;g&gt;f;f++)e=e&amp;&amp;d[f](c)}catch(h){a.log(j,&quot;cannot check condition [&quot;+b+&quot;]&quot;+h)}return e},this.checkASyncCondition=function(b,c,d,e){var f=j.getListener(b);if(f&amp;&amp;f.length&gt;0)try{f[0](c,d,e)}catch(g){a.log(j,&quot;cannot asynchronously check condition [&quot;+b+&quot;]&quot;+g)}},this.connect=function(a,b){var c,d=Q(a,b);return d&amp;&amp;(c=R(d),S(c,d)),c},this.deleteEndpoint=function(a,b){var c=j.setSuspendDrawing(!0),d=&quot;string&quot;==typeof a?v[a]:a;return d&amp;&amp;j.deleteObject({endpoint:d}),c||j.setSuspendDrawing(!1,b),j},this.deleteEveryEndpoint=function(){var a=j.setSuspendDrawing(!0);for(var b in u){var c=u[b];if(c&amp;&amp;c.length)for(var d=0,e=c.length;e&gt;d;d++)j.deleteEndpoint(c[d],!0)}return u={},v={},j.anchorManager.reset(),j.dragManager.reset(),a||j.setSuspendDrawing(!1),j};var cb=function(a,b,c){var d=j.Defaults.ConnectionType||j.getDefaultConnectionType(),e=a.constructor==d,f=e?{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]}:a;b&amp;&amp;j.fire(&quot;connectionDetached&quot;,f,c),j.anchorManager.connectionDetached(f)};this.unregisterEndpoint=function(a){a._jsPlumb.uuid&amp;&amp;(v[a._jsPlumb.uuid]=null),j.anchorManager.deleteEndpoint(a);for(var b in u){var c=u[b];if(c){for(var d=[],e=0,f=c.length;f&gt;e;e++)c[e]!=a&amp;&amp;d.push(c[e]);u[b]=d}u[b].length&lt;1&amp;&amp;delete u[b]}},this.detach=function(){if(0!==arguments.length){var a=j.Defaults.ConnectionType||j.getDefaultConnectionType(),b=arguments[0].constructor==a,c=2==arguments.length?b?arguments[1]||{}:arguments[0]:arguments[0],d=c.fireEvent!==!1,f=c.forceDetach,g=b?arguments[0]:c.connection;if(g)(f||jsPlumbUtil.functionChain(!0,!1,[[g.endpoints[0],&quot;isDetachAllowed&quot;,[g]],[g.endpoints[1],&quot;isDetachAllowed&quot;,[g]],[g,&quot;isDetachAllowed&quot;,[g]],[j,&quot;checkCondition&quot;,[&quot;beforeDetach&quot;,g]]]))&amp;&amp;g.endpoints[0].detach(g,!1,!0,d);else{var h=y.extend({},c);if(h.uuids)O(h.uuids[0]).detachFrom(O(h.uuids[1]),d);else if(h.sourceEndpoint&amp;&amp;h.targetEndpoint)h.sourceEndpoint.detachFrom(h.targetEndpoint);else{var i=bb(e(h.source)),k=bb(e(h.target));W(i,function(a){(a.sourceId==i&amp;&amp;a.targetId==k||a.targetId==i&amp;&amp;a.sourceId==k)&amp;&amp;j.checkCondition(&quot;beforeDetach&quot;,a)&amp;&amp;a.endpoints[0].detach(a,!1,!0,d)})}}}},this.detachAllConnections=function(a,b){b=b||{},a=e(a);var c=bb(a),d=u[c];if(d&amp;&amp;d.length)for(var f=0,g=d.length;g&gt;f;f++)d[f].detachAll(b.fireEvent!==!1);return j},this.detachEveryConnection=function(a){return a=a||{},j.doWhileSuspended(function(){for(var b in u){var c=u[b];if(c&amp;&amp;c.length)for(var d=0,e=c.length;e&gt;d;d++)c[d].detachAll(a.fireEvent!==!1)}t.splice(0)}),j},this.deleteObject=function(a){var b={endpoints:{},connections:{},endpointCount:0,connectionCount:0},c=a.fireEvent!==!1,d=a.deleteAttachedObjects!==!1,e=function(a){if(null!=a&amp;&amp;null==b.connections[a.id]&amp;&amp;(a._jsPlumb&amp;&amp;a.setHover(!1),b.connections[a.id]=a,b.connectionCount++,d))for(var c=0;c&lt;a.endpoints.length;c++)a.endpoints[c]._deleteOnDetach&amp;&amp;f(a.endpoints[c])},f=function(a){if(null!=a&amp;&amp;null==b.endpoints[a.id]&amp;&amp;(a._jsPlumb&amp;&amp;a.setHover(!1),b.endpoints[a.id]=a,b.endpointCount++,d))for(var c=0;c&lt;a.connections.length;c++){var f=a.connections[c];e(f)}};a.connection?e(a.connection):f(a.endpoint);for(var g in b.connections){var h=b.connections[g];h.endpoints[0].detachFromConnection(h),h.endpoints[1].detachFromConnection(h),jsPlumbUtil.removeWithFunction(t,function(a){return h.id==a.id}),cb(h,c,a.originalEvent),h.cleanup(),h.destroy()}for(var i in b.endpoints){var k=b.endpoints[i];j.unregisterEndpoint(k),k.cleanup(),k.destroy()}return b},this.draggable=function(a,b){var c,d,f;if(&quot;object&quot;==typeof a&amp;&amp;a.length)for(c=0,d=a.length;d&gt;c;c++)f=e(a[c]),f&amp;&amp;P(f,!0,b);else if(a._nodes)for(c=0,d=a._nodes.length;d&gt;c;c++)f=e(a._nodes[c]),f&amp;&amp;P(f,!0,b);else f=e(a),f&amp;&amp;P(f,!0,b);return j},this.extend=function(a,b){return y.CurrentLibrary.extend(a,b)};var db=function(a,b,c,d){for(var e=0,f=a.length;f&gt;e;e++)a[e][b].apply(a[e],c);return d(a)},eb=function(a,b,c){for(var d=[],e=0,f=a.length;f&gt;e;e++)d.push([a[e][b].apply(a[e],c),a[e]]);return d},fb=function(a,b,c){return function(){return db(a,b,arguments,c)}},gb=function(a,b){return function(){return eb(a,b,arguments)}},hb=function(a,b){var c=[];if(a)if(&quot;string&quot;==typeof a){if(&quot;*&quot;===a)return a;c.push(a)}else if(a=d(a),b)c=a;else for(var e=0,f=a.length;f&gt;e;e++)c.push(p(a[e]).id);return c},ib=function(a,b,c){return&quot;*&quot;===a?!0:a.length&gt;0?-1!=jsPlumbUtil.indexOf(a,b):!c};this.getConnections=function(a,b){a?a.constructor==String&amp;&amp;(a={scope:a}):a={};for(var c=a.scope||j.getDefaultScope(),d=hb(c,!0),e=hb(a.source),f=hb(a.target),g=!b&amp;&amp;d.length&gt;1?{}:[],h=function(a,c){if(!b&amp;&amp;d.length&gt;1){var e=g[a];null==e&amp;&amp;(e=g[a]=[]),e.push(c)}else g.push(c)},i=0,k=t.length;k&gt;i;i++){var l=t[i];ib(d,l.scope)&amp;&amp;ib(e,l.sourceId)&amp;&amp;ib(f,l.targetId)&amp;&amp;h(l.scope,l)}return g};var jb=function(a,b){return function(c){for(var d=0,e=a.length;e&gt;d;d++)c(a[d]);return b(a)}},kb=function(a){return function(b){return a[b]}},lb=function(a,b){var c,d,e={length:a.length,each:jb(a,b),get:kb(a)},f=[&quot;setHover&quot;,&quot;removeAllOverlays&quot;,&quot;setLabel&quot;,&quot;addClass&quot;,&quot;addOverlay&quot;,&quot;removeOverlay&quot;,&quot;removeOverlays&quot;,&quot;showOverlay&quot;,&quot;hideOverlay&quot;,&quot;showOverlays&quot;,&quot;hideOverlays&quot;,&quot;setPaintStyle&quot;,&quot;setHoverPaintStyle&quot;,&quot;setSuspendEvents&quot;,&quot;setParameter&quot;,&quot;setParameters&quot;,&quot;setVisible&quot;,&quot;repaint&quot;,&quot;addType&quot;,&quot;toggleType&quot;,&quot;removeType&quot;,&quot;removeClass&quot;,&quot;setType&quot;,&quot;bind&quot;,&quot;unbind&quot;],g=[&quot;getLabel&quot;,&quot;getOverlay&quot;,&quot;isHover&quot;,&quot;getParameter&quot;,&quot;getParameters&quot;,&quot;getPaintStyle&quot;,&quot;getHoverPaintStyle&quot;,&quot;isVisible&quot;,&quot;hasType&quot;,&quot;getType&quot;,&quot;isSuspendEvents&quot;];for(c=0,d=f.length;d&gt;c;c++)e[f[c]]=fb(a,f[c],b);for(c=0,d=g.length;d&gt;c;c++)e[g[c]]=gb(a,g[c]);return e},mb=function(a){var b=lb(a,mb);return y.CurrentLibrary.extend(b,{setDetachable:fb(a,&quot;setDetachable&quot;,mb),setReattach:fb(a,&quot;setReattach&quot;,mb),setConnector:fb(a,&quot;setConnector&quot;,mb),detach:function(){for(var b=0,c=a.length;c&gt;b;b++)j.detach(a[b])},isDetachable:gb(a,&quot;isDetachable&quot;),isReattach:gb(a,&quot;isReattach&quot;)})},nb=function(a){var b=lb(a,nb);return y.CurrentLibrary.extend(b,{setEnabled:fb(a,&quot;setEnabled&quot;,nb),setAnchor:fb(a,&quot;setAnchor&quot;,nb),isEnabled:gb(a,&quot;isEnabled&quot;),detachAll:function(){for(var b=0,c=a.length;c&gt;b;b++)a[b].detachAll()},remove:function(){for(var b=0,c=a.length;c&gt;b;b++)j.deleteObject({endpoint:a[b]})}})};this.select=function(a){return a=a||{},a.scope=a.scope||&quot;*&quot;,mb(a.connections||j.getConnections(a,!0))},this.selectEndpoints=function(a){a=a||{},a.scope=a.scope||&quot;*&quot;;var b=!a.element&amp;&amp;!a.source&amp;&amp;!a.target,c=b?&quot;*&quot;:hb(a.element),d=b?&quot;*&quot;:hb(a.source),e=b?&quot;*&quot;:hb(a.target),f=hb(a.scope,!0),g=[];for(var h in u){var i=ib(c,h,!0),j=ib(d,h,!0),k=&quot;*&quot;!=d,l=ib(e,h,!0),m=&quot;*&quot;!=e;if(i||j||l)a:for(var n=0,o=u[h].length;o&gt;n;n++){var p=u[h][n];if(ib(f,p.scope,!0)){var q=k&amp;&amp;d.length&gt;0&amp;&amp;!p.isSource,r=m&amp;&amp;e.length&gt;0&amp;&amp;!p.isTarget;if(q||r)continue a;g.push(p)}}}return nb(g)},this.getAllConnections=function(){return t},this.getDefaultScope=function(){return G},this.getEndpoint=O,this.getEndpoints=function(a){return u[p(a).id]},this.getDefaultEndpointType=function(){return y.Endpoint},this.getDefaultConnectionType=function(){return y.Connection},this.getId=bb,this.getOffset=function(a){return x[a],_({elId:a})},this.getSelector=function(){return y.CurrentLibrary.getSelector.apply(null,arguments)},this.getSize=function(a){var b=D[a];return b||_({elId:a}),D[a]},this.appendElement=K;var ob=!1;this.isHoverSuspended=function(){return ob},this.setHoverSuspended=function(a){ob=a};var pb=function(a){return function(){return jsPlumbAdapter.isRenderModeAvailable(a)}};this.isCanvasAvailable=pb(&quot;canvas&quot;),this.isSVGAvailable=pb(&quot;svg&quot;),this.isVMLAvailable=pb(&quot;vml&quot;),this.hide=function(a,b){return Y(a,&quot;none&quot;,b),j},this.idstamp=J,this.connectorsInitialized=!1;var qb=[],rb=[&quot;canvas&quot;,&quot;svg&quot;,&quot;vml&quot;];this.registerConnectorType=function(a,b){qb.push([a,b])},this.init=function(){var a=function(a,b,c){y.Connectors[a][b]=function(){c.apply(this,arguments),y.ConnectorRenderers[a].apply(this,arguments)},jsPlumbUtil.extend(y.Connectors[a][b],[c,y.ConnectorRenderers[a]])};if(!y.connectorsInitialized){for(var b=0;b&lt;qb.length;b++)for(var c=0;c&lt;rb.length;c++)a(rb[c],qb[b][1],qb[b][0]);y.connectorsInitialized=!0}s||(j.anchorManager=new y.AnchorManager({jsPlumbInstance:j}),j.setRenderMode(j.Defaults.RenderMode),s=!0,j.fire(&quot;ready&quot;,j))}.bind(this),this.log=r,this.jsPlumbUIComponent=o,this.makeAnchor=function(){var b=function(a,b){if(y.Anchors[a])return new y.Anchors[a](b);if(!j.Defaults.DoNotThrowErrors)throw{msg:&quot;jsPlumb: unknown anchor type &#39;&quot;+a+&quot;&#39;&quot;}};if(0===arguments.length)return null;var c=arguments[0],d=arguments[1],e=arguments[2],f=null;if(c.compute&amp;&amp;c.getOrientation)return c;if(&quot;string&quot;==typeof c)f=b(arguments[0],{elementId:d,jsPlumbInstance:j});else if(a.isArray(c))if(a.isArray(c[0])||a.isString(c[0]))if(2==c.length&amp;&amp;a.isString(c[0])&amp;&amp;a.isObject(c[1])){var g=y.extend({elementId:d,jsPlumbInstance:j},c[1]);f=b(c[0],g)}else f=new y.DynamicAnchor({anchors:c,selector:null,elementId:d,jsPlumbInstance:e});else{var h={x:c[0],y:c[1],orientation:c.length&gt;=4?[c[2],c[3]]:[0,0],offsets:c.length&gt;=6?[c[4],c[5]]:[0,0],elementId:d,jsPlumbInstance:e,cssClass:7==c.length?c[6]:null};f=new y.Anchor(h),f.clone=function(){return new y.Anchor(h)}}return f.id||(f.id=&quot;anchor_&quot;+J()),f},this.makeAnchors=function(b,c,d){for(var e=[],f=0,g=b.length;g&gt;f;f++)&quot;string&quot;==typeof b[f]?e.push(y.Anchors[b[f]]({elementId:c,jsPlumbInstance:d})):a.isArray(b[f])&amp;&amp;e.push(j.makeAnchor(b[f],c,d));return e},this.makeDynamicAnchor=function(a,b){return new y.DynamicAnchor({anchors:a,selector:b,elementId:null,jsPlumbInstance:j})};var sb={},tb={},ub={},vb={},wb=function(a,b){a.paintStyle=a.paintStyle||j.Defaults.EndpointStyles[b]||j.Defaults.EndpointStyle||y.Defaults.EndpointStyles[b]||y.Defaults.EndpointStyle,a.hoverPaintStyle=a.hoverPaintStyle||j.Defaults.EndpointHoverStyles[b]||j.Defaults.EndpointHoverStyle||y.Defaults.EndpointHoverStyles[b]||y.Defaults.EndpointHoverStyle,a.anchor=a.anchor||j.Defaults.Anchors[b]||j.Defaults.Anchor||y.Defaults.Anchors[b]||y.Defaults.Anchor,a.endpoint=a.endpoint||j.Defaults.Endpoints[b]||j.Defaults.Endpoint||y.Defaults.Endpoints[b]||y.Defaults.Endpoint},xb={},yb={},zb={},Ab={},Bb={},Cb={},Db={},Eb=function(a,b,c){for(var d=a.target||a.srcElement,e=!1,f=j.getSelector(b,c),g=0;g&lt;f.length;g++)if(f[g]==d){e=!0;break}return e};this.makeTarget=function(b,c,e){var h=y.extend({_jsPlumb:j},e);y.extend(h,c),wb(h,1);var i=y.CurrentLibrary,k=h.scope||j.Defaults.Scope,l=!(h.deleteEndpointsOnDetach===!1),m=h.maxConnections||-1,n=h.onMaxConnections;_doOne=function(b){var c=p(b),e=c.id,q=new o(h),r=y.extend({},h.dropOptions||{});sb[e]=h,ub[e]=h.uniqueEndpoint,vb[e]=m,Db[e]=!0;var s=function(){j.currentlyDragging=!1;var a=y.CurrentLibrary.getDropEvent(arguments),b=j.select({target:e}).length,k=d(i.getDragObject(arguments)),m=j.getAttribute(k,&quot;dragId&quot;),o=j.getAttribute(k,&quot;originalScope&quot;),p=A[m],r=p.endpoints[0].isFloating()?0:1,s=p.endpoints[0];if(h.endpoint?y.extend({},h.endpoint):{},!Db[e]||vb[e]&gt;0&amp;&amp;b&gt;=vb[e])return n&amp;&amp;n({element:c.el,connection:p},a),!1;s.anchor.locked=!1,o&amp;&amp;i.setDragScope(k,o);var t=q.isDropAllowed(0===r?e:p.sourceId,0===r?p.targetId:e,p.scope,p,null);if(p.suspendedEndpoint&amp;&amp;(p[r?&quot;targetId&quot;:&quot;sourceId&quot;]=p.suspendedEndpoint.elementId,p[r?&quot;target&quot;:&quot;source&quot;]=p.suspendedEndpoint.element,p.endpoints[r]=p.suspendedEndpoint),t){var u=i.getElementObject(c.el),v=tb[e]||j.addEndpoint(u,h);if(h.uniqueEndpoint&amp;&amp;(tb[e]=v),v._doNotDeleteOnDetach=!1,v._deleteOnDetach=!0,null!=v.anchor.positionFinder){var w=i.getUIPosition(arguments,j.getZoom()),x=f(u,j),z=g(u),B=v.anchor.positionFinder(w,x,z,v.anchor.constructorParams);v.anchor.x=B[0],v.anchor.y=B[1]}p[r?&quot;target&quot;:&quot;source&quot;]=v.element,p[r?&quot;targetId&quot;:&quot;sourceId&quot;]=v.elementId,p.endpoints[r].detachFromConnection(p),p.endpoints[r]._deleteOnDetach&amp;&amp;(p.endpoints[r].deleteAfterDragStop=!0),v.addConnection(p),p.endpoints[r]=v,p.deleteEndpointsOnDetach=l,1==r?j.anchorManager.updateOtherEndpoint(p.sourceId,p.suspendedElementId,p.targetId,p):j.anchorManager.sourceChanged(p.suspendedEndpoint.elementId,p.sourceId,p),S(p,null,a)}else p.suspendedEndpoint&amp;&amp;(p.isReattach()?(p.setHover(!1),p.floatingAnchorIndex=null,p.suspendedEndpoint.addConnection(p),j.repaint(s.elementId)):s.detach(p,!1,!0,!0,a))},t=i.dragEvents.drop;r.scope=r.scope||k,r[t]=a.wrap(r[t],s),i.initDroppable(d(c.el),r,!0)},b=L(b);for(var q=b.length&amp;&amp;b.constructor!=String?b:[b],r=0,s=q.length;s&gt;r;r++)_doOne(q[r]);return j},this.unmakeTarget=function(a,b){var c=p(a);return y.CurrentLibrary.destroyDroppable(c.el),b||(delete sb[c.id],delete ub[c.id],delete vb[c.id],delete Db[c.id]),j},this.makeSource=function(b,c,f){var g=y.extend({},f);y.extend(g,c),wb(g,0);var h=y.CurrentLibrary,i=g.maxConnections||-1,k=g.onMaxConnections,l=function(b){var c=b.id,f=d(b.el),l=function(){return null==g.parent?null:&quot;parent&quot;===g.parent?b.el.parentNode:e(g.parent)},m=null!=g.parent?j.getId(l()):c;xb[m]=g,zb[m]=g.uniqueEndpoint,Ab[m]=!0;var n=h.dragEvents.stop,o=h.dragEvents.drag,p=y.extend({},g.dragOptions||{}),q=p.drag,r=p.stop,s=null,u=!1;Cb[m]=i,p.scope=p.scope||g.scope,p[o]=a.wrap(p[o],function(){q&amp;&amp;q.apply(this,arguments),u=!1}),p[n]=a.wrap(p[n],function(){if(r&amp;&amp;r.apply(this,arguments),j.currentlyDragging=!1,null!=s._jsPlumb){h.unbind(s.canvas,&quot;mousedown&quot;);var a=g.anchor||j.Defaults.Anchor,b=(s.anchor,s.connections[0]);if(s.setAnchor(j.makeAnchor(a,c,j),!0),g.parent){var d=l();if(d){var e=(s.elementId,g.container||j.Defaults.Container||y.Defaults.Container);s.setElement(d,e),s.endpointWillMoveAfterConnection=!1,b.previousConnection=null,jsPlumbUtil.removeWithFunction(t,function(a){return a.id===b.id}),j.anchorManager.connectionDetached({sourceId:b.sourceId,targetId:b.targetId,connection:b}),S(b)}}s.repaint(),j.repaint(s.elementId),j.repaint(b.targetId)}});var v=function(a){if(Ab[m]){if(g.filter){var b=h.getOriginalEvent(a),d=jsPlumbUtil.isString(g.filter)?Eb(b,f,g.filter):g.filter(b,f);if(d===!1)return}var e=j.select({source:m}).length;if(Cb[m]&gt;=0&amp;&amp;e&gt;=Cb[m])return k&amp;&amp;k({element:f,maxConnections:i},a),!1;var n=_({elId:c}).o,o=j.getZoom(),q=((a.pageX||a.page.x)/o-n.left)/n.width,r=((a.pageY||a.page.y)/o-n.top)/n.height,t=q,v=r;if(g.parent){var w=l(),x=bb(w);n=_({elId:x}).o,t=((a.pageX||a.page.x)-n.left)/n.width,v=((a.pageY||a.page.y)-n.top)/n.height}var z={};if(y.extend(z,g),z.isSource=!0,z.anchor=[q,r,0,0],z.parentAnchor=[t,v,0,0],z.dragOptions=p,g.parent){var A=z.container||j.Defaults.Container||y.Defaults.Container;z.container=A?A:y.CurrentLibrary.getParent(l())}s=j.addEndpoint(c,z),u=!0,s.endpointWillMoveAfterConnection=null!=g.parent,s.endpointWillMoveTo=g.parent?l():null,s._doNotDeleteOnDetach=!1,s._deleteOnDetach=!0;var B=function(){u&amp;&amp;(u=!1,j.deleteEndpoint(s))};j.registerListener(s.canvas,&quot;mouseup&quot;,B),j.registerListener(f,&quot;mouseup&quot;,B),h.trigger(s.canvas,&quot;mousedown&quot;,a)}};j.registerListener(f,&quot;mousedown&quot;,v),Bb[c]=v,g.filter&amp;&amp;jsPlumbUtil.isString(g.filter)&amp;&amp;h.setDragFilter(f,g.filter)};b=L(b);for(var m=b.length&amp;&amp;b.constructor!=String?b:[b],n=0,o=m.length;o&gt;n;n++)l(p(m[n]));return j},this.unmakeSource=function(a,b){var c=p(a),d=Bb[c.id];return d&amp;&amp;j.unregisterListener(c.el,&quot;mousedown&quot;,d),b||(delete xb[c.id],delete zb[c.id],delete Ab[c.id],delete Bb[c.id],delete Cb[c.id]),j},this.unmakeEverySource=function(){for(var a in Ab)j.unmakeSource(a,!0);xb={},zb={},Ab={},Bb={}},this.unmakeEveryTarget=function(){for(var a in Db)j.unmakeTarget(a,!0);return sb={},ub={},vb={},Db={},j};var Fb=function(b,c,d,e){var f=&quot;source&quot;==b?Ab:Db;if(c=L(c),a.isString(c))f[c]=e?!f[c]:d;else if(c.length)for(var g=0,h=c.length;h&gt;g;g++){var i=p(c[g]);f[i.id]=e?!f[i.id]:d}return j};this.toggleSourceEnabled=function(a){return Fb(&quot;source&quot;,a,null,!0),j.isSourceEnabled(a)},this.setSourceEnabled=function(a,b){return Fb(&quot;source&quot;,a,b)},this.isSource=function(a){return null!=Ab[p(a).id]},this.isSourceEnabled=function(a){return Ab[p(a).id]===!0},this.toggleTargetEnabled=function(a){return Fb(&quot;target&quot;,a,null,!0),j.isTargetEnabled(a)},this.isTarget=function(a){return null!=Db[p(a).id]},this.isTargetEnabled=function(a){return Db[p(a).id]===!0},this.setTargetEnabled=function(a,b){return Fb(&quot;target&quot;,a,b)},this.ready=function(a){j.bind(&quot;ready&quot;,a)},this.repaint=function(a,b,c){if(&quot;object&quot;==typeof a&amp;&amp;a.length)for(var d=0,e=a.length;e&gt;d;d++)M(a[d],b,c);else M(a,b,c);return j},this.repaintEverything=function(){var a=h();for(var b in u)M(b,null,a);return j},this.removeAllEndpoints=function(a,b){var c=function(a){var d,e,f=p(a),g=u[f.id];if(g)for(d=0,e=g.length;e&gt;d;d++)j.deleteEndpoint(g[d]);if(delete u[f.id],b&amp;&amp;f.el&amp;&amp;3!=f.el.nodeType&amp;&amp;8!=f.el.nodeType)for(d=0,e=f.el.childNodes.length;e&gt;d;d++)c(f.el.childNodes[d])};return c(a),j},this.remove=function(a,b){var c=p(a);j.doWhileSuspended(function(){j.removeAllEndpoints(c.id,!0),j.dragManager.elementRemoved(c.id),delete A[c.id],j.anchorManager.clearFor(c.id),j.anchorManager.removeFloatingConnection(c.id)},b===!1),c.el&amp;&amp;y.CurrentLibrary.removeElement(c.el)};var Gb={},Hb=function(){for(var a in Gb)for(var b=0,c=Gb[a].length;c&gt;b;b++){var d=Gb[a][b];y.CurrentLibrary.unbind(d.el,d.event,d.listener)}Gb={}};this.registerListener=function(a,b,c){y.CurrentLibrary.bind(a,b,c),jsPlumbUtil.addToList(Gb,b,{el:a,event:b,listener:c})},this.unregisterListener=function(a,b,c){y.CurrentLibrary.unbind(a,b,c),jsPlumbUtil.removeWithFunction(Gb,function(a){return a.type==b&amp;&amp;a.listener==c})},this.reset=function(){j.deleteEveryEndpoint(),j.unbind(),sb={},tb={},ub={},vb={},xb={},yb={},zb={},Cb={},t.splice(0),Hb(),j.anchorManager.reset(),jsPlumbAdapter.headless||j.dragManager.reset()},this.setDefaultScope=function(a){return G=a,j},this.setDraggable=X,this.setId=function(a,b,c){var d;jsPlumbUtil.isString(a)?d=a:(a=e(a),d=j.getId(a));var f=j.getConnections({source:d,scope:&quot;*&quot;},!0),g=j.getConnections({target:d,scope:&quot;*&quot;},!0);b=&quot;&quot;+b,c?a=e(b):(a=e(d),jsPlumbAdapter.setAttribute(a,&quot;id&quot;,b)),u[b]=u[d]||[];for(var h=0,i=u[b].length;i&gt;h;h++)u[b][h].setElementId(b),u[b][h].setReferenceElement(a);delete u[d],j.anchorManager.changeId(d,b),jsPlumbAdapter.headless||j.dragManager.changeId(d,b);var k=function(c,d,e){for(var f=0,g=c.length;g&gt;f;f++)c[f].endpoints[d].setElementId(b),c[f].endpoints[d].setReferenceElement(a),c[f][e+&quot;Id&quot;]=b,c[f][e]=a};k(f,0,&quot;source&quot;),k(g,1,&quot;target&quot;),j.repaint(b)},this.setDebugLog=function(a){r=a},this.setSuspendDrawing=function(a,b){var c=E;return E=a,F=a?(new Date).getTime():null,b&amp;&amp;j.repaintEverything(),c},this.isSuspendDrawing=function(){return E},this.getSuspendedAt=function(){return F},this.doWhileSuspended=function(b,c){var d=j.isSuspendDrawing();d||j.setSuspendDrawing(!0);try{b()}catch(e){a.log(&quot;Function run while suspended failed&quot;,e)}d||j.setSuspendDrawing(!1,!c)},this.updateOffset=_,this.getOffset=function(a){return x[a]},this.getSize=function(a){return D[a]},this.getCachedData=ab,this.timestamp=h,this.setRenderMode=function(a){H=jsPlumbAdapter.setRenderMode(a);var b,c;if(H==y.CANVAS){var d=function(a){y.CurrentLibrary.bind(document,a,function(d){if(!j.currentlyDragging&amp;&amp;H==y.CANVAS){for(b=0,c=t.length;c&gt;b;b++){var e=t[b].getConnector()[a](d);if(e)return}for(var f in u){var g=u[f];for(b=0,c=g.length;c&gt;b;b++)if(g[b].endpoint[a]&amp;&amp;g[b].endpoint[a](d))return}}})};d(&quot;click&quot;),d(&quot;dblclick&quot;),d(&quot;mousemove&quot;),d(&quot;mousedown&quot;),d(&quot;mouseup&quot;),d(&quot;contextmenu&quot;)}return H},this.getRenderMode=function(){return H},this.show=function(a,b){return Y(a,&quot;block&quot;,b),j},this.getTestHarness=function(){return{endpointsByElement:u,endpointCount:function(a){var b=u[a];return b?b.length:0},connectionCount:function(a){a=a||G;var b=j.getConnections({scope:a});return b?b.length:0},getId:bb,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}},this.toggleVisible=$,this.toggleDraggable=Z,this.addListener=this.bind,this.adjustForParentOffsetAndScroll=function(a,b){var c=null,d=a;if(&quot;svg&quot;===b.tagName.toLowerCase()&amp;&amp;b.parentNode?c=b.parentNode:b.offsetParent&amp;&amp;(c=b.offsetParent),null!=c){var e=&quot;body&quot;===c.tagName.toLowerCase()?{left:0,top:0}:f(c,j),g=&quot;body&quot;===c.tagName.toLowerCase()?{left:0,top:0}:{left:c.scrollLeft,top:c.scrollTop};d[0]=a[0]-e.left+g.left,d[1]=a[1]-e.top+g.top}return d},jsPlumbAdapter.headless||(j.dragManager=jsPlumbAdapter.getDragManager(j),j.recalculateOffsets=j.dragManager.updateOffsets)};jsPlumbUtil.extend(x,jsPlumbUtil.EventGenerator,{setAttribute:function(a,b,c){jsPlumbAdapter.setAttribute(a,b,c)},getAttribute:function(a,b){return jsPlumbAdapter.getAttribute(y.CurrentLibrary.getDOMElement(a),b)},registerConnectionType:function(a,b){this._connectionTypes[a]=y.extend({},b)},registerConnectionTypes:function(a){for(var b in a)this._connectionTypes[b]=y.extend({},a[b])},registerEndpointType:function(a,b){this._endpointTypes[a]=y.extend({},b)},registerEndpointTypes:function(a){for(var b in a)this._endpointTypes[b]=y.extend({},a[b])},getType:function(a,b){return&quot;connection&quot;===b?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,!0)}});var y=new x;&quot;undefined&quot;!=typeof window&amp;&amp;(window.jsPlumb=y),y.getInstance=function(a){var b=new x(a);return b.init(),b},&quot;function&quot;==typeof define&amp;&amp;(define(&quot;jsplumb&quot;,[],function(){return y}),define(&quot;jsplumbinstance&quot;,[],function(){return y.getInstance()})),&quot;undefined&quot;!=typeof exports&amp;&amp;(exports.jsPlumb=y)}(),function(){var a=function(a,b){var c=!1;return{drag:function(){if(c)return c=!1,!0;var d=jsPlumb.CurrentLibrary.getUIPosition(arguments,b.getZoom());a.element&amp;&amp;(jsPlumb.CurrentLibrary.setOffset(a.element,d),b.repaint(a.element,d))},stopDrag:function(){c=!0}}},b=function(a,b,c){var d=document.createElement(&quot;div&quot;);d.style.position=&quot;absolute&quot;,jsPlumb.CurrentLibrary.getElementObject(d),jsPlumb.CurrentLibrary.appendElement(d,b);var e=c.getId(d);c.updateOffset({elId:e}),a.id=e,a.element=d},c=function(a,b,c,d,e,f,g){var h=new jsPlumb.FloatingAnchor({reference:b,referenceCanvas:d,jsPlumbInstance:f});return g({paintStyle:a,endpoint:c,anchor:h,source:e,scope:&quot;__floating&quot;})},d=[&quot;connectorStyle&quot;,&quot;connectorHoverStyle&quot;,&quot;connectorOverlays&quot;,&quot;connector&quot;,&quot;connectionType&quot;,&quot;connectorClass&quot;,&quot;connectorHoverClass&quot;],e=function(a,b){var c=0;if(null!=b)for(var d=0;d&lt;a.connections.length;d++)if(a.connections[d].sourceId==b||a.connections[d].targetId==b){c=d;break}return a.connections[c]},f=function(a,b){return jsPlumbUtil.findWithFunction(b.connections,function(b){return b.id==a.id})};jsPlumb.Endpoint=function(g){var h=g._jsPlumb,i=jsPlumb.CurrentLibrary,j=(jsPlumbAdapter.getAttribute,i.getElementObject),k=i.getDOMElement,l=jsPlumbUtil,m=g.newConnection,n=g.newEndpoint,o=g.finaliseConnection,p=g.fireDetachEvent,q=g.floatingConnections;this.idPrefix=&quot;_jsplumb_e_&quot;,this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=[&quot;Overlays&quot;,&quot;EndpointOverlays&quot;],this.parent=g.parent,OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:this._jsPlumb.instance.Defaults.MaxConnections,paintStyle:this._jsPlumb.instance.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,endpoint:this._jsPlumb.instance.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,hoverPaintStyle:this._jsPlumb.instance.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,overlays:this._jsPlumb.instance.Defaults.EndpointOverlays||jsPlumb.Defaults.EndpointOverlays,connectorStyle:g.connectorStyle,connectorHoverStyle:g.connectorHoverStyle,connectorClass:g.connectorClass,connectorHoverClass:g.connectorHoverClass,connectorOverlays:g.connectorOverlays,connector:g.connector,connectorTooltip:g.connectorTooltip}},this._jsPlumb.enabled=!(g.enabled===!1),this._jsPlumb.visible=!0,this.element=k(g.source),this._jsPlumb.uuid=g.uuid,this._jsPlumb.floatingEndpoint=null;var r=null;this._jsPlumb.uuid&amp;&amp;(g.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=g.elementId,this._jsPlumb.connectionCost=g.connectionCost,this._jsPlumb.connectionsDirected=g.connectionsDirected,this._jsPlumb.currentAnchorClass=&quot;&quot;,this._jsPlumb.events={};var s=function(){i.removeClass(this.element,h.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass),this.removeClass(h.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass),this._jsPlumb.currentAnchorClass=this.anchor.getCssClass(),this.addClass(h.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass),i.addClass(this.element,h.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass)}.bind(this);this.setAnchor=function(a,b){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=this._jsPlumb.instance.makeAnchor(a,this.elementId,h),s(),this.anchor.bind(&quot;anchorChanged&quot;,function(a){this.fire(&quot;anchorChanged&quot;,{endpoint:this,anchor:a}),s()}.bind(this)),b||this._jsPlumb.instance.repaint(this.elementId),this};var t=g.anchor?g.anchor:g.anchors?g.anchors:h.Defaults.Anchor||&quot;Top&quot;;this.setAnchor(t,!0);var u=function(a){this.connections.length&gt;0?this.connections[0].setHover(a,!1):this.setHover(a)}.bind(this);if(g._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.setEndpoint=function(a){null!=this.endpoint&amp;&amp;(this.endpoint.cleanup(),this.endpoint.destroy());var b=function(a,b){var c=h.getRenderMode();if(jsPlumb.Endpoints[c][a])return new jsPlumb.Endpoints[c][a](b);if(!h.Defaults.DoNotThrowErrors)throw{msg:&quot;jsPlumb: unknown endpoint type &#39;&quot;+a+&quot;&#39;&quot;}},c={_jsPlumb:this._jsPlumb.instance,cssClass:g.cssClass,parent:g.parent,container:g.container,tooltip:g.tooltip,connectorTooltip:g.connectorTooltip,endpoint:this};l.isString(a)?this.endpoint=b(a,c):l.isArray(a)?(c=l.merge(a[1],c),this.endpoint=b(a[0],c)):this.endpoint=a.clone(),jsPlumb.extend({},c),this.endpoint.clone=function(){return l.isString(a)?b(a,c):l.isArray(a)?(c=l.merge(a[1],c),b(a[0],c)):void 0}.bind(this),this.type=this.endpoint.type,this.bindListeners(this.endpoint,this,u)},this.setEndpoint(g.endpoint||h.Defaults.Endpoint||jsPlumb.Defaults.Endpoint||&quot;Dot&quot;),this.setPaintStyle(g.paintStyle||g.style||h.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,!0),this.setHoverPaintStyle(g.hoverPaintStyle||h.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,!0),this._jsPlumb.paintStyleInUse=this.getPaintStyle(),l.copyValues(d,g,this),this.isSource=g.isSource||!1,this.isTarget=g.isTarget||!1,this._jsPlumb.maxConnections=g.maxConnections||h.Defaults.MaxConnections,this.canvas=this.endpoint.canvas,this.addClass(h.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass),i.addClass(this.element,h.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass),this.connections=g.connections||[],this.connectorPointerEvents=g[&quot;connector-pointer-events&quot;],this.scope=g.scope||h.getDefaultScope(),this.timestamp=null,this.reattachConnections=g.reattach||h.Defaults.ReattachConnections,this.connectionsDetachable=h.Defaults.ConnectionsDetachable,(g.connectionsDetachable===!1||g.detachable===!1)&amp;&amp;(this.connectionsDetachable=!1),this.dragAllowedWhenFull=g.dragAllowedWhenFull||!0,g.onMaxConnections&amp;&amp;this.bind(&quot;maxConnections&quot;,g.onMaxConnections),this.addConnection=function(a){this.connections.push(a),this[(this.connections.length&gt;0?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](h.endpointConnectedClass),this[(this.isFull()?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](h.endpointFullClass)},this.detachFromConnection=function(a,b){b=null==b?f(a,this):b,b&gt;=0&amp;&amp;(this.connections.splice(b,1),this[(this.connections.length&gt;0?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](h.endpointConnectedClass),this[(this.isFull()?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](h.endpointFullClass))},this.detach=function(a,b,c,d,e,g,i){var j=null==i?f(a,this):i,k=!1;return d=d!==!1,j&gt;=0&amp;&amp;(c||a._forceDetach||a.isDetachable()&amp;&amp;a.isDetachAllowed(a)&amp;&amp;this.isDetachAllowed(a))&amp;&amp;(h.deleteObject({connection:a,fireEvent:!b&amp;&amp;d,originalEvent:e}),k=!0),k},this.detachAll=function(a,b){for(;this.connections.length&gt;0;)this.detach(this.connections[0],!1,!0,a!==!1,b,this,0);return this},this.detachFrom=function(a,b,c){for(var d=[],e=0;e&lt;this.connections.length;e++)(this.connections[e].endpoints[1]==a||this.connections[e].endpoints[0]==a)&amp;&amp;d.push(this.connections[e]);for(var f=0;f&lt;d.length;f++)this.detach(d[f],!1,!0,b,c);return this},this.getElement=function(){return this.element},this.setElement=function(a){var b=this._jsPlumb.instance.getId(a),c=this.elementId;return l.removeWithFunction(g.endpointsByElement[this.elementId],function(a){return a.id==this.id}.bind(this)),this.element=k(a),this.elementId=h.getId(this.element),h.anchorManager.rehomeEndpoint(this,c,this.element),h.dragManager.endpointAdded(this.element),l.addToList(g.endpointsByElement,b,this),this},this.makeInPlaceCopy=function(){var a=this.anchor.getCurrentLocation({element:this}),b=this.anchor.getOrientation(this),c=this.anchor.getCssClass(),d={bind:function(){},compute:function(){return[a[0],a[1]]},getCurrentLocation:function(){return[a[0],a[1]]},getOrientation:function(){return b},getCssClass:function(){return c}};return n({anchor:d,source:this.element,paintStyle:this.getPaintStyle(),endpoint:g.hideOnDrag?&quot;Blank&quot;:this.endpoint,_transient:!0,scope:this.scope})},this.isFloating=function(){return null!=this.anchor&amp;&amp;this.anchor.isFloating},this.connectorSelector=function(){var a=this.connections[0];return this.isTarget&amp;&amp;a?a:this.connections.length&lt;this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:a},this.setStyle=this.setPaintStyle,this.paint=function(a){a=a||{};var b=a.timestamp,c=!(a.recalc===!1);if(!b||this.timestamp!==b){var d=h.updateOffset({elId:this.elementId,timestamp:b}),f=a.offset?a.offset.o:d.o;if(null!=f){var g=a.anchorPoint,i=a.connectorPaintStyle;if(null==g){var j=a.dimensions||d.s,k={xy:[f.left,f.top],wh:j,element:this,timestamp:b};if(c&amp;&amp;this.anchor.isDynamic&amp;&amp;this.connections.length&gt;0){var l=e(this,a.elementWithPrecedence),m=l.endpoints[0]==this?1:0,n=0===m?l.sourceId:l.targetId,o=h.getCachedData(n),p=o.o,q=o.s;k.txy=[p.left,p.top],k.twh=q,k.tElement=l.endpoints[m]}g=this.anchor.compute(k)}this.endpoint.compute(g,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,i||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=b;</div><div class='line' id='LC3'>for(var r=0;r&lt;this._jsPlumb.overlays.length;r++){var s=this._jsPlumb.overlays[r];s.isVisible()&amp;&amp;(this._jsPlumb.overlayPlacements[r]=s.draw(this.endpoint,this._jsPlumb.paintStyleInUse),s.paint(this._jsPlumb.overlayPlacements[r]))}}}},this.repaint=this.paint,i.isDragSupported(this.element)&amp;&amp;(this.isSource||this.isTarget)){var v={id:null,element:null},w=null,x=!1,y=null,z=a(v,h),A=function(){w=this.connectorSelector();var a=!0;if(this.isEnabled()||(a=!1),null!=w||this.isSource||(a=!1),this.isSource&amp;&amp;this.isFull()&amp;&amp;!this.dragAllowedWhenFull&amp;&amp;(a=!1),null==w||w.isDetachable()||(a=!1),a===!1)return i.stopDrag&amp;&amp;i.stopDrag(),z.stopDrag(),!1;for(var d=0;d&lt;this.connections.length;d++)this.connections[d].setHover(!1);this.addClass(&quot;endpointDrag&quot;),h.setConnectionBeingDragged(!0),w&amp;&amp;!this.isFull()&amp;&amp;this.isSource&amp;&amp;(w=null),h.updateOffset({elId:this.elementId}),r=this.makeInPlaceCopy(),r.referenceEndpoint=this,r.paint(),b(v,this.parent,h);var e=j(r.canvas),f=jsPlumb.CurrentLibrary.getOffset(e,h),k=h.adjustForParentOffsetAndScroll([f.left,f.top],r.canvas),o=j(this.canvas);if(i.setOffset(v.element,{left:k[0],top:k[1]}),this.parentAnchor&amp;&amp;(this.anchor=h.makeAnchor(this.parentAnchor,this.elementId,h)),h.setAttribute(this.canvas,&quot;dragId&quot;,v.id),h.setAttribute(this.canvas,&quot;elId&quot;,this.elementId),this._jsPlumb.floatingEndpoint=c(this.getPaintStyle(),this.anchor,this.endpoint,this.canvas,v.element,h,n),this.canvas.style.visibility=&quot;hidden&quot;,null==w)this.anchor.locked=!0,this.setHover(!1,!1),w=m({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:v.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:g.connectorStyle,hoverPaintStyle:g.connectorHoverStyle,connector:g.connector,overlays:g.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass}),w.addClass(h.draggingClass),this._jsPlumb.floatingEndpoint.addClass(h.draggingClass),h.fire(&quot;connectionDrag&quot;,w);else{x=!0,w.setHover(!1),H(e,!1,!0);var p=w.endpoints[0].id==this.id?0:1;w.floatingAnchorIndex=p,this.detachFromConnection(w);var s=jsPlumb.CurrentLibrary.getDragScope(o);h.setAttribute(this.canvas,&quot;originalScope&quot;,s);var t=i.getDropScope(o);i.setDragScope(o,t),h.fire(&quot;connectionDrag&quot;,w),0===p?(y=[w.source,w.sourceId,o,s],w.source=v.element,w.sourceId=v.id):(y=[w.target,w.targetId,o,s],w.target=v.element,w.targetId=v.id),w.endpoints[0===p?1:0].anchor.locked=!0,w.suspendedEndpoint=w.endpoints[p],w.suspendedElement=w.endpoints[p].getElement(),w.suspendedElementId=w.endpoints[p].elementId,w.suspendedElementType=0===p?&quot;source&quot;:&quot;target&quot;,w.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=w.suspendedEndpoint,w.endpoints[p]=this._jsPlumb.floatingEndpoint,w.addClass(h.draggingClass),this._jsPlumb.floatingEndpoint.addClass(h.draggingClass)}q[v.id]=w,h.anchorManager.addFloatingConnection(v.id,w),l.addToList(g.endpointsByElement,v.id,this._jsPlumb.floatingEndpoint),h.currentlyDragging=!0}.bind(this),B=g.dragOptions||{},C=jsPlumb.extend({},i.defaultDragOptions),D=i.dragEvents.start,E=i.dragEvents.stop,F=i.dragEvents.drag;B=jsPlumb.extend(C,B),B.scope=B.scope||this.scope,B[D]=l.wrap(B[D],A,!1),B[F]=l.wrap(B[F],z.drag),B[E]=l.wrap(B[E],function(){h.setConnectionBeingDragged(!1);var a=i.getDropEvent(arguments),b=null==w.floatingAnchorIndex?1:w.floatingAnchorIndex;w.endpoints[0===b?1:0].anchor.locked=!1,w.removeClass(h.draggingClass),w.endpoints[b]==this._jsPlumb.floatingEndpoint&amp;&amp;x&amp;&amp;w.suspendedEndpoint&amp;&amp;(0===b?(w.source=y[0],w.sourceId=y[1]):(w.target=y[0],w.targetId=y[1]),i.setDragScope(y[2],y[3]),w.endpoints[b]=w.suspendedEndpoint,(w.isReattach()||w._forceReattach||w._forceDetach||!w.endpoints[0===b?1:0].detach(w,!1,!1,!0,a))&amp;&amp;(w.setHover(!1),w.floatingAnchorIndex=null,w._forceDetach=null,w._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(w),w.suspendedEndpoint.addConnection(w),h.repaint(y[1]))),h.remove(v.element,!1),h.remove(r.canvas,!1),this.deleteAfterDragStop?h.deleteObject({endpoint:this}):this._jsPlumb&amp;&amp;(this._jsPlumb.floatingEndpoint=null,this.canvas.style.visibility=&quot;visible&quot;,this.anchor.locked=!1,this.paint({recalc:!1})),h.fire(&quot;connectionDragStop&quot;,w),h.currentlyDragging=!1,w=null}.bind(this));var G=j(this.canvas);i.initDraggable(G,B,!0,h)}var H=function(a,b,c,d){if((this.isTarget||b)&amp;&amp;i.isDropSupported(this.element)){var e=g.dropOptions||h.Defaults.DropOptions||jsPlumb.Defaults.DropOptions;e=jsPlumb.extend({},e),e.scope=e.scope||this.scope;var f=i.dragEvents.drop,k=i.dragEvents.over,m=i.dragEvents.out,n=function(){this.removeClass(h.endpointDropAllowedClass),this.removeClass(h.endpointDropForbiddenClass);var a=i.getDropEvent(arguments),b=j(i.getDragObject(arguments)),c=h.getAttribute(b,&quot;dragId&quot;),e=(h.getAttribute(b,&quot;elId&quot;),h.getAttribute(b,&quot;originalScope&quot;)),f=q[c],g=f.suspendedEndpoint&amp;&amp;(f.suspendedEndpoint.id==this.id||this.referenceEndpoint&amp;&amp;f.suspendedEndpoint.id==this.referenceEndpoint.id);if(g)return f._forceReattach=!0,void 0;if(null!=f){var k=null==f.floatingAnchorIndex?1:f.floatingAnchorIndex;e&amp;&amp;jsPlumb.CurrentLibrary.setDragScope(b,e);var l=null!=d?d.isEnabled():!0;if(this.isFull()&amp;&amp;this.fire(&quot;maxConnections&quot;,{endpoint:this,connection:f,maxConnections:this._jsPlumb.maxConnections},a),!this.isFull()&amp;&amp;(0!==k||this.isSource)&amp;&amp;(1!=k||this.isTarget)&amp;&amp;l){var m=!0;f.suspendedEndpoint&amp;&amp;f.suspendedEndpoint.id!=this.id&amp;&amp;(0===k?(f.source=f.suspendedEndpoint.element,f.sourceId=f.suspendedEndpoint.elementId):(f.target=f.suspendedEndpoint.element,f.targetId=f.suspendedEndpoint.elementId),f.isDetachAllowed(f)&amp;&amp;f.endpoints[k].isDetachAllowed(f)&amp;&amp;f.suspendedEndpoint.isDetachAllowed(f)&amp;&amp;h.checkCondition(&quot;beforeDetach&quot;,f)||(m=!1)),0===k?(f.source=this.element,f.sourceId=this.elementId):(f.target=this.element,f.targetId=this.elementId);var n=function(){f.floatingAnchorIndex=null},r=function(){f.endpoints[k].detachFromConnection(f),f.suspendedEndpoint&amp;&amp;f.suspendedEndpoint.detachFromConnection(f),f.endpoints[k]=this,this.addConnection(f);var b=this.getParameters();for(var c in b)f.setParameter(c,b[c]);if(f.suspendedEndpoint){var d=f.suspendedEndpoint.getElement(),e=f.suspendedEndpoint.elementId;p({source:0===k?d:f.source,target:1==k?d:f.target,sourceId:0===k?e:f.sourceId,targetId:1==k?e:f.targetId,sourceEndpoint:0===k?f.suspendedEndpoint:f.endpoints[0],targetEndpoint:1==k?f.suspendedEndpoint:f.endpoints[1],connection:f},!0,a)}else b.draggable&amp;&amp;jsPlumb.CurrentLibrary.initDraggable(this.element,B,!0,h);1==k?h.anchorManager.updateOtherEndpoint(f.sourceId,f.suspendedElementId,f.targetId,f):h.anchorManager.sourceChanged(f.suspendedEndpoint.elementId,f.sourceId,f),o(f,null,a,!0),n()}.bind(this),s=function(){f.suspendedEndpoint&amp;&amp;(f.endpoints[k]=f.suspendedEndpoint,f.setHover(!1),f._forceDetach=!0,0===k?(f.source=f.suspendedEndpoint.element,f.sourceId=f.suspendedEndpoint.elementId):(f.target=f.suspendedEndpoint.element,f.targetId=f.suspendedEndpoint.elementId),f.suspendedEndpoint.addConnection(f),f.endpoints[0].repaint(),f.repaint(),h.repaint(f.sourceId),f._forceDetach=!1),n()};m=m&amp;&amp;this.isDropAllowed(f.sourceId,f.targetId,f.scope,f,this),m?r():s()}h.currentlyDragging=!1}}.bind(this);e[f]=l.wrap(e[f],n),e[k]=l.wrap(e[k],function(){var a=i.getDragObject(arguments),b=h.getAttribute(a,&quot;dragId&quot;),c=q[b];if(null!=c){var d=null==c.floatingAnchorIndex?1:c.floatingAnchorIndex,e=this.isTarget&amp;&amp;0!==c.floatingAnchorIndex||c.suspendedEndpoint&amp;&amp;this.referenceEndpoint&amp;&amp;this.referenceEndpoint.id==c.suspendedEndpoint.id;if(e){var f=h.checkCondition(&quot;checkDropAllowed&quot;,{sourceEndpoint:c.endpoints[d],targetEndpoint:this,connection:c});this[(f?&quot;add&quot;:&quot;remove&quot;)+&quot;Class&quot;](h.endpointDropAllowedClass),this[(f?&quot;remove&quot;:&quot;add&quot;)+&quot;Class&quot;](h.endpointDropForbiddenClass),c.endpoints[d].anchor.over(this.anchor,this)}}}.bind(this)),e[m]=l.wrap(e[m],function(){var a=i.getDragObject(arguments),b=h.getAttribute(a,&quot;dragId&quot;),c=q[b];if(null!=c){var d=null==c.floatingAnchorIndex?1:c.floatingAnchorIndex,e=this.isTarget&amp;&amp;0!==c.floatingAnchorIndex||c.suspendedEndpoint&amp;&amp;this.referenceEndpoint&amp;&amp;this.referenceEndpoint.id==c.suspendedEndpoint.id;e&amp;&amp;(this.removeClass(h.endpointDropAllowedClass),this.removeClass(h.endpointDropForbiddenClass),c.endpoints[d].anchor.out())}}.bind(this)),i.initDroppable(a,e,!0,c)}}.bind(this);return H(j(this.canvas),!0,!(g._transient||this.anchor.isFloating),this),g.type&amp;&amp;this.addType(g.type,g.data,h.isSuspendDrawing()),this},jsPlumbUtil.extend(jsPlumb.Endpoint,OverlayCapableJsPlumbUIComponent,{getTypeDescriptor:function(){return&quot;endpoint&quot;},isVisible:function(){return this._jsPlumb.visible},setVisible:function(a,b,c){if(this._jsPlumb.visible=a,this.canvas&amp;&amp;(this.canvas.style.display=a?&quot;block&quot;:&quot;none&quot;),this[a?&quot;showOverlays&quot;:&quot;hideOverlays&quot;](),!b)for(var d=0;d&lt;this.connections.length;d++)if(this.connections[d].setVisible(a),!c){var e=this===this.connections[d].endpoints[0]?1:0;1==this.connections[d].endpoints[e].connections.length&amp;&amp;this.connections[d].endpoints[e].setVisible(a,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(a){null!=a.maxConnections&amp;&amp;(this._jsPlumb.maxConnections=a.maxConnections),a.scope&amp;&amp;(this.scope=a.scope),jsPlumbUtil.copyValues(d,a,this)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(a){this._jsPlumb.enabled=a},cleanup:function(){jsPlumb.CurrentLibrary.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+&quot;_&quot;+this._jsPlumb.currentAnchorClass),this.anchor=null,this.endpoint.cleanup(),this.endpoint.destroy(),this.endpoint=null;var a=jsPlumb.CurrentLibrary.getElementObject(this.canvas);jsPlumb.CurrentLibrary.destroyDraggable(a),jsPlumb.CurrentLibrary.destroyDroppable(a)},setHover:function(a){this.endpoint&amp;&amp;this._jsPlumb&amp;&amp;!this._jsPlumb.instance.isConnectionBeingDragged()&amp;&amp;this.endpoint.setHover(a)},isFull:function(){return!(this.isFloating()||this._jsPlumb.maxConnections&lt;1||this.connections.length&lt;this._jsPlumb.maxConnections)},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(a){this._jsPlumb.connectionCost=a},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(a){this._jsPlumb.connectionsDirected=a},setElementId:function(a){this.elementId=a,this.anchor.elementId=a},setReferenceElement:function(a){this.element=jsPlumb.CurrentLibrary.getDOMElement(a)},setDragAllowedWhenFull:function(a){this.dragAllowedWhenFull=a},equals:function(a){return this.anchor.equals(a.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(a){return this.anchor.compute(a)}})}(),function(){var a=function(a,b,c,d){if(!a.Defaults.DoNotThrowErrors&amp;&amp;null==jsPlumb.Connectors[b][c])throw{msg:&quot;jsPlumb: unknown connector type &#39;&quot;+c+&quot;&#39;&quot;};return new jsPlumb.Connectors[b][c](d)},b=function(a,b,c){return a?c.makeAnchor(a,b,c):null},c=function(a,c,d,e,f,g,h,i,j,k){var l;if(e)d.endpoints[f]=e,e.addConnection(d);else{g.endpoints||(g.endpoints=[null,null]);var m=g.endpoints[f]||g.endpoint||a.Defaults.Endpoints[f]||jsPlumb.Defaults.Endpoints[f]||a.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;g.endpointStyles||(g.endpointStyles=[null,null]),g.endpointHoverStyles||(g.endpointHoverStyles=[null,null]);var n=g.endpointStyles[f]||g.endpointStyle||a.Defaults.EndpointStyles[f]||jsPlumb.Defaults.EndpointStyles[f]||a.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==n.fillStyle&amp;&amp;null!=j&amp;&amp;(n.fillStyle=j.strokeStyle),null==n.outlineColor&amp;&amp;null!=j&amp;&amp;(n.outlineColor=j.outlineColor),null==n.outlineWidth&amp;&amp;null!=j&amp;&amp;(n.outlineWidth=j.outlineWidth);var o=g.endpointHoverStyles[f]||g.endpointHoverStyle||a.Defaults.EndpointHoverStyles[f]||jsPlumb.Defaults.EndpointHoverStyles[f]||a.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=k&amp;&amp;(null==o&amp;&amp;(o={}),null==o.fillStyle&amp;&amp;(o.fillStyle=k.strokeStyle));var p=g.anchors?g.anchors[f]:g.anchor?g.anchor:b(a.Defaults.Anchors[f],i,a)||b(jsPlumb.Defaults.Anchors[f],i,a)||b(a.Defaults.Anchor,i,a)||b(jsPlumb.Defaults.Anchor,i,a),q=g.uuids?g.uuids[f]:null;l=c({paintStyle:n,hoverPaintStyle:o,endpoint:m,connections:[d],uuid:q,anchor:p,source:h,scope:g.scope,container:g.container,reattach:g.reattach||a.Defaults.ReattachConnections,detachable:g.detachable||a.Defaults.ConnectionsDetachable}),d.endpoints[f]=l,g.drawEndpoints===!1&amp;&amp;l.setVisible(!1,!0,!0)}return l};jsPlumb.Connection=function(a){var b=(a.newConnection,a.newEndpoint),d=jsPlumb.CurrentLibrary,e=(d.getAttribute,d.getElementObject,d.getDOMElement),f=jsPlumbUtil;d.getOffset,this.connector=null,this.idPrefix=&quot;_jsplumb_c_&quot;,this.defaultLabelLocation=.5,this.defaultOverlayKeys=[&quot;Overlays&quot;,&quot;ConnectionOverlays&quot;],this.parent=a.parent,this.previousConnection=a.previousConnection,this.source=e(a.source),this.target=e(a.target),a.sourceEndpoint&amp;&amp;(this.source=a.sourceEndpoint.endpointWillMoveTo||a.sourceEndpoint.getElement()),a.targetEndpoint&amp;&amp;(this.target=a.targetEndpoint.getElement()),OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=a.scope,this.endpoints=[],this.endpointStyles=[];var g=this._jsPlumb.instance;this._jsPlumb.visible=!0,this._jsPlumb.editable=a.editable===!0,this._jsPlumb.params={parent:a.parent,cssClass:a.cssClass,container:a.container,&quot;pointer-events&quot;:a[&quot;pointer-events&quot;],editorParams:a.editorParams},this._jsPlumb.lastPaintedAt=null,this.getDefaultType=function(){return{parameters:{},scope:null,detachable:this._jsPlumb.instance.Defaults.ConnectionsDetachable,rettach:this._jsPlumb.instance.Defaults.ReattachConnections,paintStyle:this._jsPlumb.instance.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,connector:this._jsPlumb.instance.Defaults.Connector||jsPlumb.Defaults.Connector,hoverPaintStyle:this._jsPlumb.instance.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,overlays:this._jsPlumb.instance.Defaults.ConnectorOverlays||jsPlumb.Defaults.ConnectorOverlays}};var h=c(g,b,this,a.sourceEndpoint,0,a,this.source,this.sourceId,a.paintStyle,a.hoverPaintStyle);h&amp;&amp;f.addToList(a.endpointsByElement,this.sourceId,h);var i=c(g,b,this,a.targetEndpoint,1,a,this.target,this.targetId,a.paintStyle,a.hoverPaintStyle);i&amp;&amp;f.addToList(a.endpointsByElement,this.targetId,i),this.scope||(this.scope=this.endpoints[0].scope),null!=a.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=a.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=a.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0)),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||a.connector||g.Defaults.Connector||jsPlumb.Defaults.Connector,!0),a.path&amp;&amp;this.connector.setPath(a.path),this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||a.paintStyle||g.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,!0),this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||a.hoverPaintStyle||g.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,!0),this._jsPlumb.paintStyleInUse=this.getPaintStyle();var j=g.getSuspendedAt();if(g.updateOffset({elId:this.sourceId,timestamp:j}),g.updateOffset({elId:this.targetId,timestamp:j}),!g.isSuspendDrawing()){var k=g.getCachedData(this.sourceId),l=k.o,m=k.s,n=g.getCachedData(this.targetId),o=n.o,p=n.s,q=j||g.timestamp(),r=this.endpoints[0].anchor.compute({xy:[l.left,l.top],wh:m,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[o.left,o.top],twh:p,tElement:this.endpoints[1],timestamp:q});this.endpoints[0].paint({anchorLoc:r,timestamp:q}),r=this.endpoints[1].anchor.compute({xy:[o.left,o.top],wh:p,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[l.left,l.top],twh:m,tElement:this.endpoints[0],timestamp:q}),this.endpoints[1].paint({anchorLoc:r,timestamp:q})}this._jsPlumb.detachable=g.Defaults.ConnectionsDetachable,a.detachable===!1&amp;&amp;(this._jsPlumb.detachable=!1),this.endpoints[0].connectionsDetachable===!1&amp;&amp;(this._jsPlumb.detachable=!1),this.endpoints[1].connectionsDetachable===!1&amp;&amp;(this._jsPlumb.detachable=!1),this._jsPlumb.reattach=a.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||g.Defaults.ReattachConnections,this._jsPlumb.cost=a.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=a.directed,null==a.directed&amp;&amp;(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var s=jsPlumb.extend({},this.endpoints[1].getParameters());jsPlumb.extend(s,this.endpoints[0].getParameters()),jsPlumb.extend(s,this.getParameters()),this.setParameters(s);var t=a.type||this.endpoints[0].connectionType||this.endpoints[1].connectionType;t&amp;&amp;this.addType(t,a.data,!0)},jsPlumbUtil.extend(jsPlumb.Connection,OverlayCapableJsPlumbUIComponent,{applyType:function(a,b){null!=a.detachable&amp;&amp;this.setDetachable(a.detachable),null!=a.reattach&amp;&amp;this.setReattach(a.reattach),a.scope&amp;&amp;(this.scope=a.scope),this.setConnector(a.connector,b)},getTypeDescriptor:function(){return&quot;connection&quot;},getAttachedElements:function(){return this.endpoints},addClass:function(a,b){b&amp;&amp;(this.endpoints[0].addClass(a),this.endpoints[1].addClass(a),this.suspendedEndpoint&amp;&amp;this.suspendedEndpoint.addClass(a)),this.connector&amp;&amp;this.connector.addClass(a)},removeClass:function(a,b){b&amp;&amp;(this.endpoints[0].removeClass(a),this.endpoints[1].removeClass(a),this.suspendedEndpoint&amp;&amp;this.suspendedEndpoint.removeClass(a)),this.connector&amp;&amp;this.connector.removeClass(a)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(a){this._jsPlumb.visible=a,this[a?&quot;showOverlays&quot;:&quot;hideOverlays&quot;](),this.connector&amp;&amp;this.connector.canvas&amp;&amp;(this.connector.canvas.style.display=a?&quot;block&quot;:&quot;none&quot;),this.repaint()},setEditable:function(a){return this.connector&amp;&amp;this.connector.isEditable()&amp;&amp;(this._jsPlumb.editable=a),this._jsPlumb.editable},isEditable:function(){return this._jsPlumb.editable},editStarted:function(){this.setSuspendEvents(!0),this.fire(&quot;editStarted&quot;,{path:this.connector.getPath()}),this._jsPlumb.instance.setHoverSuspended(!0)},editCompleted:function(){this.fire(&quot;editCompleted&quot;,{path:this.connector.getPath()}),this.setSuspendEvents(!1),this.setHover(!1),this._jsPlumb.instance.setHoverSuspended(!1)},editCanceled:function(){this.fire(&quot;editCanceled&quot;,{path:this.connector.getPath()}),this.setHover(!1),this._jsPlumb.instance.setHoverSuspended(!1)},cleanup:function(){this.endpoints=null,this.source=null,this.target=null,null!=this.connector&amp;&amp;(this.connector.cleanup(),this.connector.destroy()),this.connector=null},isDetachable:function(){return this._jsPlumb.detachable===!0},setDetachable:function(a){this._jsPlumb.detachable=a===!0},isReattach:function(){return this._jsPlumb.reattach===!0},setReattach:function(a){this._jsPlumb.reattach=a===!0},setHover:function(a){this.connector&amp;&amp;this._jsPlumb&amp;&amp;!this._jsPlumb.instance.isConnectionBeingDragged()&amp;&amp;(this.connector.setHover(a),jsPlumb.CurrentLibrary[a?&quot;addClass&quot;:&quot;removeClass&quot;](this.source,this._jsPlumb.instance.hoverSourceClass),jsPlumb.CurrentLibrary[a?&quot;addClass&quot;:&quot;removeClass&quot;](this.target,this._jsPlumb.instance.hoverTargetClass))},getCost:function(){return this._jsPlumb.cost},setCost:function(a){this._jsPlumb.cost=a},isDirected:function(){return this._jsPlumb.directed===!0},moveParent:function(a){var b=jsPlumb.CurrentLibrary;b.getParent(this.connector.canvas),this.connector.bgCanvas&amp;&amp;(b.removeElement(this.connector.bgCanvas),b.appendElement(this.connector.bgCanvas,a)),b.removeElement(this.connector.canvas),b.appendElement(this.connector.canvas,a);for(var c=0;c&lt;this._jsPlumb.overlays.length;c++)this._jsPlumb.overlays[c].isAppendedAtTopLevel&amp;&amp;(b.removeElement(this._jsPlumb.overlays[c].canvas),b.appendElement(this._jsPlumb.overlays[c].canvas,a),this._jsPlumb.overlays[c].reattachListeners&amp;&amp;this._jsPlumb.overlays[c].reattachListeners(this.connector));this.connector.reattachListeners&amp;&amp;this.connector.reattachListeners()},getConnector:function(){return this.connector},setConnector:function(b,c){var d=jsPlumbUtil;null!=this.connector&amp;&amp;(this.connector.cleanup(),this.connector.destroy());var e={_jsPlumb:this._jsPlumb.instance,parent:this._jsPlumb.params.parent,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,&quot;pointer-events&quot;:this._jsPlumb.params[&quot;pointer-events&quot;]},f=this._jsPlumb.instance.getRenderMode();d.isString(b)?this.connector=a(this._jsPlumb.instance,f,b,e):d.isArray(b)&amp;&amp;(this.connector=1==b.length?a(this._jsPlumb.instance,f,b[0],e):a(this._jsPlumb.instance,f,b[0],d.merge(b[1],e))),this.bindListeners(this.connector,this,function(a){this.setHover(a,!1)}.bind(this)),this.canvas=this.connector.canvas,this._jsPlumb.editable&amp;&amp;null!=jsPlumb.ConnectorEditors&amp;&amp;jsPlumb.ConnectorEditors[this.connector.type]&amp;&amp;this.connector.isEditable()?new jsPlumb.ConnectorEditors[this.connector.type]({connector:this.connector,connection:this,params:this._jsPlumb.params.editorParams||{}}):editable=!1,c||this.repaint()},paint:function(a){if(!this._jsPlumb.instance.isSuspendDrawing()&amp;&amp;this._jsPlumb.visible){a=a||{};var b=(a.elId,a.ui),c=a.recalc,d=a.timestamp,e=!1,f=e?this.sourceId:this.targetId,g=e?this.targetId:this.sourceId,h=e?0:1,i=e?1:0;if(null==d||d!=this._jsPlumb.lastPaintedAt){var j=this._jsPlumb.instance.updateOffset({elId:g,offset:b,recalc:c,timestamp:d}).o,k=this._jsPlumb.instance.updateOffset({elId:f,timestamp:d}).o,l=this.endpoints[i],m=this.endpoints[h];a.clearEdits&amp;&amp;(l.anchor.clearUserDefinedLocation(),m.anchor.clearUserDefinedLocation(),this.connector.setEdited(!1));var n=l.anchor.getCurrentLocation({xy:[j.left,j.top],wh:[j.width,j.height],element:l,timestamp:d}),o=m.anchor.getCurrentLocation({xy:[k.left,k.top],wh:[k.width,k.height],element:m,timestamp:d});this.connector.resetBounds(),this.connector.compute({sourcePos:n,targetPos:o,sourceEndpoint:this.endpoints[i],targetEndpoint:this.endpoints[h],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:j,targetInfo:k,clearEdits:a.clearEdits===!0});for(var p={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},q=0;q&lt;this._jsPlumb.overlays.length;q++){var r=this._jsPlumb.overlays[q];r.isVisible()&amp;&amp;(this._jsPlumb.overlayPlacements[q]=r.draw(this.connector,this._jsPlumb.paintStyleInUse),p.minX=Math.min(p.minX,this._jsPlumb.overlayPlacements[q].minX),p.maxX=Math.max(p.maxX,this._jsPlumb.overlayPlacements[q].maxX),p.minY=Math.min(p.minY,this._jsPlumb.overlayPlacements[q].minY),p.maxY=Math.max(p.maxY,this._jsPlumb.overlayPlacements[q].maxY))}var s=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,t=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),u={xmin:Math.min(this.connector.bounds.minX-(s+t),p.minX),ymin:Math.min(this.connector.bounds.minY-(s+t),p.minY),xmax:Math.max(this.connector.bounds.maxX+(s+t),p.maxX),ymax:Math.max(this.connector.bounds.maxY+(s+t),p.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,u);for(var v=0;v&lt;this._jsPlumb.overlays.length;v++){var w=this._jsPlumb.overlays[v];w.isVisible()&amp;&amp;w.paint(this._jsPlumb.overlayPlacements[v],u)}}this._jsPlumb.lastPaintedAt=d}},repaint:function(a){a=a||{},this.paint({elId:this.sourceId,recalc:!(a.recalc===!1),timestamp:a.timestamp,clearEdits:a.clearEdits})}})}(),function(){jsPlumb.AnchorManager=function(a){var b={},c={},d={},e={},f={},g={HORIZONTAL:&quot;horizontal&quot;,VERTICAL:&quot;vertical&quot;,DIAGONAL:&quot;diagonal&quot;,IDENTITY:&quot;identity&quot;},h={},i=this,j={},k=a.jsPlumbInstance,l=jsPlumb.CurrentLibrary,m={},n=function(a,b,c,d,e,f){if(a===b)return{orientation:g.IDENTITY,a:[&quot;top&quot;,&quot;top&quot;]};var h=Math.atan2(d.centery-c.centery,d.centerx-c.centerx),i=Math.atan2(c.centery-d.centery,c.centerx-d.centerx),j=c.left&lt;=d.left&amp;&amp;c.right&gt;=d.left||c.left&lt;=d.right&amp;&amp;c.right&gt;=d.right||c.left&lt;=d.left&amp;&amp;c.right&gt;=d.right||d.left&lt;=c.left&amp;&amp;d.right&gt;=c.right,k=c.top&lt;=d.top&amp;&amp;c.bottom&gt;=d.top||c.top&lt;=d.bottom&amp;&amp;c.bottom&gt;=d.bottom||c.top&lt;=d.top&amp;&amp;c.bottom&gt;=d.bottom||d.top&lt;=c.top&amp;&amp;d.bottom&gt;=c.bottom,l=function(a){return[e.isContinuous?e.verifyEdge(a[0]):a[0],f.isContinuous?f.verifyEdge(a[1]):a[1]]},m={orientation:g.DIAGONAL,theta:h,theta2:i};return j||k?j?(m.orientation=g.HORIZONTAL,m.a=c.top&lt;d.top?[&quot;bottom&quot;,&quot;top&quot;]:[&quot;top&quot;,&quot;bottom&quot;]):(m.orientation=g.VERTICAL,m.a=c.left&lt;d.left?[&quot;right&quot;,&quot;left&quot;]:[&quot;left&quot;,&quot;right&quot;]):d.left&gt;c.left&amp;&amp;d.top&gt;c.top?m.a=[&quot;right&quot;,&quot;top&quot;]:d.left&gt;c.left&amp;&amp;c.top&gt;d.top?m.a=[&quot;top&quot;,&quot;left&quot;]:d.left&lt;c.left&amp;&amp;d.top&lt;c.top?m.a=[&quot;top&quot;,&quot;right&quot;]:d.left&lt;c.left&amp;&amp;d.top&gt;c.top&amp;&amp;(m.a=[&quot;left&quot;,&quot;top&quot;]),m.a=l(m.a),m},o=function(a,b,c,d,e,f,g){for(var h=[],i=b[e?0:1]/(d.length+1),j=0;j&lt;d.length;j++){var k=(j+1)*i,l=f*b[e?1:0];g&amp;&amp;(k=b[e?0:1]-k);var m=e?k:l,n=c[0]+m,o=m/b[0],p=e?l:k,q=c[1]+p,r=p/b[1];h.push([n,q,o,r,d[j][1],d[j][2]])}return h},p=function(a){return function(b,c){var d=!0;return d=a?b[0][0]&lt;c[0][0]:b[0][0]&gt;c[0][0],d===!1?-1:1}},q=function(a,b){var c=a[0][0]&lt;0?-Math.PI-a[0][0]:Math.PI-a[0][0],d=b[0][0]&lt;0?-Math.PI-b[0][0]:Math.PI-b[0][0];return c&gt;d?1:a[0][1]&gt;b[0][1]?1:-1},r={top:function(a,b){return a[0]&gt;b[0]?1:-1},right:p(!0),bottom:p(!0),left:q},s=function(a,b){return a.sort(b)},t=function(a,b){var c=k.getCachedData(a),e=c.s,g=c.o,h=function(b,c,e,g,h,i,j){if(g.length&gt;0)for(var l=s(g,r[b]),m=&quot;right&quot;===b||&quot;top&quot;===b,n=o(b,c,e,l,h,i,m),p=function(a,b){var c=k.adjustForParentOffsetAndScroll([b[0],b[1]],a.canvas);d[a.id]=[c[0],c[1],b[2],b[3]],f[a.id]=j},q=0;q&lt;n.length;q++){var t=n[q][4],u=t.endpoints[0].elementId===a,v=t.endpoints[1].elementId===a;u?p(t.endpoints[0],n[q]):v&amp;&amp;p(t.endpoints[1],n[q])}};h(&quot;bottom&quot;,e,[g.left,g.top],b.bottom,!0,1,[0,1]),h(&quot;top&quot;,e,[g.left,g.top],b.top,!0,0,[0,-1]),h(&quot;left&quot;,e,[g.left,g.top],b.left,!1,0,[-1,0]),h(&quot;right&quot;,e,[g.left,g.top],b.right,!1,1,[1,0])};this.reset=function(){b={},h={},j={}},this.addFloatingConnection=function(a,b){m[a]=b},this.removeFloatingConnection=function(a){delete m[a]},this.newConnection=function(a){var b=a.sourceId,c=a.targetId,d=a.endpoints,e=!0,f=function(a,f,g,i,j){b==c&amp;&amp;g.isContinuous&amp;&amp;(l.removeElement(d[1].canvas),e=!1),jsPlumbUtil.addToList(h,i,[j,f,g.constructor==jsPlumb.DynamicAnchor])};f(0,d[0],d[0].anchor,c,a),e&amp;&amp;f(1,d[1],d[1].anchor,b,a)};var u=function(a){!function(a,b){if(a){var c=function(a){return a[4]==b};jsPlumbUtil.removeWithFunction(a.top,c),jsPlumbUtil.removeWithFunction(a.left,c),jsPlumbUtil.removeWithFunction(a.bottom,c),jsPlumbUtil.removeWithFunction(a.right,c)}}(j[a.elementId],a.id)};this.connectionDetached=function(a){var b=a.connection||a,c=a.sourceId,d=a.targetId,e=b.endpoints,f=function(a,b,c,d,e){null!=c&amp;&amp;c.constructor==jsPlumb.FloatingAnchor||jsPlumbUtil.removeWithFunction(h[d],function(a){return a[0].id==e.id})};f(1,e[1],e[1].anchor,c,b),f(0,e[0],e[0].anchor,d,b),u(b.endpoints[0]),u(b.endpoints[1]),i.redraw(b.sourceId),i.redraw(b.targetId)},this.add=function(a,c){jsPlumbUtil.addToList(b,c,a)},this.changeId=function(a,c){h[c]=h[a],b[c]=b[a],delete h[a],delete b[a]},this.getConnectionsFor=function(a){return h[a]||[]},this.getEndpointsFor=function(a){return b[a]||[]},this.deleteEndpoint=function(a){jsPlumbUtil.removeWithFunction(b[a.elementId],function(b){return b.id==a.id}),u(a)},this.clearFor=function(a){delete b[a],b[a]=[]};var v=function(b,c,d,e,f,g,h,i,j,k,l,m){var n=-1,o=-1,p=e.endpoints[h],q=p.id,r=[1,0][h],s=[[c,d],e,f,g,q],t=b[j],u=p._continuousAnchorEdge?b[p._continuousAnchorEdge]:null;if(u){var v=jsPlumbUtil.findWithFunction(u,function(a){return a[4]==q});if(-1!=v){u.splice(v,1);for(var w=0;w&lt;u.length;w++)jsPlumbUtil.addWithFunction(l,u[w][1],function(a){return a.id==u[w][1].id}),jsPlumbUtil.addWithFunction(m,u[w][1].endpoints[h],function(a){return a.id==u[w][1].endpoints[h].id}),jsPlumbUtil.addWithFunction(m,u[w][1].endpoints[r],function(a){return a.id==u[w][1].endpoints[r].id})}}for(w=0;w&lt;t.length;w++)1==a.idx&amp;&amp;t[w][3]===g&amp;&amp;-1==o&amp;&amp;(o=w),jsPlumbUtil.addWithFunction(l,t[w][1],function(a){return a.id==t[w][1].id}),jsPlumbUtil.addWithFunction(m,t[w][1].endpoints[h],function(a){return a.id==t[w][1].endpoints[h].id}),jsPlumbUtil.addWithFunction(m,t[w][1].endpoints[r],function(a){return a.id==t[w][1].endpoints[r].id});if(-1!=n)t[n]=s;else{var x=i?-1!=o?o:0:t.length;t.splice(x,0,s)}p._continuousAnchorEdge=j};this.updateOtherEndpoint=function(a,b,c,d){var e=jsPlumbUtil.findWithFunction(h[a],function(a){return a[0].id===d.id}),f=jsPlumbUtil.findWithFunction(h[b],function(a){return a[0].id===d.id});-1!=e&amp;&amp;(h[a][e][0]=d,h[a][e][1]=d.endpoints[1],h[a][e][2]=d.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor),f&gt;-1&amp;&amp;(h[b].splice(f,1),jsPlumbUtil.addToList(h,c,[d,d.endpoints[0],d.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor]))},this.sourceChanged=function(a,b,c){jsPlumbUtil.removeWithFunction(h[a],function(a){return a[0].id===c.id});var d=jsPlumbUtil.findWithFunction(h[c.targetId],function(a){return a[0].id===c.id});d&gt;-1&amp;&amp;(h[c.targetId][d][0]=c,h[c.targetId][d][1]=c.endpoints[0],h[c.targetId][d][2]=c.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor),jsPlumbUtil.addToList(h,b,[c,c.endpoints[1],c.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor])},this.rehomeEndpoint=function(a,c,d){var e=b[c]||[],f=k.getId(d);if(f!==c){var g=jsPlumbUtil.indexOf(e,a);if(g&gt;-1){var h=e.splice(g,1)[0];i.add(h,f)}}for(var j=0;j&lt;a.connections.length;j++)a.connections[j].sourceId==c?(a.connections[j].sourceId=a.elementId,a.connections[j].source=a.element,i.sourceChanged(c,a.elementId,a.connections[j])):a.connections[j].targetId==c&amp;&amp;(a.connections[j].targetId=a.elementId,a.connections[j].target=a.element,i.updateOtherEndpoint(a.connections[j].sourceId,c,a.elementId,a.connections[j]))},this.redraw=function(a,c,d,e,f,g){if(!k.isSuspendDrawing()){var i=b[a]||[],l=h[a]||[],o=[],p=[],q=[];d=d||k.timestamp(),e=e||{left:0,top:0},c&amp;&amp;(c={left:c.left+e.left,top:c.top+e.top});for(var r=k.updateOffset({elId:a,offset:c,recalc:!1,timestamp:d}),s={},u=0;u&lt;l.length;u++){var w=l[u][0],x=w.sourceId,y=w.targetId,z=w.endpoints[0].anchor.isContinuous,A=w.endpoints[1].anchor.isContinuous;if(z||A){var B=x+&quot;_&quot;+y,C=s[B],D=w.sourceId==a?1:0;z&amp;&amp;!j[x]&amp;&amp;(j[x]={top:[],right:[],bottom:[],left:[]}),A&amp;&amp;!j[y]&amp;&amp;(j[y]={top:[],right:[],bottom:[],left:[]}),a!=y&amp;&amp;k.updateOffset({elId:y,timestamp:d}),a!=x&amp;&amp;k.updateOffset({elId:x,timestamp:d});var E=k.getCachedData(y),F=k.getCachedData(x);y==x&amp;&amp;(z||A)?v(j[x],-Math.PI/2,0,w,!1,y,0,!1,&quot;top&quot;,x,o,p):(C||(C=n(x,y,F.o,E.o,w.endpoints[0].anchor,w.endpoints[1].anchor),s[B]=C),z&amp;&amp;v(j[x],C.theta,0,w,!1,y,0,!1,C.a[0],x,o,p),A&amp;&amp;v(j[y],C.theta2,-1,w,!0,x,1,!0,C.a[1],y,o,p)),z&amp;&amp;jsPlumbUtil.addWithFunction(q,x,function(a){return a===x}),A&amp;&amp;jsPlumbUtil.addWithFunction(q,y,function(a){return a===y}),jsPlumbUtil.addWithFunction(o,w,function(a){return a.id==w.id}),(z&amp;&amp;0===D||A&amp;&amp;1===D)&amp;&amp;jsPlumbUtil.addWithFunction(p,w.endpoints[D],function(a){return a.id==w.endpoints[D].id})}}for(u=0;u&lt;i.length;u++)0===i[u].connections.length&amp;&amp;i[u].anchor.isContinuous&amp;&amp;(j[a]||(j[a]={top:[],right:[],bottom:[],left:[]}),v(j[a],-Math.PI/2,0,{endpoints:[i[u],i[u]],paint:function(){}},!1,a,0,!1,&quot;top&quot;,a,o,p),jsPlumbUtil.addWithFunction(q,a,function(b){return b===a}));for(u=0;u&lt;q.length;u++)t(q[u],j[q[u]]);for(u=0;u&lt;i.length;u++)i[u].paint({timestamp:d,offset:r,dimensions:r.s,recalc:g!==!0});for(u=0;u&lt;p.length;u++){var G=k.getCachedData(p[u].elementId);p[u].paint({timestamp:d,offset:G,dimensions:G.s})}for(u=0;u&lt;l.length;u++){var H=l[u][1];if(H.anchor.constructor==jsPlumb.DynamicAnchor){H.paint({elementWithPrecedence:a,timestamp:d}),jsPlumbUtil.addWithFunction(o,l[u][0],function(a){return a.id==l[u][0].id});for(var I=0;I&lt;H.connections.length;I++)H.connections[I]!==l[u][0]&amp;&amp;jsPlumbUtil.addWithFunction(o,H.connections[I],function(a){return a.id==H.connections[I].id})}else H.anchor.constructor==jsPlumb.Anchor&amp;&amp;jsPlumbUtil.addWithFunction(o,l[u][0],function(a){return a.id==l[u][0].id})}var J=m[a];for(J&amp;&amp;J.paint({timestamp:d,recalc:!1,elId:a}),u=0;u&lt;o.length;u++)o[u].paint({elId:a,timestamp:d,recalc:!1,clearEdits:f})}};var w=function(a){jsPlumbUtil.EventGenerator.apply(this),this.type=&quot;Continuous&quot;,this.isDynamic=!0,this.isContinuous=!0;</div><div class='line' id='LC4'>for(var b=a.faces||[&quot;top&quot;,&quot;right&quot;,&quot;bottom&quot;,&quot;left&quot;],c=!(a.clockwise===!1),g={},h={top:&quot;bottom&quot;,right:&quot;left&quot;,left:&quot;right&quot;,bottom:&quot;top&quot;},i={top:&quot;right&quot;,right:&quot;bottom&quot;,left:&quot;top&quot;,bottom:&quot;left&quot;},j={top:&quot;left&quot;,right:&quot;top&quot;,left:&quot;bottom&quot;,bottom:&quot;right&quot;},k=c?i:j,l=c?j:i,m=a.cssClass||&quot;&quot;,n=0;n&lt;b.length;n++)g[b[n]]=!0;this.verifyEdge=function(a){return g[a]?a:g[h[a]]?h[a]:g[k[a]]?k[a]:g[l[a]]?l[a]:a},this.compute=function(a){return e[a.element.id]||d[a.element.id]||[0,0]},this.getCurrentLocation=function(a){return e[a.element.id]||d[a.element.id]||[0,0]},this.getOrientation=function(a){return f[a.id]||[0,0]},this.clearUserDefinedLocation=function(){delete e[a.elementId]},this.setUserDefinedLocation=function(b){e[a.elementId]=b},this.getCssClass=function(){return m},this.setCssClass=function(a){m=a}};k.continuousAnchorFactory={get:function(a){var b=c[a.elementId];return b||(b=new w(a),c[a.elementId]=b),b},clear:function(a){delete c[a]}}},jsPlumb.Anchor=function(a){this.x=a.x||0,this.y=a.y||0,this.elementId=a.elementId,this.cssClass=a.cssClass||&quot;&quot;,this.userDefinedLocation=null,this.orientation=a.orientation||[0,0],jsPlumbUtil.EventGenerator.apply(this);var b=a.jsPlumbInstance;this.lastReturnValue=null,this.offsets=a.offsets||[0,0],this.timestamp=null,this.compute=function(a){var c=a.xy,d=a.wh,e=a.element,f=a.timestamp;return a.clearUserDefinedLocation&amp;&amp;(this.userDefinedLocation=null),f&amp;&amp;f===self.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:(this.lastReturnValue=[c[0]+this.x*d[0]+this.offsets[0],c[1]+this.y*d[1]+this.offsets[1]],this.lastReturnValue=b.adjustForParentOffsetAndScroll(this.lastReturnValue,e.canvas)),this.timestamp=f,this.lastReturnValue)},this.getCurrentLocation=function(a){return null==this.lastReturnValue||null!=a.timestamp&amp;&amp;this.timestamp!=a.timestamp?this.compute(a):this.lastReturnValue}},jsPlumbUtil.extend(jsPlumb.Anchor,jsPlumbUtil.EventGenerator,{equals:function(a){if(!a)return!1;var b=a.getOrientation(),c=this.getOrientation();return this.x==a.x&amp;&amp;this.y==a.y&amp;&amp;this.offsets[0]==a.offsets[0]&amp;&amp;this.offsets[1]==a.offsets[1]&amp;&amp;c[0]==b[0]&amp;&amp;c[1]==b[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(a){this.userDefinedLocation=a},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),jsPlumb.FloatingAnchor=function(a){jsPlumb.Anchor.apply(this,arguments);var b=a.reference,c=jsPlumb.CurrentLibrary,d=a.jsPlumbInstance,e=a.referenceCanvas,f=c.getSize(c.getElementObject(e)),g=0,h=0,i=null,j=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(a){var b=a.xy,c=a.element,e=[b[0]+f[0]/2,b[1]+f[1]/2];return e=d.adjustForParentOffsetAndScroll(e,c.canvas),j=e,e},this.getOrientation=function(a){if(i)return i;var c=b.getOrientation(a);return[-1*Math.abs(c[0])*g,-1*Math.abs(c[1])*h]},this.over=function(a,b){i=a.getOrientation(b)},this.out=function(){i=null},this.getCurrentLocation=function(a){return null==j?this.compute(a):j}},jsPlumbUtil.extend(jsPlumb.FloatingAnchor,jsPlumb.Anchor);var a=function(a,b,c){return a.constructor==jsPlumb.Anchor?a:b.makeAnchor(a,c,b)};jsPlumb.DynamicAnchor=function(b){jsPlumb.Anchor.apply(this,arguments),this.isSelective=!0,this.isDynamic=!0,this.anchors=[],this.elementId=b.elementId,this.jsPlumbInstance=b.jsPlumbInstance;for(var c=0;c&lt;b.anchors.length;c++)this.anchors[c]=a(b.anchors[c],this.jsPlumbInstance,this.elementId);this.addAnchor=function(b){this.anchors.push(a(b,this.jsPlumbInstance,this.elementId))},this.getAnchors=function(){return this.anchors},this.locked=!1;var d=this.anchors.length&gt;0?this.anchors[0]:null,e=(this.anchors.length&gt;0?0:-1,d),f=this,g=function(a,b,c,d,e){var f=d[0]+a.x*e[0],g=d[1]+a.y*e[1],h=d[0]+e[0]/2,i=d[1]+e[1]/2;return Math.sqrt(Math.pow(b-f,2)+Math.pow(c-g,2))+Math.sqrt(Math.pow(h-f,2)+Math.pow(i-g,2))},h=b.selector||function(a,b,c,d,e){for(var f=c[0]+d[0]/2,h=c[1]+d[1]/2,i=-1,j=1/0,k=0;k&lt;e.length;k++){var l=g(e[k],f,h,a,b);j&gt;l&amp;&amp;(i=k+0,j=l)}return e[i]};this.compute=function(a){var b=a.xy,c=a.wh,g=a.timestamp,i=a.txy,j=a.twh;a.clearUserDefinedLocation&amp;&amp;(userDefinedLocation=null),this.timestamp=g;var k=f.getUserDefinedLocation();return null!=k?k:this.locked||null==i||null==j?d.compute(a):(a.timestamp=null,d=h(b,c,i,j,this.anchors),this.x=d.x,this.y=d.y,d!=e&amp;&amp;this.fire(&quot;anchorChanged&quot;,d),e=d,d.compute(a))},this.getCurrentLocation=function(a){return this.getUserDefinedLocation()||(null!=d?d.getCurrentLocation(a):null)},this.getOrientation=function(a){return null!=d?d.getOrientation(a):[0,0]},this.over=function(a,b){null!=d&amp;&amp;d.over(a,b)},this.out=function(){null!=d&amp;&amp;d.out()},this.getCssClass=function(){return d&amp;&amp;d.getCssClass()||&quot;&quot;}},jsPlumbUtil.extend(jsPlumb.DynamicAnchor,jsPlumb.Anchor);var b=function(a,b,c,d,e,f){jsPlumb.Anchors[e]=function(g){var h=g.jsPlumbInstance.makeAnchor([a,b,c,d,0,0],g.elementId,g.jsPlumbInstance);return h.type=e,f&amp;&amp;f(h,g),h}};b(.5,0,0,-1,&quot;TopCenter&quot;),b(.5,1,0,1,&quot;BottomCenter&quot;),b(0,.5,-1,0,&quot;LeftMiddle&quot;),b(1,.5,1,0,&quot;RightMiddle&quot;),b(.5,0,0,-1,&quot;Top&quot;),b(.5,1,0,1,&quot;Bottom&quot;),b(0,.5,-1,0,&quot;Left&quot;),b(1,.5,1,0,&quot;Right&quot;),b(.5,.5,0,0,&quot;Center&quot;),b(1,0,0,-1,&quot;TopRight&quot;),b(1,1,0,1,&quot;BottomRight&quot;),b(0,0,0,-1,&quot;TopLeft&quot;),b(0,1,0,1,&quot;BottomLeft&quot;),jsPlumb.Defaults.DynamicAnchors=function(a){return a.jsPlumbInstance.makeAnchors([&quot;TopCenter&quot;,&quot;RightMiddle&quot;,&quot;BottomCenter&quot;,&quot;LeftMiddle&quot;],a.elementId,a.jsPlumbInstance)},jsPlumb.Anchors.AutoDefault=function(a){var b=a.jsPlumbInstance.makeDynamicAnchor(jsPlumb.Defaults.DynamicAnchors(a));return b.type=&quot;AutoDefault&quot;,b};var c=function(a,b){jsPlumb.Anchors[a]=function(c){var d=c.jsPlumbInstance.makeAnchor([&quot;Continuous&quot;,{faces:b}],c.elementId,c.jsPlumbInstance);return d.type=a,d}};jsPlumb.Anchors.Continuous=function(a){return a.jsPlumbInstance.continuousAnchorFactory.get(a)},c(&quot;ContinuousLeft&quot;,[&quot;left&quot;]),c(&quot;ContinuousTop&quot;,[&quot;top&quot;]),c(&quot;ContinuousBottom&quot;,[&quot;bottom&quot;]),c(&quot;ContinuousRight&quot;,[&quot;right&quot;]),jsPlumb.Anchors.Assign=b(0,0,0,0,&quot;Assign&quot;,function(a,b){var c=b.position||&quot;Fixed&quot;;a.positionFinder=c.constructor==String?b.jsPlumbInstance.AnchorPositionFinders[c]:c,a.constructorParams=b}),jsPlumb.AnchorPositionFinders={Fixed:function(a,b,c){return[(a.left-b.left)/c[0],(a.top-b.top)/c[1]]},Grid:function(a,b,c,d){var e=a.left-b.left,f=a.top-b.top,g=c[0]/d.grid[0],h=c[1]/d.grid[1],i=Math.floor(e/g),j=Math.floor(f/h);return[(i*g+g/2)/c[0],(j*h+h/2)/c[1]]}},jsPlumb.Anchors.Perimeter=function(a){a=a||{};var b=a.anchorCount||60,c=a.shape;if(!c)throw new Error(&quot;no shape supplied to Perimeter Anchor type&quot;);var d=function(){for(var a=.5,c=2*Math.PI/b,d=0,e=[],f=0;b&gt;f;f++){var g=a+a*Math.sin(d),h=a+a*Math.cos(d);e.push([g,h,0,0]),d+=c}return e},e=function(a){for(var c=b/a.length,d=[],e=function(a,e,f,g,h){c=b*h;for(var i=(f-a)/c,j=(g-e)/c,k=0;c&gt;k;k++)d.push([a+i*k,e+j*k,0,0])},f=0;f&lt;a.length;f++)e.apply(null,a[f]);return d},f=function(a){for(var b=[],c=0;c&lt;a.length;c++)b.push([a[c][0],a[c][1],a[c][2],a[c][3],1/a.length]);return e(b)},g=function(){return f([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},h={Circle:d,Ellipse:d,Diamond:function(){return f([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:g,Square:g,Triangle:function(){return f([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(a){for(var b=a.points,c=[],d=0,f=0;f&lt;b.length-1;f++){var g=Math.sqrt(Math.pow(b[f][2]-b[f][0])+Math.pow(b[f][3]-b[f][1]));d+=g,c.push([b[f][0],b[f][1],b[f+1][0],b[f+1][1],g])}for(var h=0;h&lt;c.length;h++)c[h][4]=c[h][4]/d;return e(c)}},i=function(a,b){for(var c=[],d=b/180*Math.PI,e=0;e&lt;a.length;e++){var f=a[e][0]-.5,g=a[e][1]-.5;c.push([.5+(f*Math.cos(d)-g*Math.sin(d)),.5+(f*Math.sin(d)+g*Math.cos(d)),a[e][2],a[e][3]])}return c};if(!h[c])throw new Error(&quot;Shape [&quot;+c+&quot;] is unknown by Perimeter Anchor type&quot;);var j=h[c](a);a.rotation&amp;&amp;(j=i(j,a.rotation));var k=a.jsPlumbInstance.makeDynamicAnchor(j);return k.type=&quot;Perimeter&quot;,k}}(),function(){jsPlumb.DOMElementComponent=jsPlumbUtil.extend(jsPlumb.jsPlumbUIComponent,function(){this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(){}}),jsPlumb.Segments={AbstractSegment:function(a){this.params=a,this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){var b,c,d,e,f,g,h,i=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),function(){b=Math.sqrt(Math.pow(f-e,2)+Math.pow(h-g,2)),c=jsPlumbUtil.gradient({x:e,y:g},{x:f,y:h}),d=-1/c});this.type=&quot;Straight&quot;,this.getLength=function(){return b},this.getGradient=function(){return c},this.getCoordinates=function(){return{x1:e,y1:g,x2:f,y2:h}},this.setCoordinates=function(a){e=a.x1,g=a.y1,f=a.x2,h=a.y2,i()},this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}),this.getBounds=function(){return{minX:Math.min(e,f),minY:Math.min(g,h),maxX:Math.max(e,f),maxY:Math.max(g,h)}},this.pointOnPath=function(a,c){if(0!==a||c){if(1!=a||c){var d=c?a&gt;0?a:b+a:a*b;return jsPlumbUtil.pointOnLine({x:e,y:g},{x:f,y:h},d)}return{x:f,y:h}}return{x:e,y:g}},this.gradientAtPoint=function(){return c},this.pointAlongPathFrom=function(a,b,c){var d=this.pointOnPath(a,c),i=0&gt;=b?{x:e,y:g}:{x:f,y:h};return 0&gt;=b&amp;&amp;Math.abs(b)&gt;1&amp;&amp;(b*=-1),jsPlumbUtil.pointOnLine(d,i,b)},this.findClosestPointOnPath=function(a,f){if(0===c)return{x:a,y:g,d:Math.abs(f-g)};if(1/0==c||c==-1/0)return{x:e,y:f,d:Math.abs(a-1)};var h=g-c*e,i=f-d*a,j=(i-h)/(c-d),k=c*j+h,l=jsPlumbUtil.lineLength([a,f],[j,k]),m=jsPlumbUtil.lineLength([j,k],[e,g]);return{d:l,x:j,y:k,l:m/b}}},Arc:function(a){var b=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),function(b,c){return jsPlumbUtil.theta([a.cx,a.cy],[b,c])}),c=function(a,b){if(a.anticlockwise){var c=a.startAngle&lt;a.endAngle?a.startAngle+d:a.startAngle,e=Math.abs(c-a.endAngle);return c-e*b}var f=a.endAngle&lt;a.startAngle?a.endAngle+d:a.endAngle,g=Math.abs(f-a.startAngle);return a.startAngle+g*b},d=2*Math.PI;this.radius=a.r,this.anticlockwise=a.ac,this.type=&quot;Arc&quot;,a.startAngle&amp;&amp;a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),this.y1=a.cy+this.radius*Math.sin(a.startAngle),this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=b(a.x1,a.y1),this.endAngle=b(a.x2,a.y2),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2),this.endAngle&lt;0&amp;&amp;(this.endAngle+=d),this.startAngle&lt;0&amp;&amp;(this.startAngle+=d),this.segment=jsPlumbUtil.segment([this.x1,this.y1],[this.x2,this.y2]);var e=this.endAngle&lt;this.startAngle?this.endAngle+d:this.endAngle;this.sweep=Math.abs(e-this.startAngle),this.anticlockwise&amp;&amp;(this.sweep=d-this.sweep);var f=2*Math.PI*this.radius,g=this.sweep/d,h=f*g;this.getLength=function(){return h},this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var i=1e-10,j=function(a){var b=Math.floor(a),c=Math.ceil(a);return i&gt;a-b?b:i&gt;c-a?c:a};this.pointOnPath=function(b,d){if(0===b)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==b)return{x:this.x2,y:this.y2,theta:this.endAngle};d&amp;&amp;(b/=h);var e=c(this,b),f=a.cx+a.r*Math.cos(e),g=a.cy+a.r*Math.sin(e);return{x:j(f),y:j(g),theta:e}},this.gradientAtPoint=function(b,c){var d=this.pointOnPath(b,c),e=jsPlumbUtil.normal([a.cx,a.cy],[d.x,d.y]);return this.anticlockwise||1/0!=e&amp;&amp;e!=-1/0||(e*=-1),e},this.pointAlongPathFrom=function(b,c,d){var e=this.pointOnPath(b,d),g=2*(c/f)*Math.PI,h=this.anticlockwise?-1:1,i=e.theta+h*g,j=a.cx+this.radius*Math.cos(i),k=a.cy+this.radius*Math.sin(i);return{x:j,y:k}}},Bezier:function(a){var b=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),[{x:a.x1,y:a.y1},{x:a.cp1x,y:a.cp1y},{x:a.cp2x,y:a.cp2y},{x:a.x2,y:a.y2}]),c={minX:Math.min(a.x1,a.x2,a.cp1x,a.cp2x),minY:Math.min(a.y1,a.y2,a.cp1y,a.cp2y),maxX:Math.max(a.x1,a.x2,a.cp1x,a.cp2x),maxY:Math.max(a.y1,a.y2,a.cp1y,a.cp2y)};this.type=&quot;Bezier&quot;;var d=function(a,b,c){return c&amp;&amp;(b=jsBezier.locationAlongCurveFrom(a,b&gt;0?0:1,b)),b};this.pointOnPath=function(a,c){return a=d(b,a,c),jsBezier.pointOnCurve(b,a)},this.gradientAtPoint=function(a,c){return a=d(b,a,c),jsBezier.gradientAtPoint(b,a)},this.pointAlongPathFrom=function(a,c,e){return a=d(b,a,e),jsBezier.pointAlongCurveFrom(b,a,c)},this.getLength=function(){return jsBezier.getLength(b)},this.getBounds=function(){return c}}};var a=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};jsPlumb.Connectors.AbstractConnector=function(b){a.apply(this,arguments);var c=[],d=0,e=[],f=[],g=b.stub||0,h=jsPlumbUtil.isArray(g)?g[0]:g,i=jsPlumbUtil.isArray(g)?g[1]:g,j=b.gap||0,k=jsPlumbUtil.isArray(j)?j[0]:j,l=jsPlumbUtil.isArray(j)?j[1]:j,m=null,n=!1,o=null;this.isEditable=function(){return!1},this.setEdited=function(a){n=a},this.getPath=function(){},this.setPath=function(){},this.findSegmentForPoint=function(a,b){for(var d={d:1/0,s:null,x:null,y:null,l:null},e=0;e&lt;c.length;e++){var f=c[e].findClosestPointOnPath(a,b);f.d&lt;d.d&amp;&amp;(d.d=f.d,d.l=f.l,d.x=f.x,d.y=f.y,d.s=c[e])}return d};var p=function(){for(var a=0,b=0;b&lt;c.length;b++){var g=c[b].getLength();f[b]=g/d,e[b]=[a,a+=g/d]}},q=function(a,b){b&amp;&amp;(a=a&gt;0?a/d:(d+a)/d);for(var g=e.length-1,h=1,i=0;i&lt;e.length;i++)if(e[i][1]&gt;=a){g=i,h=1==a?1:0===a?0:(a-e[i][0])/f[i];break}return{segment:c[g],proportion:h,index:g}},r=function(a,b,e){if(e.x1!=e.x2||e.y1!=e.y2){var f=new jsPlumb.Segments[b](e);c.push(f),d+=f.getLength(),a.updateBounds(f)}},s=function(){d=0,c.splice(0,c.length),e.splice(0,e.length),f.splice(0,f.length)};this.setSegments=function(a){m=[],d=0;for(var b=0;b&lt;a.length;b++)m.push(a[b]),d+=a[b].getLength()};var t=function(a){this.lineWidth=a.lineWidth;var b=jsPlumbUtil.segment(a.sourcePos,a.targetPos),c=a.targetPos[0]&lt;a.sourcePos[0],d=a.targetPos[1]&lt;a.sourcePos[1],e=a.lineWidth||1,f=a.sourceEndpoint.anchor.orientation||a.sourceEndpoint.anchor.getOrientation(a.sourceEndpoint),g=a.targetEndpoint.anchor.orientation||a.targetEndpoint.anchor.getOrientation(a.targetEndpoint),j=c?a.targetPos[0]:a.sourcePos[0],m=d?a.targetPos[1]:a.sourcePos[1],n=Math.abs(a.targetPos[0]-a.sourcePos[0]),o=Math.abs(a.targetPos[1]-a.sourcePos[1]);if(0===f[0]&amp;&amp;0===f[1]||0===g[0]&amp;&amp;0===g[1]){var p=n&gt;o?0:1,q=[1,0][p];f=[],g=[],f[p]=a.sourcePos[p]&gt;a.targetPos[p]?-1:1,g[p]=a.sourcePos[p]&gt;a.targetPos[p]?1:-1,f[q]=0,g[q]=0}var r=c?n+k*f[0]:k*f[0],s=d?o+k*f[1]:k*f[1],t=c?l*g[0]:n+l*g[0],u=d?l*g[1]:o+l*g[1],v=f[0]*g[0]+f[1]*g[1],w={sx:r,sy:s,tx:t,ty:u,lw:e,xSpan:Math.abs(t-r),ySpan:Math.abs(u-s),mx:(r+t)/2,my:(s+u)/2,so:f,to:g,x:j,y:m,w:n,h:o,segment:b,startStubX:r+f[0]*h,startStubY:s+f[1]*h,endStubX:t+g[0]*i,endStubY:u+g[1]*i,isXGreaterThanStubTimes2:Math.abs(r-t)&gt;h+i,isYGreaterThanStubTimes2:Math.abs(s-u)&gt;h+i,opposite:-1==v,perpendicular:0===v,orthogonal:1==v,sourceAxis:0===f[0]?&quot;y&quot;:&quot;x&quot;,points:[j,m,n,o,r,s,t,u]};return w.anchorOrientation=w.opposite?&quot;opposite&quot;:w.orthogonal?&quot;orthogonal&quot;:&quot;perpendicular&quot;,w};return this.getSegments=function(){return c},this.updateBounds=function(a){var b=a.getBounds();this.bounds.minX=Math.min(this.bounds.minX,b.minX),this.bounds.maxX=Math.max(this.bounds.maxX,b.maxX),this.bounds.minY=Math.min(this.bounds.minY,b.minY),this.bounds.maxY=Math.max(this.bounds.maxY,b.maxY)},this.pointOnPath=function(a,b){var c=q(a,b);return c.segment&amp;&amp;c.segment.pointOnPath(c.proportion,b)||[0,0]},this.gradientAtPoint=function(a){var b=q(a,absolute);return b.segment&amp;&amp;b.segment.gradientAtPoint(b.proportion,absolute)||0},this.pointAlongPathFrom=function(a,b,c){var d=q(a,c);return d.segment&amp;&amp;d.segment.pointAlongPathFrom(d.proportion,b,!1)||[0,0]},this.compute=function(a){n||(o=t(a)),s(),this._compute(o,a),this.x=o.points[0],this.y=o.points[1],this.w=o.points[2],this.h=o.points[3],this.segment=o.segment,p()},{addSegment:r,prepareCompute:t,sourceStub:h,targetStub:i,maxStub:Math.max(h,i),sourceGap:k,targetGap:l,maxGap:Math.max(k,l)}},jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,a);var b=function(){this.type=&quot;Straight&quot;;var a=jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(b){a.addSegment(this,&quot;Straight&quot;,{x1:b.sx,y1:b.sy,x2:b.startStubX,y2:b.startStubY}),a.addSegment(this,&quot;Straight&quot;,{x1:b.startStubX,y1:b.startStubY,x2:b.endStubX,y2:b.endStubY}),a.addSegment(this,&quot;Straight&quot;,{x1:b.endStubX,y1:b.endStubY,x2:b.tx,y2:b.ty})}};jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector),jsPlumb.registerConnectorType(b,&quot;Straight&quot;);var c=function(a){a=a||{};var b=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),c=(a.stub||50,a.curviness||150),d=10;this.type=&quot;Bezier&quot;,this.getCurviness=function(){return c},this._findControlPoint=function(a,b,e,f,g){var h=f.anchor.getOrientation(f),i=g.anchor.getOrientation(g),j=h[0]!=i[0]||h[1]==i[1],k=[];return j?(0===i[0]?k.push(e[0]&lt;b[0]?a[0]+d:a[0]-d):k.push(a[0]+c*i[0]),0===i[1]?k.push(e[1]&lt;b[1]?a[1]+d:a[1]-d):k.push(a[1]+c*h[1])):(0===h[0]?k.push(b[0]&lt;e[0]?a[0]+d:a[0]-d):k.push(a[0]-c*h[0]),0===h[1]?k.push(b[1]&lt;e[1]?a[1]+d:a[1]-d):k.push(a[1]+c*i[1])),k},this._compute=function(a,c){var d=c.sourcePos,e=c.targetPos,f=Math.abs(d[0]-e[0]),g=Math.abs(d[1]-e[1]),h=d[0]&lt;e[0]?f:0,i=d[1]&lt;e[1]?g:0,j=d[0]&lt;e[0]?0:f,k=d[1]&lt;e[1]?0:g,l=this._findControlPoint([h,i],d,e,c.sourceEndpoint,c.targetEndpoint),m=this._findControlPoint([j,k],e,d,c.targetEndpoint,c.sourceEndpoint);b.addSegment(this,&quot;Bezier&quot;,{x1:h,y1:i,x2:j,y2:k,cp1x:l[0],cp1y:l[1],cp2x:m[0],cp2y:m[1]})}};jsPlumbUtil.extend(c,jsPlumb.Connectors.AbstractConnector),jsPlumb.registerConnectorType(c,&quot;Bezier&quot;),jsPlumb.Endpoints.AbstractEndpoint=function(b){a.apply(this,arguments);var c=this.compute=function(){var a=this._compute.apply(this,arguments);return this.x=a[0],this.y=a[1],this.w=a[2],this.h=a[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,a};return{compute:c,cssClass:b.cssClass}},jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,a),jsPlumb.Endpoints.Dot=function(a){this.type=&quot;Dot&quot;,jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),a=a||{},this.radius=a.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(a,b,c){this.radius=c.radius||this.radius;var d=a[0]-this.radius,e=a[1]-this.radius,f=2*this.radius,g=2*this.radius;if(c.strokeStyle){var h=c.lineWidth||1;d-=h,e-=h,f+=2*h,g+=2*h}return[d,e,f,g,this.radius]}},jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint),jsPlumb.Endpoints.Rectangle=function(a){this.type=&quot;Rectangle&quot;,jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),a=a||{},this.width=a.width||20,this.height=a.height||20,this._compute=function(a,b,c){var d=c.width||this.width,e=c.height||this.height,f=a[0]-d/2,g=a[1]-e/2;return[f,g,d,e]}},jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,jsPlumb.Endpoints.AbstractEndpoint);var d=function(){jsPlumb.DOMElementComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(d,jsPlumb.DOMElementComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}}),jsPlumb.Endpoints.Image=function(a){this.type=&quot;Image&quot;,d.apply(this,arguments),jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var b=a.onload,c=a.src||a.url,e=a.parent,f=a.cssClass?&quot; &quot;+a.cssClass:&quot;&quot;;this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=a.width,this._jsPlumb.heightToUse=a.height,this._jsPlumb.endpoint=a.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&amp;&amp;(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,b&amp;&amp;b(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(a,c){var d=a.constructor==String?a:a.src;b=c,this._jsPlumb.img.src=d,null!=this.canvas&amp;&amp;this.canvas.setAttribute(&quot;src&quot;,this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(c,b),this._compute=function(a){return this.anchorPoint=a,this._jsPlumb.ready?[a[0]-this._jsPlumb.widthToUse/2,a[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=document.createElement(&quot;img&quot;),this.canvas.style.margin=0,this.canvas.style.padding=0,this.canvas.style.outline=0,this.canvas.style.position=&quot;absolute&quot;,this.canvas.className=this._jsPlumb.instance.endpointClass+f,this._jsPlumb.widthToUse&amp;&amp;this.canvas.setAttribute(&quot;width&quot;,this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&amp;&amp;this.canvas.setAttribute(&quot;height&quot;,this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas,e),this.attachListeners(this.canvas,this),this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute(&quot;src&quot;,this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var a=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,b=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;jsPlumbUtil.sizeElement(this.canvas,a,b,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(a,b){null!=this._jsPlumb&amp;&amp;(this._jsPlumb.ready?this.actuallyPaint(a,b):window.setTimeout(function(){this.paint(a,b)}.bind(this),200))}},jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[d,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=!0,jsPlumbUtil.removeElement(this.canvas),this.canvas=null}}),jsPlumb.Endpoints.Blank=function(a){jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),this.type=&quot;Blank&quot;,d.apply(this,arguments),this._compute=function(a){return[a[0],a[1],10,0]},this.canvas=document.createElement(&quot;div&quot;),this.canvas.style.display=&quot;block&quot;,this.canvas.style.width=&quot;1px&quot;,this.canvas.style.height=&quot;1px&quot;,this.canvas.style.background=&quot;transparent&quot;,this.canvas.style.position=&quot;absolute&quot;,this.canvas.className=this._jsPlumb.endpointClass,jsPlumb.appendElement(this.canvas,a.parent),this.paint=function(){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,d],{cleanup:function(){this.canvas&amp;&amp;this.canvas.parentNode.removeChild(this.canvas)}}),jsPlumb.Endpoints.Triangle=function(a){this.type=&quot;Triangle&quot;,jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),a=a||{},a.width=a.width||55,a.height=a.height||55,this.width=a.width,this.height=a.height,this._compute=function(a,b,c){var d=c.width||self.width,e=c.height||self.height,f=a[0]-d/2,g=a[1]-e/2;return[f,g,d,e]}};var e=jsPlumb.Overlays.AbstractOverlay=function(a){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=a.component,this.loc=null==a.location?.5:a.location,this.endpointLoc=null==a.endpointLocation?[.5,.5]:a.endpointLocation};e.prototype={cleanup:function(){this.component=null,this.canvas=null,this.endpointLoc=null},setVisible:function(a){this.visible=a,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(a){this.loc+=a,this.component.repaint()},setLocation:function(a){this.loc=a,this.component.repaint()},getLocation:function(){return this.loc}},jsPlumb.Overlays.Arrow=function(a){this.type=&quot;Arrow&quot;,e.apply(this,arguments),this.isAppendedAtTopLevel=!1,a=a||{};var b=jsPlumbUtil;this.length=a.length||20,this.width=a.width||20,this.id=a.id;var c=(a.direction||1)&lt;0?-1:1,d=a.paintStyle||{lineWidth:1},f=a.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.draw=function(a,e){var g,h,i,j,k;if(a.pointAlongPathFrom){if(b.isString(this.loc)||this.loc&gt;1||this.loc&lt;0){var l=parseInt(this.loc,10);g=a.pointAlongPathFrom(l,c*this.length/2,!0),h=a.pointOnPath(l,!0),i=b.pointOnLine(g,h,this.length)}else if(1==this.loc){if(g=a.pointOnPath(this.loc),h=a.pointAlongPathFrom(this.loc,-this.length),i=b.pointOnLine(g,h,this.length),-1==c){var m=i;i=g,g=m}}else if(0===this.loc){if(i=a.pointOnPath(this.loc),h=a.pointAlongPathFrom(this.loc,this.length),g=b.pointOnLine(i,h,this.length),-1==c){var n=i;i=g,g=n}}else g=a.pointAlongPathFrom(this.loc,c*this.length/2),h=a.pointOnPath(this.loc),i=b.pointOnLine(g,h,this.length);j=b.perpendicularLineTo(g,i,this.width),k=b.pointOnLine(g,i,f*this.length);var o={hxy:g,tail:j,cxy:k},p=d.strokeStyle||e.strokeStyle,q=d.fillStyle||e.strokeStyle,r=d.lineWidth||e.lineWidth,s={component:a,d:o,lineWidth:r,strokeStyle:p,fillStyle:q,minX:Math.min(g.x,j[0].x,j[1].x),maxX:Math.max(g.x,j[0].x,j[1].x),minY:Math.min(g.y,j[0].y,j[1].y),maxY:Math.max(g.y,j[0].y,j[1].y)};return s}return{component:a,minX:0,maxX:0,minY:0,maxY:0}}},jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,e),jsPlumb.Overlays.PlainArrow=function(a){a=a||{};var b=jsPlumb.extend(a,{foldback:1});jsPlumb.Overlays.Arrow.call(this,b),this.type=&quot;PlainArrow&quot;},jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow),jsPlumb.Overlays.Diamond=function(a){a=a||{};var b=a.length||40,c=jsPlumb.extend(a,{length:b/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,c),this.type=&quot;Diamond&quot;},jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);var f=function(a){return null==a._jsPlumb.cachedDimensions&amp;&amp;(a._jsPlumb.cachedDimensions=a.getDimensions()),a._jsPlumb.cachedDimensions},g=function(a){jsPlumb.DOMElementComponent.apply(this,arguments),e.apply(this,arguments);var b=jsPlumb.CurrentLibrary;this.id=a.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=a.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=a.create,this.getElement=function(){if(null==this._jsPlumb.div){var c=this._jsPlumb.div=b.getDOMElement(this._jsPlumb.create(this._jsPlumb.component));c.style.position=&quot;absolute&quot;;var d=a._jsPlumb.overlayClass+&quot; &quot;+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:&quot;&quot;);c.className=d,this._jsPlumb.instance.appendElement(c,this._jsPlumb.component.parent),this._jsPlumb.instance.getId(c),this.attachListeners(c,this),this.canvas=c}return this._jsPlumb.div},this.draw=function(a){var b=f(this);if(null!=b&amp;&amp;2==b.length){var c={x:0,y:0};if(a.pointOnPath){var d=this.loc,e=!1;(jsPlumbUtil.isString(this.loc)||this.loc&lt;0||this.loc&gt;1)&amp;&amp;(d=parseInt(this.loc,10),e=!0),c=a.pointOnPath(d,e)}else{var g=this.loc.constructor==Array?this.loc:this.endpointLoc;c={x:g[0]*a.w,y:g[1]*a.h}}var h=c.x-b[0]/2,i=c.y-b[1]/2;return{component:a,d:{minx:h,miny:i,td:b,cxy:c},minX:h,maxX:h+b[0],minY:i,maxY:i+b[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(g,[jsPlumb.DOMElementComponent,e],{getDimensions:function(){return jsPlumb.CurrentLibrary.getSize(jsPlumb.CurrentLibrary.getElementObject(this.getElement()))},setVisible:function(a){this._jsPlumb.div.style.display=a?&quot;block&quot;:&quot;none&quot;},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){null!=this._jsPlumb.div&amp;&amp;jsPlumb.CurrentLibrary.removeElement(this._jsPlumb.div)},computeMaxSize:function(){var a=f(this);return Math.max(a[0],a[1])},reattachListeners:function(a){this._jsPlumb.div&amp;&amp;this.reattachListenersForElement(this._jsPlumb.div,this,a)},paint:function(a){this._jsPlumb.initialised||(this.getElement(),a.component.appendDisplayElement(this._jsPlumb.div),this.attachListeners(this._jsPlumb.div,a.component),this._jsPlumb.initialised=!0),this._jsPlumb.div.style.left=a.component.x+a.d.minx+&quot;px&quot;,this._jsPlumb.div.style.top=a.component.y+a.d.miny+&quot;px&quot;}}),jsPlumb.Overlays.Custom=function(){this.type=&quot;Custom&quot;,g.apply(this,arguments)},jsPlumbUtil.extend(jsPlumb.Overlays.Custom,g),jsPlumb.Overlays.GuideLines=function(){var a=this;a.length=50,a.lineWidth=5,this.type=&quot;GuideLines&quot;,e.apply(this,arguments),jsPlumb.jsPlumbUIComponent.apply(this,arguments),this.draw=function(b){var c=b.pointAlongPathFrom(a.loc,a.length/2),d=b.pointOnPath(a.loc),e=jsPlumbUtil.pointOnLine(c,d,a.length),f=jsPlumbUtil.perpendicularLineTo(c,e,40),g=jsPlumbUtil.perpendicularLineTo(e,c,20);return{connector:b,head:c,tail:e,headLine:g,tailLine:f,minX:Math.min(c.x,e.x,g[0].x,g[1].x),minY:Math.min(c.y,e.y,g[0].y,g[1].y),maxX:Math.max(c.x,e.x,g[0].x,g[1].x),maxY:Math.max(c.y,e.y,g[0].y,g[1].y)}}},jsPlumb.Overlays.Label=function(a){this.labelStyle=a.labelStyle||jsPlumb.Defaults.LabelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var b=jsPlumb.extend({create:function(){return document.createElement(&quot;div&quot;)}},a);jsPlumb.Overlays.Custom.call(this,b),this.type=&quot;Label&quot;,this.label=a.label||&quot;&quot;,this.labelText=null},jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null},getLabel:function(){return this.label},setLabel:function(a){this.label=a,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),g.prototype.getDimensions.apply(this,arguments)},update:function(){if(&quot;function&quot;==typeof this.label){var a=this.label(this);this.getElement().innerHTML=a.replace(/\r\n/g,&quot;&lt;br/&gt;&quot;)}else null==this.labelText&amp;&amp;(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,&quot;&lt;br/&gt;&quot;))}})}(),function(){var a=function(a){this.type=&quot;Flowchart&quot;,a=a||{},a.stub=null==a.stub?30:a.stub;var b,c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),d=null==a.midpoint?.5:a.midpoint,e=[],f=(a.grid,a.alwaysRespectStubs),g=null,h=null,i=null,j=null!=a.cornerRadius?a.cornerRadius:0,k=function(a){return 0&gt;a?-1:0===a?0:1},l=function(a,b,c,d){if(h!=b||i!=c){var e=null==h?d.sx:h,f=null==i?d.sy:i,g=e==b?&quot;v&quot;:&quot;h&quot;,j=k(b-e),l=k(c-f);h=b,i=c,a.push([e,f,b,c,g,j,l])}},m=function(a){return Math.sqrt(Math.pow(a[0]-a[2],2)+Math.pow(a[1]-a[3],2))},n=function(a){var b=[];return b.push.apply(b,a),b},o=function(a,b,d){for(var e,f,g=0;g&lt;b.length-1;g++){if(e=e||n(b[g]),f=n(b[g+1]),j&gt;0&amp;&amp;e[4]!=f[4]){var h=Math.min(j,m(e),m(f));e[2]-=e[5]*h,e[3]-=e[6]*h,f[0]+=f[5]*h,f[1]+=f[6]*h;var i=e[6]==f[5]&amp;&amp;1==f[5]||e[6]==f[5]&amp;&amp;0===f[5]&amp;&amp;e[5]!=f[6]||e[6]==f[5]&amp;&amp;-1==f[5],k=f[1]&gt;e[3]?1:-1,l=f[0]&gt;e[2]?1:-1,o=k==l,p=o&amp;&amp;i||!o&amp;&amp;!i?f[0]:e[2],q=o&amp;&amp;i||!o&amp;&amp;!i?e[3]:f[1];c.addSegment(a,&quot;Straight&quot;,{x1:e[0],y1:e[1],x2:e[2],y2:e[3]}),c.addSegment(a,&quot;Arc&quot;,{r:h,x1:e[2],y1:e[3],x2:f[0],y2:f[1],cx:p,cy:q,ac:i})}else{var r=e[2]==e[0]?0:e[2]&gt;e[0]?d.lw/2:-(d.lw/2),s=e[3]==e[1]?0:e[3]&gt;e[1]?d.lw/2:-(d.lw/2);c.addSegment(a,&quot;Straight&quot;,{x1:e[0]-r,y1:e[1]-s,x2:e[2]+r,y2:e[3]+s})}e=f}c.addSegment(a,&quot;Straight&quot;,{x1:f[0],y1:f[1],x2:f[2],y2:f[3]})};this.setSegments=function(a){g=a},this.isEditable=function(){return!0},this.getOriginalSegments=function(){return g||e},this._compute=function(a,j){if(j.clearEdits&amp;&amp;(g=null),null!=g)return o(this,g,a),void 0;e=[],h=null,i=null,b=null;var k=a.startStubX+(a.endStubX-a.startStubX)*d,m=a.startStubY+(a.endStubY-a.startStubY)*d,n={x:[0,1],y:[1,0]},p=function(){return[a.startStubX,a.startStubY,a.endStubX,a.endStubY]},q={perpendicular:p,orthogonal:p,opposite:function(b){var c=a,d=&quot;x&quot;==b?0:1,e={x:function(){return 1==c.so[d]&amp;&amp;(c.startStubX&gt;c.endStubX&amp;&amp;c.tx&gt;c.startStubX||c.sx&gt;c.endStubX&amp;&amp;c.tx&gt;c.sx)||-1==c.so[d]&amp;&amp;(c.startStubX&lt;c.endStubX&amp;&amp;c.tx&lt;c.startStubX||c.sx&lt;c.endStubX&amp;&amp;c.tx&lt;c.sx)},y:function(){return 1==c.so[d]&amp;&amp;(c.startStubY&gt;c.endStubY&amp;&amp;c.ty&gt;c.startStubY||c.sy&gt;c.endStubY&amp;&amp;c.ty&gt;c.sy)||-1==c.so[d]&amp;&amp;(c.startStubY&lt;c.endStubY&amp;&amp;c.ty&lt;c.startStubY||c.sy&lt;c.endStubY&amp;&amp;c.ty&lt;c.sy)}};return!f&amp;&amp;e[b]()?{x:[(a.sx+a.tx)/2,a.startStubY,(a.sx+a.tx)/2,a.endStubY],y:[a.startStubX,(a.sy+a.ty)/2,a.endStubX,(a.sy+a.ty)/2]}[b]:[a.startStubX,a.startStubY,a.endStubX,a.endStubY]}},r={perpendicular:function(b){var c=a,d={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},e={x:[[c.startStubX,c.endStubX],null,[c.endStubX,c.startStubX]],y:[[c.startStubY,c.endStubY],null,[c.endStubY,c.startStubY]]},f={x:[[k,c.startStubY],[k,c.endStubY]],y:[[c.startStubX,m],[c.endStubX,m]]},g={x:[[c.endStubX,c.startStubY]],y:[[c.startStubX,c.endStubY]]},h={x:[[c.startStubX,c.endStubY],[c.endStubX,c.endStubY]],y:[[c.endStubX,c.startStubY],[c.endStubX,c.endStubY]]},i={x:[[c.startStubX,m],[c.endStubX,m],[c.endStubX,c.endStubY]],y:[[k,c.startStubY],[k,c.endStubY],[c.endStubX,c.endStubY]]},j={x:[c.startStubY,c.endStubY],y:[c.startStubX,c.endStubX]},l=n[b][0],o=n[b][1],p=c.so[l]+1,q=c.to[o]+1,r=-1==c.to[o]&amp;&amp;j[b][1]&lt;j[b][0]||1==c.to[o]&amp;&amp;j[b][1]&gt;j[b][0],s=e[b][p][0],t=e[b][p][1],u=d[b][p][q];</div><div class='line' id='LC5'>return c.segment==u[3]||c.segment==u[2]&amp;&amp;r?f[b]:c.segment==u[2]&amp;&amp;s&gt;t?g[b]:c.segment==u[2]&amp;&amp;t&gt;=s||c.segment==u[1]&amp;&amp;!r?i[b]:c.segment==u[0]||c.segment==u[1]&amp;&amp;r?h[b]:void 0},orthogonal:function(b,c,d,e,f){var g=a,h={x:-1==g.so[0]?Math.min(c,e):Math.max(c,e),y:-1==g.so[1]?Math.min(c,e):Math.max(c,e)}[b];return{x:[[h,d],[h,f],[e,f]],y:[[d,h],[f,h],[f,e]]}[b]},opposite:function(b,d,e,f){var g=a,h={x:&quot;y&quot;,y:&quot;x&quot;}[b],i={x:&quot;height&quot;,y:&quot;width&quot;}[b],l=g[&quot;is&quot;+b.toUpperCase()+&quot;GreaterThanStubTimes2&quot;];if(j.sourceEndpoint.elementId==j.targetEndpoint.elementId){var n=e+(1-j.sourceEndpoint.anchor[h])*j.sourceInfo[i]+c.maxStub;return{x:[[d,n],[f,n]],y:[[n,d],[n,f]]}[b]}return!l||1==g.so[t]&amp;&amp;d&gt;f||-1==g.so[t]&amp;&amp;f&gt;d?{x:[[d,m],[f,m]],y:[[k,d],[k,f]]}[b]:1==g.so[t]&amp;&amp;f&gt;d||-1==g.so[t]&amp;&amp;d&gt;f?{x:[[k,g.sy],[k,g.ty]],y:[[g.sx,m],[g.tx,m]]}[b]:void 0}},s=q[a.anchorOrientation](a.sourceAxis),t=&quot;x&quot;==a.sourceAxis?0:1,u=&quot;x&quot;==a.sourceAxis?1:0,v=s[t],w=s[u],x=s[t+2],y=s[u+2];l(e,s[0],s[1],a);var z=r[a.anchorOrientation](a.sourceAxis,v,w,x,y);if(z)for(var A=0;A&lt;z.length;A++)l(e,z[A][0],z[A][1],a);l(e,s[2],s[3],a),l(e,a.tx,a.ty,a),o(this,e,a)},this.getPath=function(){for(var a=null,b=null,c=[],d=g||e,f=0;f&lt;d.length;f++){var h=d[f],i=h[4],j=&quot;v&quot;==i?3:2;null!=a&amp;&amp;b===i?a[j]=h[j]:(h[0]!=h[2]||h[1]!=h[3])&amp;&amp;(c.push({start:[h[0],h[1]],end:[h[2],h[3]]}),a=h,b=h[4])}return c},this.setPath=function(a){g=[];for(var b=0;b&lt;a.length;b++){var c=a[b].start[0],d=a[b].start[1],e=a[b].end[0],f=a[b].end[1],h=c==e?&quot;v&quot;:&quot;h&quot;,i=k(e-c),j=k(f-d);g.push([c,d,e,f,h,i,j])}}};jsPlumbUtil.extend(a,jsPlumb.Connectors.AbstractConnector),jsPlumb.registerConnectorType(a,&quot;Flowchart&quot;)}(),function(){var a=function(a,b,c,d){return c&gt;=a&amp;&amp;b&gt;=d?1:c&gt;=a&amp;&amp;d&gt;=b?2:a&gt;=c&amp;&amp;d&gt;=b?3:4},b=function(a,b,c,d,e,f,g,h,i){return i&gt;=h?[a,b]:1===c?d[3]&lt;=0&amp;&amp;e[3]&gt;=1?[a+(d[2]&lt;.5?-1*f:f),b]:d[2]&gt;=1&amp;&amp;e[2]&lt;=0?[a,b+(d[3]&lt;.5?-1*g:g)]:[a+-1*f,b+-1*g]:2===c?d[3]&gt;=1&amp;&amp;e[3]&lt;=0?[a+(d[2]&lt;.5?-1*f:f),b]:d[2]&gt;=1&amp;&amp;e[2]&lt;=0?[a,b+(d[3]&lt;.5?-1*g:g)]:[a+1*f,b+-1*g]:3===c?d[3]&gt;=1&amp;&amp;e[3]&lt;=0?[a+(d[2]&lt;.5?-1*f:f),b]:d[2]&lt;=0&amp;&amp;e[2]&gt;=1?[a,b+(d[3]&lt;.5?-1*g:g)]:[a+-1*f,b+-1*g]:4===c?d[3]&lt;=0&amp;&amp;e[3]&gt;=1?[a+(d[2]&lt;.5?-1*f:f),b]:d[2]&lt;=0&amp;&amp;e[2]&gt;=1?[a,b+(d[3]&lt;.5?-1*g:g)]:[a+1*f,b+-1*g]:void 0},c=function(c){c=c||{},this.type=&quot;StateMachine&quot;;var d=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),e=c.curviness||10,f=c.margin||5,g=c.proximityLimit||80,h=c.orientation&amp;&amp;&quot;clockwise&quot;===c.orientation,i=c.loopbackRadius||25,j=c.showLoopback!==!1;this._compute=function(c,k){var l=Math.abs(k.sourcePos[0]-k.targetPos[0]),m=Math.abs(k.sourcePos[1]-k.targetPos[1]);if(Math.min(k.sourcePos[0],k.targetPos[0]),Math.min(k.sourcePos[1],k.targetPos[1]),j&amp;&amp;k.sourceEndpoint.elementId===k.targetEndpoint.elementId){var n=k.sourcePos[0],o=(k.sourcePos[0],k.sourcePos[1]-f),p=(k.sourcePos[1]-f,n),q=o-i,r=2*i,s=2*i,t=p-i,u=q-i;c.points[0]=t,c.points[1]=u,c.points[2]=r,c.points[3]=s,d.addSegment(this,&quot;Arc&quot;,{x1:n-t+4,y1:o-u,startAngle:0,endAngle:2*Math.PI,r:i,ac:!h,x2:n-t-4,y2:o-u,cx:p-t,cy:q-u})}else{var v=k.sourcePos[0]&lt;k.targetPos[0]?0:l,w=k.sourcePos[1]&lt;k.targetPos[1]?0:m,x=k.sourcePos[0]&lt;k.targetPos[0]?l:0,y=k.sourcePos[1]&lt;k.targetPos[1]?m:0;0===k.sourcePos[2]&amp;&amp;(v-=f),1===k.sourcePos[2]&amp;&amp;(v+=f),0===k.sourcePos[3]&amp;&amp;(w-=f),1===k.sourcePos[3]&amp;&amp;(w+=f),0===k.targetPos[2]&amp;&amp;(x-=f),1===k.targetPos[2]&amp;&amp;(x+=f),0===k.targetPos[3]&amp;&amp;(y-=f),1===k.targetPos[3]&amp;&amp;(y+=f);var z=(v+x)/2,A=(w+y)/2,B=-1*z/A,C=Math.atan(B),D=(1/0==B||B==-1/0?0:Math.abs(e/2*Math.sin(C)),1/0==B||B==-1/0?0:Math.abs(e/2*Math.cos(C)),a(v,w,x,y)),E=Math.sqrt(Math.pow(x-v,2)+Math.pow(y-w,2)),F=b(z,A,D,k.sourcePos,k.targetPos,e,e,E,g);d.addSegment(this,&quot;Bezier&quot;,{x1:x,y1:y,x2:v,y2:w,cp1x:F[0],cp1y:F[1],cp2x:F[0],cp2y:F[1]})}}};jsPlumb.registerConnectorType(c,&quot;StateMachine&quot;)}(),function(){var a=function(a){a=a||{};var b=this,c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),d=(a.stub||50,a.curviness||150),e=10;this.type=&quot;Bezier&quot;,this.getCurviness=function(){return d},this._findControlPoint=function(a,b,c,f,g){var h=f.anchor.getOrientation(f),i=g.anchor.getOrientation(g),j=h[0]!=i[0]||h[1]==i[1],k=[];return j?(0===i[0]?k.push(c[0]&lt;b[0]?a[0]+e:a[0]-e):k.push(a[0]+d*i[0]),0===i[1]?k.push(c[1]&lt;b[1]?a[1]+e:a[1]-e):k.push(a[1]+d*h[1])):(0===h[0]?k.push(b[0]&lt;c[0]?a[0]+e:a[0]-e):k.push(a[0]-d*h[0]),0===h[1]?k.push(b[1]&lt;c[1]?a[1]+e:a[1]-e):k.push(a[1]+d*i[1])),k},this._compute=function(a,d){var e=d.sourcePos,f=d.targetPos,g=Math.abs(e[0]-f[0]),h=Math.abs(e[1]-f[1]),i=e[0]&lt;f[0]?g:0,j=e[1]&lt;f[1]?h:0,k=e[0]&lt;f[0]?0:g,l=e[1]&lt;f[1]?0:h,m=b._findControlPoint([i,j],e,f,d.sourceEndpoint,d.targetEndpoint),n=b._findControlPoint([k,l],f,e,d.targetEndpoint,d.sourceEndpoint);c.addSegment(this,&quot;Bezier&quot;,{x1:i,y1:j,x2:k,y2:l,cp1x:m[0],cp1y:m[1],cp2x:n[0],cp2y:n[1]})}};jsPlumb.registerConnectorType(a,&quot;Bezier&quot;)}(),function(){var a=null,b=function(a,b){return jsPlumb.CurrentLibrary.hasClass(c(a),b)},c=function(a){return jsPlumb.CurrentLibrary.getElementObject(a)},d=function(a){return jsPlumb.CurrentLibrary.getOffset(c(a))},e=function(a){return jsPlumb.CurrentLibrary.getPageXY(a)},f=function(a){return jsPlumb.CurrentLibrary.getClientXY(a)},g=window.CanvasMouseAdapter=function(){var g=this;g.overlayPlacements=[],jsPlumb.jsPlumbUIComponent.apply(this,arguments),jsPlumbUtil.EventGenerator.apply(this,arguments),this._over=function(a){var b=d(c(g.canvas)),f=e(a),h=f[0]-b.left,i=f[1]-b.top;if(h&gt;0&amp;&amp;i&gt;0&amp;&amp;h&lt;g.canvas.width&amp;&amp;i&lt;g.canvas.height){for(var j=0;j&lt;g.overlayPlacements.length;j++){var k=g.overlayPlacements[j];if(k&amp;&amp;k[0]&lt;=h&amp;&amp;k[1]&gt;=h&amp;&amp;k[2]&lt;=i&amp;&amp;k[3]&gt;=i)return!0}var l=g.canvas.getContext(&quot;2d&quot;).getImageData(parseInt(h,10),parseInt(i,10),1,1);return 0!==l.data[0]||0!==l.data[1]||0!==l.data[2]||0!==l.data[3]}return!1};var h=!1,i=!1,j=null,k=!1,l=function(a,c){return null!==a&amp;&amp;b(a,c)};this.mousemove=function(b){var c=(e(b),f(b)),d=document.elementFromPoint(c[0],c[1]),i=l(d,&quot;_jsPlumb_overlay&quot;),j=null===a&amp;&amp;(l(d,&quot;_jsPlumb_endpoint&quot;)||l(d,&quot;_jsPlumb_connector&quot;));return!h&amp;&amp;j&amp;&amp;g._over(b)?(h=!0,g.fire(&quot;mouseenter&quot;,g,b),!0):(!h||g._over(b)&amp;&amp;j||i||(h=!1,g.fire(&quot;mouseexit&quot;,g,b)),g.fire(&quot;mousemove&quot;,g,b),void 0)},this.click=function(a){h&amp;&amp;g._over(a)&amp;&amp;!k&amp;&amp;g.fire(&quot;click&quot;,g,a),k=!1},this.dblclick=function(a){h&amp;&amp;g._over(a)&amp;&amp;!k&amp;&amp;g.fire(&quot;dblclick&quot;,g,a),k=!1},this.mousedown=function(a){g._over(a)&amp;&amp;!i&amp;&amp;(i=!0,j=d(c(g.canvas)),g.fire(&quot;mousedown&quot;,g,a))},this.mouseup=function(a){i=!1,g.fire(&quot;mouseup&quot;,g,a)},this.contextmenu=function(a){h&amp;&amp;g._over(a)&amp;&amp;!k&amp;&amp;g.fire(&quot;contextmenu&quot;,g,a),k=!1}};jsPlumbUtil.extend(g,[jsPlumb.jsPlumbUIComponent,jsPlumbUtil.EventGenerator]);var h=function(a){var b=document.createElement(&quot;canvas&quot;);return a._jsPlumb.instance.appendElement(b,a.parent),b.style.position=&quot;absolute&quot;,a[&quot;class&quot;]&amp;&amp;(b.className=a[&quot;class&quot;]),a._jsPlumb.instance.getId(b,a.uuid),a.tooltip&amp;&amp;b.setAttribute(&quot;title&quot;,a.tooltip),b},i=window.CanvasComponent=function(){g.apply(this,arguments);var a=[];this.getDisplayElements=function(){return a},this.appendDisplayElement=function(b){a.push(b)}};jsPlumbUtil.extend(i,g);var j=[null,[1,-1],[1,1],[-1,1],[-1,-1]],k=function(a,b,c){if(b.gradient){for(var d=c(),e=0;e&lt;b.gradient.stops.length;e++)d.addColorStop(b.gradient.stops[e][0],b.gradient.stops[e][1]);a.strokeStyle=d}},l=function(a,b,c,d,e){({Straight:function(a,b,c,d,e){var f=a.params;if(b.save(),k(b,c,function(){return b.createLinearGradient(f.x1,f.y1,f.x2,f.y2)}),b.beginPath(),b.translate(d,e),c.dashstyle&amp;&amp;2===c.dashstyle.split(&quot; &quot;).length){var g=c.dashstyle.split(&quot; &quot;);2!==g.length&amp;&amp;(g=[2,2]);for(var h=[g[0]*c.lineWidth,g[1]*c.lineWidth],i=(f.x2-f.x1)/(f.y2-f.y1),l=jsPlumbUtil.segment([f.x1,f.y1],[f.x2,f.y2]),m=j[l],n=Math.atan(i),o=Math.sqrt(Math.pow(f.x2-f.x1,2)+Math.pow(f.y2-f.y1,2)),p=Math.floor(o/(h[0]+h[1])),q=[f.x1,f.y1],r=0;p&gt;r;r++){b.moveTo(q[0],q[1]);var s=q[0]+Math.abs(Math.sin(n)*h[0])*m[0],t=q[1]+Math.abs(Math.cos(n)*h[0])*m[1],u=q[0]+Math.abs(Math.sin(n)*(h[0]+h[1]))*m[0],v=q[1]+Math.abs(Math.cos(n)*(h[0]+h[1]))*m[1];b.lineTo(s,t),q=[u,v]}b.moveTo(q[0],q[1]),b.lineTo(f.x2,f.y2)}else b.moveTo(f.x1,f.y1),b.lineTo(f.x2,f.y2);b.stroke(),b.restore()},Bezier:function(a,b,c,d,e){var f=a.params;b.save(),k(b,c,function(){return b.createLinearGradient(f.x2+d,f.y2+e,f.x1+d,f.y1+e)}),b.beginPath(),b.translate(d,e),b.moveTo(f.x1,f.y1),b.bezierCurveTo(f.cp1x,f.cp1y,f.cp2x,f.cp2y,f.x2,f.y2),b.stroke(),b.restore()},Arc:function(a,b,c,d,e){var f=a.params;b.save(),b.beginPath(),b.translate(d,e),b.arc(f.cx,f.cy,f.r,a.startAngle,a.endAngle,f.ac),b.stroke(),b.restore()}})[a.type](a,b,c,d,e)},m=jsPlumb.ConnectorRenderers.canvas=function(a){i.apply(this,arguments);var b=function(a,b,c){this.ctx.save(),jsPlumb.extend(this.ctx,a);for(var d=this.getSegments(),e=0;e&lt;d.length;e++)l(d[e],this.ctx,a,b,c);this.ctx.restore()}.bind(this),c=this._jsPlumb.instance.connectorClass+&quot; &quot;+(a.cssClass||&quot;&quot;);this.canvas=h({&quot;class&quot;:c,_jsPlumb:this._jsPlumb,parent:a.parent}),this.ctx=this.canvas.getContext(&quot;2d&quot;),this.appendDisplayElement(this.canvas),this.paint=function(a,c,d){if(null!=a){var e=[this.x,this.y],f=[this.w,this.h],g=0,h=0;if(null!=d&amp;&amp;(d.xmin&lt;0&amp;&amp;(e[0]+=d.xmin,g=-d.xmin),d.ymin&lt;0&amp;&amp;(e[1]+=d.ymin,h=-d.ymin),f[0]=d.xmax+(d.xmin&lt;0?-d.xmin:0),f[1]=d.ymax+(d.ymin&lt;0?-d.ymin:0)),this.translateX=g,this.translateY=h,jsPlumbUtil.sizeElement(this.canvas,e[0],e[1],f[0],f[1]),null!=a.outlineColor){var i=a.outlineWidth||1,j=a.lineWidth+2*i,k={strokeStyle:a.outlineColor,lineWidth:j};b(k,g,h)}b(a,g,h)}}};jsPlumbUtil.extend(m,i);var n=function(a){i.apply(this,arguments);var b=this._jsPlumb.instance.endpointClass+&quot; &quot;+(a.cssClass||&quot;&quot;),c={&quot;class&quot;:b,_jsPlumb:this._jsPlumb,parent:a.parent,tooltip:self.tooltip};this.canvas=h(c),this.ctx=this.canvas.getContext(&quot;2d&quot;),this.appendDisplayElement(this.canvas),this.paint=function(a){if(jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h),null!=a.outlineColor){var b=a.outlineWidth||1,c=a.lineWidth+2*b;({strokeStyle:a.outlineColor,lineWidth:c})}this._paint.apply(this,arguments)}};jsPlumbUtil.extend(n,i),jsPlumb.Endpoints.canvas.Dot=function(a){jsPlumb.Endpoints.Dot.apply(this,arguments),n.apply(this,arguments);var b=this,c=function(a){try{return parseInt(a,10)}catch(b){if(&quot;%&quot;==a.substring(a.length-1))return parseInt(a.substring(0,a-1),10)}},d=function(a){var d=b.defaultOffset,e=b.defaultInnerRadius;return a.offset&amp;&amp;(d=c(a.offset)),a.innerRadius&amp;&amp;(e=c(a.innerRadius)),[d,e]};this._paint=function(c){if(null!=c){var e=b.canvas.getContext(&quot;2d&quot;),f=a.endpoint.anchor.getOrientation(a.endpoint);if(jsPlumb.extend(e,c),c.gradient){for(var g=d(c.gradient),h=1==f[1]?-1*g[0]:g[0],i=1==f[0]?-1*g[0]:g[0],j=e.createRadialGradient(b.radius,b.radius,b.radius,b.radius+i,b.radius+h,g[1]),k=0;k&lt;c.gradient.stops.length;k++)j.addColorStop(c.gradient.stops[k][0],c.gradient.stops[k][1]);e.fillStyle=j}e.beginPath(),e.arc(b.radius,b.radius,b.radius,0,2*Math.PI,!0),e.closePath(),(c.fillStyle||c.gradient)&amp;&amp;e.fill(),c.strokeStyle&amp;&amp;e.stroke()}}},jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Dot,[jsPlumb.Endpoints.Dot,n]),jsPlumb.Endpoints.canvas.Rectangle=function(a){var b=this;jsPlumb.Endpoints.Rectangle.apply(this,arguments),n.apply(this,arguments),this._paint=function(c){var d=b.canvas.getContext(&quot;2d&quot;),e=a.endpoint.anchor.getOrientation(a.endpoint);if(jsPlumb.extend(d,c),c.gradient){for(var f=1==e[1]?b.h:0===e[1]?b.h/2:0,g=-1==e[1]?b.h:0===e[1]?b.h/2:0,h=1==e[0]?b.w:0===e[0]?b.w/2:0,i=-1==e[0]?b.w:0===e[0]?b.w/2:0,j=d.createLinearGradient(h,f,i,g),k=0;k&lt;c.gradient.stops.length;k++)j.addColorStop(c.gradient.stops[k][0],c.gradient.stops[k][1]);d.fillStyle=j}d.beginPath(),d.rect(0,0,b.w,b.h),d.closePath(),(c.fillStyle||c.gradient)&amp;&amp;d.fill(),c.strokeStyle&amp;&amp;d.stroke()}},jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Rectangle,[jsPlumb.Endpoints.Rectangle,n]),jsPlumb.Endpoints.canvas.Triangle=function(a){var b=this;jsPlumb.Endpoints.Triangle.apply(this,arguments),n.apply(this,arguments),this._paint=function(c){var d=b.canvas.getContext(&quot;2d&quot;),e=0,f=0,g=0,h=a.endpoint.anchor.getOrientation(a.endpoint);1==h[0]&amp;&amp;(e=b.width,f=b.height,g=180),-1==h[1]&amp;&amp;(e=b.width,g=90),1==h[1]&amp;&amp;(f=b.height,g=-90),d.fillStyle=c.fillStyle,d.translate(e,f),d.rotate(g*Math.PI/180),d.beginPath(),d.moveTo(0,0),d.lineTo(b.width/2,b.height/2),d.lineTo(0,b.height),d.closePath(),(c.fillStyle||c.gradient)&amp;&amp;d.fill(),c.strokeStyle&amp;&amp;d.stroke()}},jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Triangle,[jsPlumb.Endpoints.Triangle,n]),jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.canvas.Custom=jsPlumb.Overlays.Custom;var o=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments)};jsPlumbUtil.extend(o,jsPlumb.jsPlumbUIComponent);var p=function(a,b){a.apply(this,b),o.apply(this,b),this.paint=function(a){var b=a.component.ctx,c=a.d;c&amp;&amp;(b.save(),b.lineWidth=a.lineWidth,b.beginPath(),b.translate(a.component.translateX,a.component.translateY),b.moveTo(c.hxy.x,c.hxy.y),b.lineTo(c.tail[0].x,c.tail[0].y),b.lineTo(c.cxy.x,c.cxy.y),b.lineTo(c.tail[1].x,c.tail[1].y),b.lineTo(c.hxy.x,c.hxy.y),b.closePath(),a.strokeStyle&amp;&amp;(b.strokeStyle=a.strokeStyle,b.stroke()),a.fillStyle&amp;&amp;(b.fillStyle=a.fillStyle,b.fill()),b.restore())}};jsPlumb.Overlays.canvas.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Arrow,[jsPlumb.Overlays.Arrow,o]),jsPlumb.Overlays.canvas.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.canvas.PlainArrow,[jsPlumb.Overlays.PlainArrow,o]),jsPlumb.Overlays.canvas.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Diamond,[jsPlumb.Overlays.Diamond,o])}(),function(){var a={joinstyle:&quot;stroke-linejoin&quot;,&quot;stroke-linejoin&quot;:&quot;stroke-linejoin&quot;,&quot;stroke-dashoffset&quot;:&quot;stroke-dashoffset&quot;,&quot;stroke-linecap&quot;:&quot;stroke-linecap&quot;},b=&quot;stroke-dasharray&quot;,c=&quot;dashstyle&quot;,d=&quot;linearGradient&quot;,e=&quot;radialGradient&quot;,f=&quot;fill&quot;,g=&quot;stop&quot;,h=&quot;stroke&quot;,i=&quot;stroke-width&quot;,j=&quot;style&quot;,k=&quot;none&quot;,l=&quot;jsplumb_gradient_&quot;,m=&quot;lineWidth&quot;,n={svg:&quot;http://www.w3.org/2000/svg&quot;,xhtml:&quot;http://www.w3.org/1999/xhtml&quot;},o=function(a,b){for(var c in b)a.setAttribute(c,&quot;&quot;+b[c])},p=function(a,b){var c=document.createElementNS(n.svg,a);return b=b||{},b.version=&quot;1.1&quot;,b.xmlns=n.xhtml,o(c,b),c},q=function(a){return&quot;position:absolute;left:&quot;+a[0]+&quot;px;top:&quot;+a[1]+&quot;px&quot;},r=function(a){for(var b=0;b&lt;a.childNodes.length;b++)(a.childNodes[b].tagName==d||a.childNodes[b].tagName==e)&amp;&amp;a.removeChild(a.childNodes[b])},s=function(a,b,c,i,k){var m=l+k._jsPlumb.instance.idstamp();r(a);var n;n=c.gradient.offset?p(e,{id:m}):p(d,{id:m,gradientUnits:&quot;userSpaceOnUse&quot;}),a.appendChild(n);for(var o=0;o&lt;c.gradient.stops.length;o++){var q=1==k.segment||2==k.segment?o:c.gradient.stops.length-1-o,s=jsPlumbUtil.convertStyle(c.gradient.stops[q][1],!0),t=p(g,{offset:Math.floor(100*c.gradient.stops[o][0])+&quot;%&quot;,&quot;stop-color&quot;:s});n.appendChild(t)}var u=c.strokeStyle?h:f;b.setAttribute(j,u+&quot;:url(#&quot;+m+&quot;)&quot;)},t=function(d,e,g,l,n){if(g.gradient?s(d,e,g,l,n):(r(d),e.setAttribute(j,&quot;&quot;)),e.setAttribute(f,g.fillStyle?jsPlumbUtil.convertStyle(g.fillStyle,!0):k),e.setAttribute(h,g.strokeStyle?jsPlumbUtil.convertStyle(g.strokeStyle,!0):k),g.lineWidth&amp;&amp;e.setAttribute(i,g.lineWidth),g[c]&amp;&amp;g[m]&amp;&amp;!g[b]){var o=-1==g[c].indexOf(&quot;,&quot;)?&quot; &quot;:&quot;,&quot;,p=g[c].split(o),q=&quot;&quot;;p.forEach(function(a){q+=Math.floor(a*g.lineWidth)+o}),e.setAttribute(b,q)}else g[b]&amp;&amp;e.setAttribute(b,g[b]);for(var t in a)g[t]&amp;&amp;e.setAttribute(a[t],g[t])},u=function(a,b,c){for(var d=c.split(&quot; &quot;),e=a.className,f=e.baseVal.split(&quot; &quot;),g=0;g&lt;d.length;g++)if(b)-1==f.indexOf(d[g])&amp;&amp;f.push(d[g]);else{var h=f.indexOf(d[g]);-1!=h&amp;&amp;f.splice(h,1)}a.className.baseVal=f.join(&quot; &quot;)},v=function(a,b){u(a,!0,b)},w=function(a,b){u(a,!1,b)},x=function(a,b,c){a.childNodes.length&gt;c?a.insertBefore(b,a.childNodes[c]):a.appendChild(b)};jsPlumbUtil.svg={addClass:v,removeClass:w,node:p,attr:o,pos:q};var y=function(a){var b=a.pointerEventsSpec||&quot;all&quot;,c={};jsPlumb.jsPlumbUIComponent.apply(this,a.originalArgs),this.canvas=null,this.path=null,this.svg=null;var d=a.cssClass+&quot; &quot;+(a.originalArgs[0].cssClass||&quot;&quot;),e={style:&quot;&quot;,width:0,height:0,&quot;pointer-events&quot;:b,position:&quot;absolute&quot;};this.svg=p(&quot;svg&quot;,e),a.useDivWrapper?(this.canvas=document.createElement(&quot;div&quot;),this.canvas.style.position=&quot;absolute&quot;,jsPlumbUtil.sizeElement(this.canvas,0,0,1,1),this.canvas.className=d):(o(this.svg,{&quot;class&quot;:d}),this.canvas=this.svg),a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent),a.useDivWrapper&amp;&amp;this.canvas.appendChild(this.svg);var f=[this.canvas];return this.getDisplayElements=function(){return f},this.appendDisplayElement=function(a){f.push(a)},this.paint=function(b,d,e){if(null!=b){var f,g=[this.x,this.y],h=[this.w,this.h];null!=e&amp;&amp;(e.xmin&lt;0&amp;&amp;(g[0]+=e.xmin),e.ymin&lt;0&amp;&amp;(g[1]+=e.ymin),h[0]=e.xmax+(e.xmin&lt;0?-e.xmin:0),h[1]=e.ymax+(e.ymin&lt;0?-e.ymin:0)),a.useDivWrapper?(jsPlumbUtil.sizeElement(this.canvas,g[0],g[1],h[0],h[1]),g[0]=0,g[1]=0,f=q([0,0])):f=q([g[0],g[1]]),c.paint.apply(this,arguments),o(this.svg,{style:f,width:h[0],height:h[1]})}},{renderer:c}};jsPlumbUtil.extend(y,jsPlumb.jsPlumbUIComponent,{cleanup:function(){jsPlumbUtil.removeElement(this.canvas),this.svg=null,this.canvas=null,this.path=null}}),jsPlumb.ConnectorRenderers.svg=function(a){var b=this,c=y.apply(this,[{cssClass:a._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:&quot;none&quot;,_jsPlumb:a._jsPlumb}]);c.renderer.paint=function(c,d,e){var f=b.getSegments(),g=&quot;&quot;,h=[0,0];e.xmin&lt;0&amp;&amp;(h[0]=-e.xmin),e.ymin&lt;0&amp;&amp;(h[1]=-e.ymin);for(var i=0;i&lt;f.length;i++)g+=jsPlumb.Segments.svg.SegmentRenderer.getPath(f[i]),g+=&quot; &quot;;var j={d:g,transform:&quot;translate(&quot;+h[0]+&quot;,&quot;+h[1]+&quot;)&quot;,&quot;pointer-events&quot;:a[&quot;pointer-events&quot;]||&quot;visibleStroke&quot;},k=null,l=[b.x,b.y,b.w,b.h];if(c.outlineColor){var m=c.outlineWidth||1,n=c.lineWidth+2*m;k=jsPlumb.CurrentLibrary.extend({},c),k.strokeStyle=jsPlumbUtil.convertStyle(c.outlineColor),k.lineWidth=n,null==b.bgPath?(b.bgPath=p(&quot;path&quot;,j),x(b.svg,b.bgPath,0),b.attachListeners(b.bgPath,b)):o(b.bgPath,j),t(b.svg,b.bgPath,k,l,b)}null==b.path?(b.path=p(&quot;path&quot;,j),x(b.svg,b.path,c.outlineColor?1:0),b.attachListeners(b.path,b)):o(b.path,j),t(b.svg,b.path,c,l,b)},this.reattachListeners=function(){this.bgPath&amp;&amp;this.reattachListenersForElement(this.bgPath,this),this.path&amp;&amp;this.reattachListenersForElement(this.path,this)}},jsPlumbUtil.extend(jsPlumb.ConnectorRenderers.svg,y),jsPlumb.Segments.svg={SegmentRenderer:{getPath:function(a){return{Straight:function(){var b=a.getCoordinates();return&quot;M &quot;+b.x1+&quot; &quot;+b.y1+&quot; L &quot;+b.x2+&quot; &quot;+b.y2},Bezier:function(){var b=a.params;return&quot;M &quot;+b.x1+&quot; &quot;+b.y1+&quot; C &quot;+b.cp1x+&quot; &quot;+b.cp1y+&quot; &quot;+b.cp2x+&quot; &quot;+b.cp2y+&quot; &quot;+b.x2+&quot; &quot;+b.y2},Arc:function(){var b=a.params,c=a.sweep&gt;Math.PI?1:0,d=a.anticlockwise?0:1;return&quot;M&quot;+a.x1+&quot; &quot;+a.y1+&quot; A &quot;+a.radius+&quot; &quot;+b.r+&quot; 0 &quot;+c+&quot;,&quot;+d+&quot; &quot;+a.x2+&quot; &quot;+a.y2}}[a.type]()}}};var z=window.SvgEndpoint=function(a){var b=y.apply(this,[{cssClass:a._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:&quot;all&quot;,useDivWrapper:!0,_jsPlumb:a._jsPlumb}]);b.renderer.paint=function(a){var b=jsPlumb.extend({},a);b.outlineColor&amp;&amp;(b.strokeWidth=b.outlineWidth,b.strokeStyle=jsPlumbUtil.convertStyle(b.outlineColor,!0)),null==this.node?(this.node=this.makeNode(b),this.svg.appendChild(this.node),this.attachListeners(this.node,this)):null!=this.updateNode&amp;&amp;this.updateNode(this.node),t(this.svg,this.node,b,[this.x,this.y,this.w,this.h],this),q(this.node,[this.x,this.y])}.bind(this)};jsPlumbUtil.extend(z,y,{reattachListeners:function(){this.node&amp;&amp;this.reattachListenersForElement(this.node,this)}}),jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments),z.apply(this,arguments),this.makeNode=function(){return p(&quot;circle&quot;,{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(a){o(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}},jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Dot,[jsPlumb.Endpoints.Dot,z]),jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments),z.apply(this,arguments),this.makeNode=function(){return p(&quot;rect&quot;,{width:this.w,height:this.h})},this.updateNode=function(a){o(a,{width:this.w,height:this.h})}},jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Rectangle,[jsPlumb.Endpoints.Rectangle,z]),jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom;var A=function(a,b){a.apply(this,b),jsPlumb.jsPlumbUIComponent.apply(this,b),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(a,d){if(a.component.svg&amp;&amp;d){null==this.path&amp;&amp;(this.path=p(&quot;path&quot;,{&quot;pointer-events&quot;:&quot;all&quot;}),a.component.svg.appendChild(this.path),this.attachListeners(this.path,a.component),this.attachListeners(this.path,this));var e=b&amp;&amp;1==b.length?b[0].cssClass||&quot;&quot;:&quot;&quot;,f=[0,0];d.xmin&lt;0&amp;&amp;(f[0]=-d.xmin),d.ymin&lt;0&amp;&amp;(f[1]=-d.ymin),o(this.path,{d:c(a.d),&quot;class&quot;:e,stroke:a.strokeStyle?a.strokeStyle:null,fill:a.fillStyle?a.fillStyle:null,transform:&quot;translate(&quot;+f[0]+&quot;,&quot;+f[1]+&quot;)&quot;})}};var c=function(a){return&quot;M&quot;+a.hxy.x+&quot;,&quot;+a.hxy.y+&quot; L&quot;+a.tail[0].x+&quot;,&quot;+a.tail[0].y+&quot; L&quot;+a.cxy.x+&quot;,&quot;+a.cxy.y+&quot; L&quot;+a.tail[1].x+&quot;,&quot;+a.tail[1].y+&quot; L&quot;+a.hxy.x+&quot;,&quot;+a.hxy.y};this.reattachListeners=function(){this.path&amp;&amp;this.reattachListenersForElement(this.path,this)}};jsPlumbUtil.extend(A,jsPlumb.jsPlumbUIComponent,{cleanup:function(){null!=this.path&amp;&amp;jsPlumb.CurrentLibrary.removeElement(this.path)}}),jsPlumb.Overlays.svg.Arrow=function(){A.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.svg.Arrow,[jsPlumb.Overlays.Arrow,A]),jsPlumb.Overlays.svg.PlainArrow=function(){A.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.svg.PlainArrow,[jsPlumb.Overlays.PlainArrow,A]),jsPlumb.Overlays.svg.Diamond=function(){A.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.svg.Diamond,[jsPlumb.Overlays.Diamond,A]),jsPlumb.Overlays.svg.GuideLines=function(){var a,b,c=null,d=this;jsPlumb.Overlays.GuideLines.apply(this,arguments),this.paint=function(f,g){null==c&amp;&amp;(c=p(&quot;path&quot;),f.connector.svg.appendChild(c),d.attachListeners(c,f.connector),d.attachListeners(c,d),a=p(&quot;path&quot;),f.connector.svg.appendChild(a),d.attachListeners(a,f.connector),d.attachListeners(a,d),b=p(&quot;path&quot;),f.connector.svg.appendChild(b),d.attachListeners(b,f.connector),d.attachListeners(b,d));var h=[0,0];g.xmin&lt;0&amp;&amp;(h[0]=-g.xmin),g.ymin&lt;0&amp;&amp;(h[1]=-g.ymin),o(c,{d:e(f.head,f.tail),stroke:&quot;red&quot;,fill:null,transform:&quot;translate(&quot;+h[0]+&quot;,&quot;+h[1]+&quot;)&quot;}),o(a,{d:e(f.tailLine[0],f.tailLine[1]),stroke:&quot;blue&quot;,fill:null,transform:&quot;translate(&quot;+h[0]+&quot;,&quot;+h[1]+&quot;)&quot;}),o(b,{d:e(f.headLine[0],f.headLine[1]),stroke:&quot;green&quot;,fill:null,transform:&quot;translate(&quot;+h[0]+&quot;,&quot;+h[1]+&quot;)&quot;})};var e=function(a,b){return&quot;M &quot;+a.x+&quot;,&quot;+a.y+&quot; L&quot;+b.x+&quot;,&quot;+b.y}},jsPlumbUtil.extend(jsPlumb.Overlays.svg.GuideLines,jsPlumb.Overlays.GuideLines)}(),function(){var a={&quot;stroke-linejoin&quot;:&quot;joinstyle&quot;,joinstyle:&quot;joinstyle&quot;,endcap:&quot;endcap&quot;,miterlimit:&quot;miterlimit&quot;},b=null;if(document.createStyleSheet&amp;&amp;document.namespaces){var c=[&quot;.jsplumb_vml&quot;,&quot;jsplumb\\:textbox&quot;,&quot;jsplumb\\:oval&quot;,&quot;jsplumb\\:rect&quot;,&quot;jsplumb\\:stroke&quot;,&quot;jsplumb\\:shape&quot;,&quot;jsplumb\\:group&quot;],d=&quot;behavior:url(#default#VML);position:absolute;&quot;;b=document.createStyleSheet();for(var e=0;e&lt;c.length;e++)b.addRule(c[e],d);document.namespaces.add(&quot;jsplumb&quot;,&quot;urn:schemas-microsoft-com:vml&quot;)}jsPlumb.vml={};var f=1e3,g=function(a,b){for(var c in b)a[c]=b[c]},h=function(a,b,c,d,e,f){c=c||{};var h=document.createElement(&quot;jsplumb:&quot;+a);return f?e.appendElement(h,d):jsPlumb.CurrentLibrary.appendElement(h,d),h.className=(c[&quot;class&quot;]?c[&quot;class&quot;]+&quot; &quot;:&quot;&quot;)+&quot;jsplumb_vml&quot;,i(h,b),g(h,c),h},i=function(a,b,c){a.style.left=b[0]+&quot;px&quot;,a.style.top=b[1]+&quot;px&quot;,a.style.width=b[2]+&quot;px&quot;,a.style.height=b[3]+&quot;px&quot;,a.style.position=&quot;absolute&quot;,c&amp;&amp;(a.style.zIndex=c)},j=jsPlumb.vml.convertValue=function(a){return Math.floor(a*f)},k=function(a,b,c,d){&quot;transparent&quot;===b?d.setOpacity(c,&quot;0.0&quot;):d.setOpacity(c,&quot;1.0&quot;)},l=function(a,b,c,d){var e={};if(b.strokeStyle){e.stroked=&quot;true&quot;;var f=jsPlumbUtil.convertStyle(b.strokeStyle,!0);e.strokecolor=f,k(e,f,&quot;stroke&quot;,c),e.strokeweight=b.lineWidth+&quot;px&quot;}else e.stroked=&quot;false&quot;;if(b.fillStyle){e.filled=&quot;true&quot;;var i=jsPlumbUtil.convertStyle(b.fillStyle,!0);e.fillcolor=i,k(e,i,&quot;fill&quot;,c)}else e.filled=&quot;false&quot;;if(b.dashstyle)null==c.strokeNode?c.strokeNode=h(&quot;stroke&quot;,[0,0,0,0],{dashstyle:b.dashstyle},a,d):c.strokeNode.dashstyle=b.dashstyle;else if(b[&quot;stroke-dasharray&quot;]&amp;&amp;b.lineWidth){for(var j=-1==b[&quot;stroke-dasharray&quot;].indexOf(&quot;,&quot;)?&quot; &quot;:&quot;,&quot;,l=b[&quot;stroke-dasharray&quot;].split(j),m=&quot;&quot;,n=0;n&lt;l.length;n++)m+=Math.floor(l[n]/b.lineWidth)+j;null==c.strokeNode?c.strokeNode=h(&quot;stroke&quot;,[0,0,0,0],{dashstyle:m},a,d):c.strokeNode.dashstyle=m}g(a,e)},m=function(){var a=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments),this.opacityNodes={stroke:null,fill:null},this.initOpacityNodes=function(b){a.opacityNodes.stroke=h(&quot;stroke&quot;,[0,0,1,1],{opacity:&quot;0.0&quot;},b,a._jsPlumb.instance),a.opacityNodes.fill=h(&quot;fill&quot;,[0,0,1,1],{opacity:&quot;0.0&quot;},b,a._jsPlumb.instance)},this.setOpacity=function(b,c){var d=a.opacityNodes[b];d&amp;&amp;(d.opacity=&quot;&quot;+c)};var b=[];this.getDisplayElements=function(){return b},this.appendDisplayElement=function(c,d){d||a.canvas.parentNode.appendChild(c),b.push(c)}};jsPlumbUtil.extend(m,jsPlumb.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&amp;&amp;jsPlumbUtil.removeElement(this.bgCanvas),jsPlumbUtil.removeElement(this.canvas)}});var n=jsPlumb.ConnectorRenderers.vml=function(b){this.strokeNode=null,this.canvas=null,m.apply(this,arguments);var c=this._jsPlumb.instance.connectorClass+(b.cssClass?&quot; &quot;+b.cssClass:&quot;&quot;);this.paint=function(d){if(null!==d){this.w=Math.max(this.w,1),this.h=Math.max(this.h,1);for(var e=this.getSegments(),j={path:&quot;&quot;},k=[this.x,this.y,this.w,this.h],m=0;m&lt;e.length;m++)j.path+=jsPlumb.Segments.vml.SegmentRenderer.getPath(e[m]),j.path+=&quot; &quot;;if(d.outlineColor){var n=d.outlineWidth||1,o=d.lineWidth+2*n,p={strokeStyle:jsPlumbUtil.convertStyle(d.outlineColor),lineWidth:o};for(var q in a)p[q]=d[q];null==this.bgCanvas?(j[&quot;class&quot;]=c,j.coordsize=k[2]*f+&quot;,&quot;+k[3]*f,this.bgCanvas=h(&quot;shape&quot;,k,j,b.parent,this._jsPlumb.instance,!0),i(this.bgCanvas,k),this.appendDisplayElement(this.bgCanvas,!0),this.attachListeners(this.bgCanvas,this),this.initOpacityNodes(this.bgCanvas,[&quot;stroke&quot;])):(j.coordsize=k[2]*f+&quot;,&quot;+k[3]*f,i(this.bgCanvas,k),g(this.bgCanvas,j)),l(this.bgCanvas,p,this)}null==this.canvas?(j[&quot;class&quot;]=c,j.coordsize=k[2]*f+&quot;,&quot;+k[3]*f,this.canvas=h(&quot;shape&quot;,k,j,b.parent,this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.attachListeners(this.canvas,this),this.initOpacityNodes(this.canvas,[&quot;stroke&quot;])):(j.coordsize=k[2]*f+&quot;,&quot;+k[3]*f,i(this.canvas,k),g(this.canvas,j)),l(this.canvas,d,this,this._jsPlumb.instance)}}};jsPlumbUtil.extend(n,m,{reattachListeners:function(){this.canvas&amp;&amp;this.reattachListenersForElement(this.canvas,this)}});var o=window.VmlEndpoint=function(a){m.apply(this,arguments),this._jsPlumb.vml=null,this.canvas=document.createElement(&quot;div&quot;),this.canvas.style.position=&quot;absolute&quot;,this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(a.cssClass?&quot; &quot;+a.cssClass:&quot;&quot;),a._jsPlumb.appendElement(this.canvas,a.parent),this.paint=function(a,b){var c={},d=this._jsPlumb.vml;jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h),null==this._jsPlumb.vml?(c[&quot;class&quot;]=this._jsPlumb.clazz,d=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],c,b,this.canvas,this._jsPlumb.instance),this.attachListeners(d,this),this.appendDisplayElement(d,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(d,[&quot;fill&quot;])):(i(d,[0,0,this.w,this.h]),g(d,c)),l(d,a,this)}};jsPlumbUtil.extend(o,m,{reattachListeners:function(){this._jsPlumb.vml&amp;&amp;this.reattachListenersForElement(this._jsPlumb.vml,this)}}),jsPlumb.Segments.vml={SegmentRenderer:{getPath:function(a){return{Straight:function(a){var b=a.params;return&quot;m&quot;+j(b.x1)+&quot;,&quot;+j(b.y1)+&quot; l&quot;+j(b.x2)+&quot;,&quot;+j(b.y2)+&quot; e&quot;},Bezier:function(a){var b=a.params;return&quot;m&quot;+j(b.x1)+&quot;,&quot;+j(b.y1)+&quot; c&quot;+j(b.cp1x)+&quot;,&quot;+j(b.cp1y)+&quot;,&quot;+j(b.cp2x)+&quot;,&quot;+j(b.cp2y)+&quot;,&quot;+j(b.x2)+&quot;,&quot;+j(b.y2)+&quot; e&quot;},Arc:function(a){var b=a.params,c=Math.min(b.x1,b.x2),d=(Math.max(b.x1,b.x2),Math.min(b.y1,b.y2)),e=(Math.max(b.y1,b.y2),a.anticlockwise?1:0),f=a.anticlockwise?&quot;at &quot;:&quot;wa &quot;,g=function(){var f=[null,[function(){return[c,d]},function(){return[c-b.r,d-b.r]}],[function(){return[c-b.r,d]},function(){return[c,d-b.r]}],[function(){return[c-b.r,d-b.r]},function(){return[c,d]}],[function(){return[c,d-b.r]},function(){return[c-b.r,d]}]][a.segment][e]();return j(f[0])+&quot;,&quot;+j(f[1])+&quot;,&quot;+j(f[0]+2*b.r)+&quot;,&quot;+j(f[1]+2*b.r)};return f+g()+&quot;,&quot;+j(b.x1)+&quot;,&quot;+j(b.y1)+&quot;,&quot;+j(b.x2)+&quot;,&quot;+j(b.y2)+&quot; e&quot;}}[a.type](a)}}},jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments),o.apply(this,arguments),this.getVml=function(a,b,c,d,e){return h(&quot;oval&quot;,a,b,d,e)}},jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Dot,o),jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments),o.apply(this,arguments),this.getVml=function(a,b,c,d,e){return h(&quot;rect&quot;,a,b,d,e)}},jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Rectangle,o),jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom;var p=function(a,b){a.apply(this,b),m.apply(this,b);var c=this;c.canvas=null,c.isAppendedAtTopLevel=!0;var d=function(a){return&quot;m &quot;+j(a.hxy.x)+&quot;,&quot;+j(a.hxy.y)+&quot; l &quot;+j(a.tail[0].x)+&quot;,&quot;+j(a.tail[0].y)+&quot; &quot;+j(a.cxy.x)+&quot;,&quot;+j(a.cxy.y)+&quot; &quot;+j(a.tail[1].x)+&quot;,&quot;+j(a.tail[1].y)+&quot; x e&quot;};this.paint=function(a){var e={},j=a.d,k=a.component;a.strokeStyle&amp;&amp;(e.stroked=&quot;true&quot;,e.strokecolor=jsPlumbUtil.convertStyle(a.strokeStyle,!0)),a.lineWidth&amp;&amp;(e.strokeweight=a.lineWidth+&quot;px&quot;),a.fillStyle&amp;&amp;(e.filled=&quot;true&quot;,e.fillcolor=a.fillStyle);var l=Math.min(j.hxy.x,j.tail[0].x,j.tail[1].x,j.cxy.x),m=Math.min(j.hxy.y,j.tail[0].y,j.tail[1].y,j.cxy.y),n=Math.max(j.hxy.x,j.tail[0].x,j.tail[1].x,j.cxy.x),o=Math.max(j.hxy.y,j.tail[0].y,j.tail[1].y,j.cxy.y),p=Math.abs(n-l),q=Math.abs(o-m),r=[l,m,p,q];if(e.path=d(j),e.coordsize=k.w*f+&quot;,&quot;+k.h*f,r[0]=k.x,r[1]=k.y,r[2]=k.w,r[3]=k.h,null==c.canvas){var s=k._jsPlumb.overlayClass||&quot;&quot;,t=b&amp;&amp;1==b.length?b[0].cssClass||&quot;&quot;:&quot;&quot;;e[&quot;class&quot;]=t+&quot; &quot;+s,c.canvas=h(&quot;shape&quot;,r,e,k.canvas.parentNode,k._jsPlumb.instance,!0),k.appendDisplayElement(c.canvas,!0),c.attachListeners(c.canvas,k),c.attachListeners(c.canvas,c)}else i(c.canvas,r),g(c.canvas,e)},this.reattachListeners=function(){c.canvas&amp;&amp;c.reattachListenersForElement(c.canvas,c)},this.cleanup=function(){null!=c.canvas&amp;&amp;jsPlumb.CurrentLibrary.removeElement(c.canvas)}};jsPlumbUtil.extend(p,m),jsPlumb.Overlays.vml.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.vml.Arrow,[jsPlumb.Overlays.Arrow,p]),jsPlumb.Overlays.vml.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.vml.PlainArrow,[jsPlumb.Overlays.PlainArrow,p]),jsPlumb.Overlays.vml.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.vml.Diamond,[jsPlumb.Overlays.Diamond,p])}(),function(a){var b=function(b){return&quot;string&quot;==typeof b?a(&quot;#&quot;+b):a(b)};jsPlumb.CurrentLibrary={addClass:function(a,c){a=b(a);try{a[0].className.constructor==SVGAnimatedString&amp;&amp;jsPlumbUtil.svg.addClass(a[0],c)}catch(d){}try{a.addClass(c)}catch(d){}},animate:function(a,b,c){a.animate(b,c)},appendElement:function(a,c){b(c).append(a)},ajax:function(b){b=b||{},b.type=b.type||&quot;get&quot;,a.ajax(b)},bind:function(a,c,d){a=b(a),a.bind(c,d)},destroyDraggable:function(b){a(b).data(&quot;draggable&quot;)&amp;&amp;a(b).draggable(&quot;destroy&quot;)},destroyDroppable:function(b){a(b).data(&quot;droppable&quot;)&amp;&amp;a(b).droppable(&quot;destroy&quot;)},dragEvents:{start:&quot;start&quot;,stop:&quot;stop&quot;,drag:&quot;drag&quot;,step:&quot;step&quot;,over:&quot;over&quot;,out:&quot;out&quot;,drop:&quot;drop&quot;,complete:&quot;complete&quot;},extend:function(b,c){return a.extend(b,c)},getClientXY:function(a){return[a.clientX,a.clientY]},getDragObject:function(a){return a[1].draggable||a[1].helper</div><div class='line' id='LC6'>},getDragScope:function(b){return a(b).draggable(&quot;option&quot;,&quot;scope&quot;)},getDropEvent:function(a){return a[0]},getDropScope:function(b){return a(b).droppable(&quot;option&quot;,&quot;scope&quot;)},getDOMElement:function(a){return null==a?null:&quot;string&quot;==typeof a?document.getElementById(a):a.context||null!=a.length?a[0]:a},getElementObject:b,getOffset:function(a){return a.offset()},getOriginalEvent:function(a){return a.originalEvent},getPageXY:function(a){return[a.pageX,a.pageY]},getParent:function(a){return b(a).parent()},getScrollLeft:function(a){return a.scrollLeft()},getScrollTop:function(a){return a.scrollTop()},getSelector:function(c,d){return 2==arguments.length?b(c).find(d):a(c)},getSize:function(b){return b=a(b),[b.outerWidth(),b.outerHeight()]},getTagName:function(a){var c=b(a);return c.length&gt;0?c[0].tagName:null},getUIPosition:function(a,b){if(b=b||1,1==a.length)ret={left:a[0].pageX,top:a[0].pageY};else{var c=a[1],d=c.offset;ret=d||c.absolutePosition,c.position.left/=b,c.position.top/=b}return{left:ret.left/b,top:ret.top/b}},hasClass:function(a,b){return a.hasClass(b)},initDraggable:function(b,c,d,e){c=c||{},b=a(b),c.start=jsPlumbUtil.wrap(c.start,function(){a(&quot;body&quot;).addClass(e.dragSelectClass)},!1),c.stop=jsPlumbUtil.wrap(c.stop,function(){a(&quot;body&quot;).removeClass(e.dragSelectClass)}),c.doNotRemoveHelper||(c.helper=null),d&amp;&amp;(c.scope=c.scope||jsPlumb.Defaults.Scope),b.draggable(c)},initDroppable:function(b,c){c.scope=c.scope||jsPlumb.Defaults.Scope,a(b).droppable(c)},isAlreadyDraggable:function(b){return a(b).hasClass(&quot;ui-draggable&quot;)},isDragSupported:function(b){return a(b).draggable},isDropSupported:function(b){return a(b).droppable},removeClass:function(a,c){a=b(a);try{if(a[0].className.constructor==SVGAnimatedString)return jsPlumbUtil.svg.removeClass(a[0],c),void 0}catch(d){}a.removeClass(c)},removeElement:function(a){b(a).remove()},setDragFilter:function(a,b){jsPlumb.CurrentLibrary.isAlreadyDraggable(a)&amp;&amp;a.draggable(&quot;option&quot;,&quot;cancel&quot;,b)},setDraggable:function(a,b){a.draggable(&quot;option&quot;,&quot;disabled&quot;,!b)},setDragScope:function(a,b){a.draggable(&quot;option&quot;,&quot;scope&quot;,b)},setOffset:function(a,c){b(a).offset(c)},trigger:function(a,c,d){var e=jQuery._data(b(a)[0],&quot;handle&quot;);e(d)},unbind:function(a,c,d){a=b(a),a.unbind(c,d)}},a(document).ready(jsPlumb.init)}(jQuery);</div>
            </td>
          </tr>
        </table>
  </div>

  </div>
</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" class="js-jump-to-line" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <form accept-charset="UTF-8" class="js-jump-to-line-form">
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" autofocus>
    <button type="submit" class="button">Go</button>
  </form>
</div>

        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com">API</a></li>
      <li><a href="http://training.github.com">Training</a></li>
      <li><a href="http://shop.github.com">Shop</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>

    </ul>

    <a href="/">
      <span class="mega-octicon octicon-mark-github"></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2013 <span title="0.08263s from github-fe122-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="/site/terms">Terms</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
        <li><a href="/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
          <div class="suggester-container">
              <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester"
                 data-url="/sporritt/jsPlumb/suggestions/commit">
              </div>
          </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped leftwards" title="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped leftwards"
      title="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-remove-close close ajax-error-dismiss"></a>
      Something went wrong with that request. Please try again.
    </div>

    
  </body>
</html>

